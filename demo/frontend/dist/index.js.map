{
  "version": 3,
  "sources": ["<define:__slib_info>", "../../../node_modules/regex-parser/lib/index.js", "../src/index.js", "../../../node_modules/chalk/source/index.js", "../../../node_modules/chalk/source/vendor/ansi-styles/index.js", "../../../node_modules/chalk/source/vendor/supports-color/browser.js", "../../../node_modules/chalk/source/utilities.js", "../../../node_modules/@randajan/simple-lib/src/tools/logger.js", "../../../node_modules/@randajan/simple-lib/src/info/index.js", "../../../node_modules/@randajan/simple-lib/src/web/index.js", "../../../node_modules/socket.io-client/build/esm/index.js", "../../../node_modules/socket.io-client/build/esm/url.js", "../../../node_modules/engine.io-client/build/esm/index.js", "../../../node_modules/engine.io-client/build/esm/socket.js", "../../../node_modules/engine.io-client/build/esm/transports/index.js", "../../../node_modules/engine.io-client/build/esm/transports/polling-xhr.js", "../../../node_modules/engine.io-client/build/esm/transports/polling.js", "../../../node_modules/engine.io-client/build/esm/transport.js", "../../../node_modules/engine.io-parser/build/esm/index.js", "../../../node_modules/engine.io-parser/build/esm/encodePacket.browser.js", "../../../node_modules/engine.io-parser/build/esm/commons.js", "../../../node_modules/engine.io-parser/build/esm/decodePacket.browser.js", "../../../node_modules/engine.io-parser/build/esm/contrib/base64-arraybuffer.js", "../../../node_modules/@socket.io/component-emitter/lib/esm/index.js", "../../../node_modules/engine.io-client/build/esm/util.js", "../../../node_modules/engine.io-client/build/esm/globals.js", "../../../node_modules/engine.io-client/build/esm/contrib/parseqs.js", "../../../node_modules/engine.io-client/build/esm/contrib/has-cors.js", "../../../node_modules/engine.io-client/build/esm/transports/websocket.js", "../../../node_modules/engine.io-client/build/esm/transports/webtransport.js", "../../../node_modules/engine.io-client/build/esm/contrib/parseuri.js", "../../../node_modules/engine.io-client/build/esm/transports/polling-fetch.js", "../../../node_modules/socket.io-client/build/esm/manager.js", "../../../node_modules/socket.io-client/build/esm/socket.js", "../../../node_modules/socket.io-parser/build/esm/index.js", "../../../node_modules/socket.io-parser/build/esm/binary.js", "../../../node_modules/socket.io-parser/build/esm/is-binary.js", "../../../node_modules/socket.io-client/build/esm/on.js", "../../../node_modules/socket.io-client/build/esm/contrib/backo2.js", "../../../node_modules/@randajan/queue/src/tools.js", "../../../node_modules/@randajan/queue/src/index.js", "../../../node_modules/@randajan/bifrost/src/arc/tools.js", "../../../node_modules/@randajan/bifrost/src/arc/beam/helpers.js", "../../../node_modules/@randajan/bifrost/src/arc/beam/Beam.js", "../../../node_modules/@randajan/bifrost/src/client/router/ClientRouter.js", "../../../node_modules/@randajan/bifrost/src/client/index.js", "../../../node_modules/@randajan/jet-core/dist/index.js", "../../../node_modules/@randajan/jet-core/src/class/extra/Plex.js", "../../../node_modules/@randajan/jet-core/src/defs/base.js", "../../../node_modules/@randajan/jet-core/src/defs/methods.js", "../../../node_modules/@randajan/jet-core/src/defs/define.js", "../../../node_modules/@randajan/jet-core/src/defs/extra/props.js", "../../../node_modules/@randajan/jet-core/src/defs/extra/pile.js", "../../../node_modules/@randajan/jet-core/src/defs/extra/dot.js", "../../../node_modules/@randajan/jet-core/src/defs/index.js", "../../../node_modules/@randajan/jet-core/src/class/native/Number.js", "../../../node_modules/@randajan/jet-core/src/class/native/Array.js", "../../../node_modules/@randajan/jet-core/src/class/native/Boolean.js", "../../../node_modules/@randajan/jet-core/src/class/native/Date.js", "../../../node_modules/@randajan/jet-core/src/class/native/Error.js", "../../../node_modules/@randajan/jet-core/src/class/native/Function.js", "../../../node_modules/@randajan/jet-core/src/class/native/Map.js", "../../../node_modules/@randajan/jet-core/src/class/native/NaN.js", "../../../node_modules/@randajan/jet-core/src/class/native/Object.js", "../../../node_modules/@randajan/jet-core/src/class/native/Promise.js", "../../../node_modules/@randajan/jet-core/src/class/native/RegExp.js", "../../../node_modules/@randajan/jet-core/src/class/native/Set.js", "../../../node_modules/@randajan/jet-core/src/class/native/String.js", "../../../node_modules/@randajan/jet-core/src/class/native/Symbol.js", "../../../node_modules/@randajan/jet-core/src/class/native/WeakMap.js", "../../../node_modules/@randajan/jet-core/src/index.js", "../../../src/components/uni/consts.js", "../../../dist/chunk-JC4IRQUL.js", "../../../node_modules/@randajan/props/dist/esm/index.mjs", "../../../node_modules/@randajan/function-parser/src/main/_tools.js", "../../../node_modules/@randajan/function-parser/src/main/arguments.js", "../../../node_modules/@randajan/function-parser/src/main/toStr.js", "../../../node_modules/@randajan/function-parser/src/main/toFn.js", "../../../src/components/uni/formats.js", "../../../src/v3/class/Chop/Chop.js", "../../../src/v3/tools/traits/uni.js", "../../../src/v3/class/Task/Fails.js", "../../../src/v3/tools/traits/strings.js", "../../../src/v3/class/Chop/static/sync.js", "../../../src/v3/tools/traits/booleans.js", "../../../src/v3/class/SuperMap/SuperMap.js", "../../../src/v3/class/Effects/Effects.js", "../../../src/v3/class/Effects/Fits.js", "../../../src/v3/class/Record/Record.js", "../../../src/v3/class/Task/Task.js", "../../../src/v3/class/Record/RecordPrivate.js", "../../../src/v3/tools/traits/functions.js", "../../../src/v3/tools/index.js", "../../../src/v3/tools/traits/dates.js", "../../../src/v3/tools/traits/numbers.js", "../../../src/v3/tools/traits/objects.js", "../../../src/v3/tools/traits/regexp.js", "../../../dist/v3/import-glob:./traits/*", "../../../src/v3/metaData/interface.js", "../../../src/v3/metaData/methods.js", "../../../src/v3/class/Turn/Turn.js", "../../../src/v3/class/Record/static/_columns.js", "../../../src/v3/class/Record/static/add.js", "../../../src/v3/class/Record/static/addOr.js", "../../../src/v3/class/Record/static/update.js", "../../../src/v3/class/Record/static/remove.js", "../../../src/v3/class/Record/static/_ents.js", "../../../src/v3/class/DB/dbInit.js", "../../../src/v3/class/DB/DB.js"],
  "sourcesContent": ["", "\"use strict\";\n\n/**\n * RegexParser\n * Parses a string input.\n *\n * @name RegexParser\n * @function\n * @param {String} input The string input that should be parsed as regular\n * expression.\n * @return {RegExp} The parsed regular expression.\n */\nvar RegexParser = module.exports = function (input) {\n    // Validate input\n    if (typeof input !== \"string\") {\n        throw new Error(\"Invalid input. Input must be a string\");\n    }\n\n    // Parse input\n    var m = input.match(/(\\/?)(.+)\\1([a-z]*)/i);\n\n    // If there's no match, throw an error\n    if (!m) {\n        throw new Error(\"Invalid regular expression format.\");\n    }\n\n    // Filter valid flags: 'g', 'i', 'm', 's', 'u', and 'y'\n    var validFlags = Array.from(new Set(m[3])).filter(function (flag) {\n        return \"gimsuy\".includes(flag);\n    }).join(\"\");\n\n    // Create the regular expression\n    return new RegExp(m[2], validFlags);\n};", "import { info } from \"@randajan/simple-lib/web\";\n\nimport socketIOClient from \"socket.io-client\";\nimport { BifrostRouter } from \"@randajan/bifrost/client\";\n\nimport { DB } from \"../../../dist/v3/index\";\n\nconst socket = socketIOClient(`localhost:${info.port+1}`);\nexport const bifrost = new BifrostRouter(socket);\n\nconst beam = window.beam = bifrost.createBeam(\"data\");\n\nbeam.get().then(data=>{\n    const db = window.db = new DB(\"db\", {\n        data,\n        save:(entName, recId, rec)=>{\n            if (rec) {\n                const ent = data[entName] || (data[entName] = {}); \n                ent[recId] = rec;\n            } else if (data[entName]) {\n                const ent = data[entName];\n                delete ent[recId];\n            }\n            console.log(data);\n            beam.set(data);\n        }\n    });\n\n    db.fit((next, event, process)=>{\n        console.log(\"FIT\", event, process);\n        return next();\n    });\n\n});\n\n\n", "import ansiStyles from '#ansi-styles';\nimport supportsColor from '#supports-color';\nimport { // eslint-disable-line import/order\n\tstringReplaceAll,\n\tstringEncaseCRLFWithFirstIndex,\n} from './utilities.js';\n\nconst {stdout: stdoutColor, stderr: stderrColor} = supportsColor;\n\nconst GENERATOR = Symbol('GENERATOR');\nconst STYLER = Symbol('STYLER');\nconst IS_EMPTY = Symbol('IS_EMPTY');\n\n// `supportsColor.level` \u2192 `ansiStyles.color[name]` mapping\nconst levelMapping = [\n\t'ansi',\n\t'ansi',\n\t'ansi256',\n\t'ansi16m',\n];\n\nconst styles = Object.create(null);\n\nconst applyOptions = (object, options = {}) => {\n\tif (options.level && !(Number.isInteger(options.level) && options.level >= 0 && options.level <= 3)) {\n\t\tthrow new Error('The `level` option should be an integer from 0 to 3');\n\t}\n\n\t// Detect level if not set manually\n\tconst colorLevel = stdoutColor ? stdoutColor.level : 0;\n\tobject.level = options.level === undefined ? colorLevel : options.level;\n};\n\nexport class Chalk {\n\tconstructor(options) {\n\t\t// eslint-disable-next-line no-constructor-return\n\t\treturn chalkFactory(options);\n\t}\n}\n\nconst chalkFactory = options => {\n\tconst chalk = (...strings) => strings.join(' ');\n\tapplyOptions(chalk, options);\n\n\tObject.setPrototypeOf(chalk, createChalk.prototype);\n\n\treturn chalk;\n};\n\nfunction createChalk(options) {\n\treturn chalkFactory(options);\n}\n\nObject.setPrototypeOf(createChalk.prototype, Function.prototype);\n\nfor (const [styleName, style] of Object.entries(ansiStyles)) {\n\tstyles[styleName] = {\n\t\tget() {\n\t\t\tconst builder = createBuilder(this, createStyler(style.open, style.close, this[STYLER]), this[IS_EMPTY]);\n\t\t\tObject.defineProperty(this, styleName, {value: builder});\n\t\t\treturn builder;\n\t\t},\n\t};\n}\n\nstyles.visible = {\n\tget() {\n\t\tconst builder = createBuilder(this, this[STYLER], true);\n\t\tObject.defineProperty(this, 'visible', {value: builder});\n\t\treturn builder;\n\t},\n};\n\nconst getModelAnsi = (model, level, type, ...arguments_) => {\n\tif (model === 'rgb') {\n\t\tif (level === 'ansi16m') {\n\t\t\treturn ansiStyles[type].ansi16m(...arguments_);\n\t\t}\n\n\t\tif (level === 'ansi256') {\n\t\t\treturn ansiStyles[type].ansi256(ansiStyles.rgbToAnsi256(...arguments_));\n\t\t}\n\n\t\treturn ansiStyles[type].ansi(ansiStyles.rgbToAnsi(...arguments_));\n\t}\n\n\tif (model === 'hex') {\n\t\treturn getModelAnsi('rgb', level, type, ...ansiStyles.hexToRgb(...arguments_));\n\t}\n\n\treturn ansiStyles[type][model](...arguments_);\n};\n\nconst usedModels = ['rgb', 'hex', 'ansi256'];\n\nfor (const model of usedModels) {\n\tstyles[model] = {\n\t\tget() {\n\t\t\tconst {level} = this;\n\t\t\treturn function (...arguments_) {\n\t\t\t\tconst styler = createStyler(getModelAnsi(model, levelMapping[level], 'color', ...arguments_), ansiStyles.color.close, this[STYLER]);\n\t\t\t\treturn createBuilder(this, styler, this[IS_EMPTY]);\n\t\t\t};\n\t\t},\n\t};\n\n\tconst bgModel = 'bg' + model[0].toUpperCase() + model.slice(1);\n\tstyles[bgModel] = {\n\t\tget() {\n\t\t\tconst {level} = this;\n\t\t\treturn function (...arguments_) {\n\t\t\t\tconst styler = createStyler(getModelAnsi(model, levelMapping[level], 'bgColor', ...arguments_), ansiStyles.bgColor.close, this[STYLER]);\n\t\t\t\treturn createBuilder(this, styler, this[IS_EMPTY]);\n\t\t\t};\n\t\t},\n\t};\n}\n\nconst proto = Object.defineProperties(() => {}, {\n\t...styles,\n\tlevel: {\n\t\tenumerable: true,\n\t\tget() {\n\t\t\treturn this[GENERATOR].level;\n\t\t},\n\t\tset(level) {\n\t\t\tthis[GENERATOR].level = level;\n\t\t},\n\t},\n});\n\nconst createStyler = (open, close, parent) => {\n\tlet openAll;\n\tlet closeAll;\n\tif (parent === undefined) {\n\t\topenAll = open;\n\t\tcloseAll = close;\n\t} else {\n\t\topenAll = parent.openAll + open;\n\t\tcloseAll = close + parent.closeAll;\n\t}\n\n\treturn {\n\t\topen,\n\t\tclose,\n\t\topenAll,\n\t\tcloseAll,\n\t\tparent,\n\t};\n};\n\nconst createBuilder = (self, _styler, _isEmpty) => {\n\t// Single argument is hot path, implicit coercion is faster than anything\n\t// eslint-disable-next-line no-implicit-coercion\n\tconst builder = (...arguments_) => applyStyle(builder, (arguments_.length === 1) ? ('' + arguments_[0]) : arguments_.join(' '));\n\n\t// We alter the prototype because we must return a function, but there is\n\t// no way to create a function with a different prototype\n\tObject.setPrototypeOf(builder, proto);\n\n\tbuilder[GENERATOR] = self;\n\tbuilder[STYLER] = _styler;\n\tbuilder[IS_EMPTY] = _isEmpty;\n\n\treturn builder;\n};\n\nconst applyStyle = (self, string) => {\n\tif (self.level <= 0 || !string) {\n\t\treturn self[IS_EMPTY] ? '' : string;\n\t}\n\n\tlet styler = self[STYLER];\n\n\tif (styler === undefined) {\n\t\treturn string;\n\t}\n\n\tconst {openAll, closeAll} = styler;\n\tif (string.includes('\\u001B')) {\n\t\twhile (styler !== undefined) {\n\t\t\t// Replace any instances already present with a re-opening code\n\t\t\t// otherwise only the part of the string until said closing code\n\t\t\t// will be colored, and the rest will simply be 'plain'.\n\t\t\tstring = stringReplaceAll(string, styler.close, styler.open);\n\n\t\t\tstyler = styler.parent;\n\t\t}\n\t}\n\n\t// We can move both next actions out of loop, because remaining actions in loop won't have\n\t// any/visible effect on parts we add here. Close the styling before a linebreak and reopen\n\t// after next line to fix a bleed issue on macOS: https://github.com/chalk/chalk/pull/92\n\tconst lfIndex = string.indexOf('\\n');\n\tif (lfIndex !== -1) {\n\t\tstring = stringEncaseCRLFWithFirstIndex(string, closeAll, openAll, lfIndex);\n\t}\n\n\treturn openAll + string + closeAll;\n};\n\nObject.defineProperties(createChalk.prototype, styles);\n\nconst chalk = createChalk();\nexport const chalkStderr = createChalk({level: stderrColor ? stderrColor.level : 0});\n\nexport {\n\tmodifierNames,\n\tforegroundColorNames,\n\tbackgroundColorNames,\n\tcolorNames,\n\n\t// TODO: Remove these aliases in the next major version\n\tmodifierNames as modifiers,\n\tforegroundColorNames as foregroundColors,\n\tbackgroundColorNames as backgroundColors,\n\tcolorNames as colors,\n} from './vendor/ansi-styles/index.js';\n\nexport {\n\tstdoutColor as supportsColor,\n\tstderrColor as supportsColorStderr,\n};\n\nexport default chalk;\n", "const ANSI_BACKGROUND_OFFSET = 10;\n\nconst wrapAnsi16 = (offset = 0) => code => `\\u001B[${code + offset}m`;\n\nconst wrapAnsi256 = (offset = 0) => code => `\\u001B[${38 + offset};5;${code}m`;\n\nconst wrapAnsi16m = (offset = 0) => (red, green, blue) => `\\u001B[${38 + offset};2;${red};${green};${blue}m`;\n\nconst styles = {\n\tmodifier: {\n\t\treset: [0, 0],\n\t\t// 21 isn't widely supported and 22 does the same thing\n\t\tbold: [1, 22],\n\t\tdim: [2, 22],\n\t\titalic: [3, 23],\n\t\tunderline: [4, 24],\n\t\toverline: [53, 55],\n\t\tinverse: [7, 27],\n\t\thidden: [8, 28],\n\t\tstrikethrough: [9, 29],\n\t},\n\tcolor: {\n\t\tblack: [30, 39],\n\t\tred: [31, 39],\n\t\tgreen: [32, 39],\n\t\tyellow: [33, 39],\n\t\tblue: [34, 39],\n\t\tmagenta: [35, 39],\n\t\tcyan: [36, 39],\n\t\twhite: [37, 39],\n\n\t\t// Bright color\n\t\tblackBright: [90, 39],\n\t\tgray: [90, 39], // Alias of `blackBright`\n\t\tgrey: [90, 39], // Alias of `blackBright`\n\t\tredBright: [91, 39],\n\t\tgreenBright: [92, 39],\n\t\tyellowBright: [93, 39],\n\t\tblueBright: [94, 39],\n\t\tmagentaBright: [95, 39],\n\t\tcyanBright: [96, 39],\n\t\twhiteBright: [97, 39],\n\t},\n\tbgColor: {\n\t\tbgBlack: [40, 49],\n\t\tbgRed: [41, 49],\n\t\tbgGreen: [42, 49],\n\t\tbgYellow: [43, 49],\n\t\tbgBlue: [44, 49],\n\t\tbgMagenta: [45, 49],\n\t\tbgCyan: [46, 49],\n\t\tbgWhite: [47, 49],\n\n\t\t// Bright color\n\t\tbgBlackBright: [100, 49],\n\t\tbgGray: [100, 49], // Alias of `bgBlackBright`\n\t\tbgGrey: [100, 49], // Alias of `bgBlackBright`\n\t\tbgRedBright: [101, 49],\n\t\tbgGreenBright: [102, 49],\n\t\tbgYellowBright: [103, 49],\n\t\tbgBlueBright: [104, 49],\n\t\tbgMagentaBright: [105, 49],\n\t\tbgCyanBright: [106, 49],\n\t\tbgWhiteBright: [107, 49],\n\t},\n};\n\nexport const modifierNames = Object.keys(styles.modifier);\nexport const foregroundColorNames = Object.keys(styles.color);\nexport const backgroundColorNames = Object.keys(styles.bgColor);\nexport const colorNames = [...foregroundColorNames, ...backgroundColorNames];\n\nfunction assembleStyles() {\n\tconst codes = new Map();\n\n\tfor (const [groupName, group] of Object.entries(styles)) {\n\t\tfor (const [styleName, style] of Object.entries(group)) {\n\t\t\tstyles[styleName] = {\n\t\t\t\topen: `\\u001B[${style[0]}m`,\n\t\t\t\tclose: `\\u001B[${style[1]}m`,\n\t\t\t};\n\n\t\t\tgroup[styleName] = styles[styleName];\n\n\t\t\tcodes.set(style[0], style[1]);\n\t\t}\n\n\t\tObject.defineProperty(styles, groupName, {\n\t\t\tvalue: group,\n\t\t\tenumerable: false,\n\t\t});\n\t}\n\n\tObject.defineProperty(styles, 'codes', {\n\t\tvalue: codes,\n\t\tenumerable: false,\n\t});\n\n\tstyles.color.close = '\\u001B[39m';\n\tstyles.bgColor.close = '\\u001B[49m';\n\n\tstyles.color.ansi = wrapAnsi16();\n\tstyles.color.ansi256 = wrapAnsi256();\n\tstyles.color.ansi16m = wrapAnsi16m();\n\tstyles.bgColor.ansi = wrapAnsi16(ANSI_BACKGROUND_OFFSET);\n\tstyles.bgColor.ansi256 = wrapAnsi256(ANSI_BACKGROUND_OFFSET);\n\tstyles.bgColor.ansi16m = wrapAnsi16m(ANSI_BACKGROUND_OFFSET);\n\n\t// From https://github.com/Qix-/color-convert/blob/3f0e0d4e92e235796ccb17f6e85c72094a651f49/conversions.js\n\tObject.defineProperties(styles, {\n\t\trgbToAnsi256: {\n\t\t\tvalue(red, green, blue) {\n\t\t\t\t// We use the extended greyscale palette here, with the exception of\n\t\t\t\t// black and white. normal palette only has 4 greyscale shades.\n\t\t\t\tif (red === green && green === blue) {\n\t\t\t\t\tif (red < 8) {\n\t\t\t\t\t\treturn 16;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (red > 248) {\n\t\t\t\t\t\treturn 231;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn Math.round(((red - 8) / 247) * 24) + 232;\n\t\t\t\t}\n\n\t\t\t\treturn 16\n\t\t\t\t\t+ (36 * Math.round(red / 255 * 5))\n\t\t\t\t\t+ (6 * Math.round(green / 255 * 5))\n\t\t\t\t\t+ Math.round(blue / 255 * 5);\n\t\t\t},\n\t\t\tenumerable: false,\n\t\t},\n\t\thexToRgb: {\n\t\t\tvalue(hex) {\n\t\t\t\tconst matches = /[a-f\\d]{6}|[a-f\\d]{3}/i.exec(hex.toString(16));\n\t\t\t\tif (!matches) {\n\t\t\t\t\treturn [0, 0, 0];\n\t\t\t\t}\n\n\t\t\t\tlet [colorString] = matches;\n\n\t\t\t\tif (colorString.length === 3) {\n\t\t\t\t\tcolorString = [...colorString].map(character => character + character).join('');\n\t\t\t\t}\n\n\t\t\t\tconst integer = Number.parseInt(colorString, 16);\n\n\t\t\t\treturn [\n\t\t\t\t\t/* eslint-disable no-bitwise */\n\t\t\t\t\t(integer >> 16) & 0xFF,\n\t\t\t\t\t(integer >> 8) & 0xFF,\n\t\t\t\t\tinteger & 0xFF,\n\t\t\t\t\t/* eslint-enable no-bitwise */\n\t\t\t\t];\n\t\t\t},\n\t\t\tenumerable: false,\n\t\t},\n\t\thexToAnsi256: {\n\t\t\tvalue: hex => styles.rgbToAnsi256(...styles.hexToRgb(hex)),\n\t\t\tenumerable: false,\n\t\t},\n\t\tansi256ToAnsi: {\n\t\t\tvalue(code) {\n\t\t\t\tif (code < 8) {\n\t\t\t\t\treturn 30 + code;\n\t\t\t\t}\n\n\t\t\t\tif (code < 16) {\n\t\t\t\t\treturn 90 + (code - 8);\n\t\t\t\t}\n\n\t\t\t\tlet red;\n\t\t\t\tlet green;\n\t\t\t\tlet blue;\n\n\t\t\t\tif (code >= 232) {\n\t\t\t\t\tred = (((code - 232) * 10) + 8) / 255;\n\t\t\t\t\tgreen = red;\n\t\t\t\t\tblue = red;\n\t\t\t\t} else {\n\t\t\t\t\tcode -= 16;\n\n\t\t\t\t\tconst remainder = code % 36;\n\n\t\t\t\t\tred = Math.floor(code / 36) / 5;\n\t\t\t\t\tgreen = Math.floor(remainder / 6) / 5;\n\t\t\t\t\tblue = (remainder % 6) / 5;\n\t\t\t\t}\n\n\t\t\t\tconst value = Math.max(red, green, blue) * 2;\n\n\t\t\t\tif (value === 0) {\n\t\t\t\t\treturn 30;\n\t\t\t\t}\n\n\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\tlet result = 30 + ((Math.round(blue) << 2) | (Math.round(green) << 1) | Math.round(red));\n\n\t\t\t\tif (value === 2) {\n\t\t\t\t\tresult += 60;\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\tenumerable: false,\n\t\t},\n\t\trgbToAnsi: {\n\t\t\tvalue: (red, green, blue) => styles.ansi256ToAnsi(styles.rgbToAnsi256(red, green, blue)),\n\t\t\tenumerable: false,\n\t\t},\n\t\thexToAnsi: {\n\t\t\tvalue: hex => styles.ansi256ToAnsi(styles.hexToAnsi256(hex)),\n\t\t\tenumerable: false,\n\t\t},\n\t});\n\n\treturn styles;\n}\n\nconst ansiStyles = assembleStyles();\n\nexport default ansiStyles;\n", "/* eslint-env browser */\n\nconst level = (() => {\n\tif (navigator.userAgentData) {\n\t\tconst brand = navigator.userAgentData.brands.find(({brand}) => brand === 'Chromium');\n\t\tif (brand && brand.version > 93) {\n\t\t\treturn 3;\n\t\t}\n\t}\n\n\tif (/\\b(Chrome|Chromium)\\//.test(navigator.userAgent)) {\n\t\treturn 1;\n\t}\n\n\treturn 0;\n})();\n\nconst colorSupport = level !== 0 && {\n\tlevel,\n\thasBasic: true,\n\thas256: level >= 2,\n\thas16m: level >= 3,\n};\n\nconst supportsColor = {\n\tstdout: colorSupport,\n\tstderr: colorSupport,\n};\n\nexport default supportsColor;\n", "// TODO: When targeting Node.js 16, use `String.prototype.replaceAll`.\nexport function stringReplaceAll(string, substring, replacer) {\n\tlet index = string.indexOf(substring);\n\tif (index === -1) {\n\t\treturn string;\n\t}\n\n\tconst substringLength = substring.length;\n\tlet endIndex = 0;\n\tlet returnValue = '';\n\tdo {\n\t\treturnValue += string.slice(endIndex, index) + substring + replacer;\n\t\tendIndex = index + substringLength;\n\t\tindex = string.indexOf(substring, endIndex);\n\t} while (index !== -1);\n\n\treturnValue += string.slice(endIndex);\n\treturn returnValue;\n}\n\nexport function stringEncaseCRLFWithFirstIndex(string, prefix, postfix, index) {\n\tlet endIndex = 0;\n\tlet returnValue = '';\n\tdo {\n\t\tconst gotCR = string[index - 1] === '\\r';\n\t\treturnValue += string.slice(endIndex, (gotCR ? index - 1 : index)) + prefix + (gotCR ? '\\r\\n' : '\\n') + postfix;\n\t\tendIndex = index + 1;\n\t\tindex = string.indexOf('\\n', endIndex);\n\t} while (index !== -1);\n\n\treturnValue += string.slice(endIndex);\n\treturn returnValue;\n}\n", "import chalkNative from \"chalk\";\r\n\r\nconst chalkProps = Object.getOwnPropertyNames(Object.getPrototypeOf(chalkNative)).filter(v=>v!==\"constructor\");\r\n\r\nclass Logger extends Function {\r\n    constructor(formater, chalkInit) {\r\n        super();\r\n        const chalk = chalkInit||chalkNative;\r\n\r\n        const log = (...msgs)=>{ console.log(chalk(formater(msgs))); }\r\n        const self = Object.setPrototypeOf(log.bind(), new.target.prototype);\r\n\r\n        for (const prop of chalkProps) {\r\n            Object.defineProperty(self, prop, { get: _=>new Logger(formater, chalk[prop]), enumerable:false });\r\n        }\r\n        \r\n        return self;\r\n    }\r\n}\r\n\r\nexport const logger = (...prefixes)=>{\r\n    const now = _=>(new Date()).toLocaleTimeString(\"cs-CZ\");\r\n    prefixes = prefixes.filter(v=>!!v).join(\" \");\r\n\r\n    return new Logger(msgs=>`${prefixes} | ${now()} | ${msgs.join(\" \")}`);\r\n}", "const enumerable = true;\r\nconst lockObject = o=>{\r\n    if (typeof o !== \"object\") { return o; }\r\n\r\n    const r = {};\r\n    for (const i in o) {\r\n        const descriptor = { enumerable };\r\n        let val = o[i];\r\n        if (val instanceof Array) { descriptor.get = _=>[...val]; }\r\n        else { descriptor.value = lockObject(val); }\r\n        Object.defineProperty(r, i, descriptor);\r\n    }\r\n\r\n    return r;\r\n}\r\n\r\nexport const info = lockObject(__slib_info);\r\nexport default info;", "import { info } from \"../info\";\r\nimport { logger } from \"../tools/logger\";\r\n\r\nexport default info;\r\n\r\nexport const log = logger(info.name, info.version, info.env);\r\n\r\nexport {\r\n    info,\r\n}", "import { url } from \"./url.js\";\nimport { Manager } from \"./manager.js\";\nimport { Socket } from \"./socket.js\";\n/**\n * Managers cache.\n */\nconst cache = {};\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        io = new Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            cache[id] = new Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n// namespace (e.g. `io.connect(...)`), for backward compatibility\nObject.assign(lookup, {\n    Manager,\n    Socket,\n    io: lookup,\n    connect: lookup,\n});\n/**\n * Protocol version.\n *\n * @public\n */\nexport { protocol } from \"socket.io-parser\";\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\nexport { Manager, Socket, lookup as io, lookup as connect, lookup as default, };\nexport { Fetch, NodeXHR, XHR, NodeWebSocket, WebSocket, WebTransport, } from \"engine.io-client\";\n", "import { parse } from \"engine.io-client\";\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nexport function url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        obj = parse(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\n", "import { Socket } from \"./socket.js\";\nexport { Socket };\nexport { SocketWithoutUpgrade, SocketWithUpgrade, } from \"./socket.js\";\nexport const protocol = Socket.protocol;\nexport { Transport, TransportError } from \"./transport.js\";\nexport { transports } from \"./transports/index.js\";\nexport { installTimerFunctions } from \"./util.js\";\nexport { parse } from \"./contrib/parseuri.js\";\nexport { nextTick } from \"./globals.node.js\";\nexport { Fetch } from \"./transports/polling-fetch.js\";\nexport { XHR as NodeXHR } from \"./transports/polling-xhr.node.js\";\nexport { XHR } from \"./transports/polling-xhr.js\";\nexport { WS as NodeWebSocket } from \"./transports/websocket.node.js\";\nexport { WS as WebSocket } from \"./transports/websocket.js\";\nexport { WT as WebTransport } from \"./transports/webtransport.js\";\n", "import { transports as DEFAULT_TRANSPORTS } from \"./transports/index.js\";\nimport { installTimerFunctions, byteLength } from \"./util.js\";\nimport { decode } from \"./contrib/parseqs.js\";\nimport { parse } from \"./contrib/parseuri.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { protocol } from \"engine.io-parser\";\nimport { createCookieJar, defaultBinaryType, nextTick, } from \"./globals.node.js\";\nconst withEventListeners = typeof addEventListener === \"function\" &&\n    typeof removeEventListener === \"function\";\nconst OFFLINE_EVENT_LISTENERS = [];\nif (withEventListeners) {\n    // within a ServiceWorker, any event handler for the 'offline' event must be added on the initial evaluation of the\n    // script, so we create one single event listener here which will forward the event to the socket instances\n    addEventListener(\"offline\", () => {\n        OFFLINE_EVENT_LISTENERS.forEach((listener) => listener());\n    }, false);\n}\n/**\n * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n *\n * This class comes without upgrade mechanism, which means that it will keep the first low-level transport that\n * successfully establishes the connection.\n *\n * In order to allow tree-shaking, there are no transports included, that's why the `transports` option is mandatory.\n *\n * @example\n * import { SocketWithoutUpgrade, WebSocket } from \"engine.io-client\";\n *\n * const socket = new SocketWithoutUpgrade({\n *   transports: [WebSocket]\n * });\n *\n * socket.on(\"open\", () => {\n *   socket.send(\"hello\");\n * });\n *\n * @see SocketWithUpgrade\n * @see Socket\n */\nexport class SocketWithoutUpgrade extends Emitter {\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri - uri or options\n     * @param {Object} opts - options\n     */\n    constructor(uri, opts) {\n        super();\n        this.binaryType = defaultBinaryType;\n        this.writeBuffer = [];\n        this._prevBufferLen = 0;\n        this._pingInterval = -1;\n        this._pingTimeout = -1;\n        this._maxPayload = -1;\n        /**\n         * The expiration timestamp of the {@link _pingTimeoutTimer} object is tracked, in case the timer is throttled and the\n         * callback is not fired on time. This can happen for example when a laptop is suspended or when a phone is locked.\n         */\n        this._pingTimeoutTime = Infinity;\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = null;\n        }\n        if (uri) {\n            const parsedUri = parse(uri);\n            opts.hostname = parsedUri.host;\n            opts.secure =\n                parsedUri.protocol === \"https\" || parsedUri.protocol === \"wss\";\n            opts.port = parsedUri.port;\n            if (parsedUri.query)\n                opts.query = parsedUri.query;\n        }\n        else if (opts.host) {\n            opts.hostname = parse(opts.host).host;\n        }\n        installTimerFunctions(this, opts);\n        this.secure =\n            null != opts.secure\n                ? opts.secure\n                : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n        if (opts.hostname && !opts.port) {\n            // if no port is specified manually, use the protocol default\n            opts.port = this.secure ? \"443\" : \"80\";\n        }\n        this.hostname =\n            opts.hostname ||\n                (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n        this.port =\n            opts.port ||\n                (typeof location !== \"undefined\" && location.port\n                    ? location.port\n                    : this.secure\n                        ? \"443\"\n                        : \"80\");\n        this.transports = [];\n        this._transportsByName = {};\n        opts.transports.forEach((t) => {\n            const transportName = t.prototype.name;\n            this.transports.push(transportName);\n            this._transportsByName[transportName] = t;\n        });\n        this.opts = Object.assign({\n            path: \"/engine.io\",\n            agent: false,\n            withCredentials: false,\n            upgrade: true,\n            timestampParam: \"t\",\n            rememberUpgrade: false,\n            addTrailingSlash: true,\n            rejectUnauthorized: true,\n            perMessageDeflate: {\n                threshold: 1024,\n            },\n            transportOptions: {},\n            closeOnBeforeunload: false,\n        }, opts);\n        this.opts.path =\n            this.opts.path.replace(/\\/$/, \"\") +\n                (this.opts.addTrailingSlash ? \"/\" : \"\");\n        if (typeof this.opts.query === \"string\") {\n            this.opts.query = decode(this.opts.query);\n        }\n        if (withEventListeners) {\n            if (this.opts.closeOnBeforeunload) {\n                // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n                // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n                // closed/reloaded)\n                this._beforeunloadEventListener = () => {\n                    if (this.transport) {\n                        // silently close the transport\n                        this.transport.removeAllListeners();\n                        this.transport.close();\n                    }\n                };\n                addEventListener(\"beforeunload\", this._beforeunloadEventListener, false);\n            }\n            if (this.hostname !== \"localhost\") {\n                this._offlineEventListener = () => {\n                    this._onClose(\"transport close\", {\n                        description: \"network connection lost\",\n                    });\n                };\n                OFFLINE_EVENT_LISTENERS.push(this._offlineEventListener);\n            }\n        }\n        if (this.opts.withCredentials) {\n            this._cookieJar = createCookieJar();\n        }\n        this._open();\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} name - transport name\n     * @return {Transport}\n     * @private\n     */\n    createTransport(name) {\n        const query = Object.assign({}, this.opts.query);\n        // append engine.io protocol identifier\n        query.EIO = protocol;\n        // transport name\n        query.transport = name;\n        // session id if we already have one\n        if (this.id)\n            query.sid = this.id;\n        const opts = Object.assign({}, this.opts, {\n            query,\n            socket: this,\n            hostname: this.hostname,\n            secure: this.secure,\n            port: this.port,\n        }, this.opts.transportOptions[name]);\n        return new this._transportsByName[name](opts);\n    }\n    /**\n     * Initializes transport to use and starts probe.\n     *\n     * @private\n     */\n    _open() {\n        if (this.transports.length === 0) {\n            // Emit error on next tick so it can be listened to\n            this.setTimeoutFn(() => {\n                this.emitReserved(\"error\", \"No transports available\");\n            }, 0);\n            return;\n        }\n        const transportName = this.opts.rememberUpgrade &&\n            SocketWithoutUpgrade.priorWebsocketSuccess &&\n            this.transports.indexOf(\"websocket\") !== -1\n            ? \"websocket\"\n            : this.transports[0];\n        this.readyState = \"opening\";\n        const transport = this.createTransport(transportName);\n        transport.open();\n        this.setTransport(transport);\n    }\n    /**\n     * Sets the current transport. Disables the existing one (if any).\n     *\n     * @private\n     */\n    setTransport(transport) {\n        if (this.transport) {\n            this.transport.removeAllListeners();\n        }\n        // set up transport\n        this.transport = transport;\n        // set up transport listeners\n        transport\n            .on(\"drain\", this._onDrain.bind(this))\n            .on(\"packet\", this._onPacket.bind(this))\n            .on(\"error\", this._onError.bind(this))\n            .on(\"close\", (reason) => this._onClose(\"transport close\", reason));\n    }\n    /**\n     * Called when connection is deemed open.\n     *\n     * @private\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        SocketWithoutUpgrade.priorWebsocketSuccess =\n            \"websocket\" === this.transport.name;\n        this.emitReserved(\"open\");\n        this.flush();\n    }\n    /**\n     * Handles a packet.\n     *\n     * @private\n     */\n    _onPacket(packet) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            this.emitReserved(\"packet\", packet);\n            // Socket is live - any packet counts\n            this.emitReserved(\"heartbeat\");\n            switch (packet.type) {\n                case \"open\":\n                    this.onHandshake(JSON.parse(packet.data));\n                    break;\n                case \"ping\":\n                    this._sendPacket(\"pong\");\n                    this.emitReserved(\"ping\");\n                    this.emitReserved(\"pong\");\n                    this._resetPingTimeout();\n                    break;\n                case \"error\":\n                    const err = new Error(\"server error\");\n                    // @ts-ignore\n                    err.code = packet.data;\n                    this._onError(err);\n                    break;\n                case \"message\":\n                    this.emitReserved(\"data\", packet.data);\n                    this.emitReserved(\"message\", packet.data);\n                    break;\n            }\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon handshake completion.\n     *\n     * @param {Object} data - handshake obj\n     * @private\n     */\n    onHandshake(data) {\n        this.emitReserved(\"handshake\", data);\n        this.id = data.sid;\n        this.transport.query.sid = data.sid;\n        this._pingInterval = data.pingInterval;\n        this._pingTimeout = data.pingTimeout;\n        this._maxPayload = data.maxPayload;\n        this.onOpen();\n        // In case open handler closes socket\n        if (\"closed\" === this.readyState)\n            return;\n        this._resetPingTimeout();\n    }\n    /**\n     * Sets and resets ping timeout timer based on server pings.\n     *\n     * @private\n     */\n    _resetPingTimeout() {\n        this.clearTimeoutFn(this._pingTimeoutTimer);\n        const delay = this._pingInterval + this._pingTimeout;\n        this._pingTimeoutTime = Date.now() + delay;\n        this._pingTimeoutTimer = this.setTimeoutFn(() => {\n            this._onClose(\"ping timeout\");\n        }, delay);\n        if (this.opts.autoUnref) {\n            this._pingTimeoutTimer.unref();\n        }\n    }\n    /**\n     * Called on `drain` event\n     *\n     * @private\n     */\n    _onDrain() {\n        this.writeBuffer.splice(0, this._prevBufferLen);\n        // setting prevBufferLen = 0 is very important\n        // for example, when upgrading, upgrade packet is sent over,\n        // and a nonzero prevBufferLen could cause problems on `drain`\n        this._prevBufferLen = 0;\n        if (0 === this.writeBuffer.length) {\n            this.emitReserved(\"drain\");\n        }\n        else {\n            this.flush();\n        }\n    }\n    /**\n     * Flush write buffers.\n     *\n     * @private\n     */\n    flush() {\n        if (\"closed\" !== this.readyState &&\n            this.transport.writable &&\n            !this.upgrading &&\n            this.writeBuffer.length) {\n            const packets = this._getWritablePackets();\n            this.transport.send(packets);\n            // keep track of current length of writeBuffer\n            // splice writeBuffer and callbackBuffer on `drain`\n            this._prevBufferLen = packets.length;\n            this.emitReserved(\"flush\");\n        }\n    }\n    /**\n     * Ensure the encoded size of the writeBuffer is below the maxPayload value sent by the server (only for HTTP\n     * long-polling)\n     *\n     * @private\n     */\n    _getWritablePackets() {\n        const shouldCheckPayloadSize = this._maxPayload &&\n            this.transport.name === \"polling\" &&\n            this.writeBuffer.length > 1;\n        if (!shouldCheckPayloadSize) {\n            return this.writeBuffer;\n        }\n        let payloadSize = 1; // first packet type\n        for (let i = 0; i < this.writeBuffer.length; i++) {\n            const data = this.writeBuffer[i].data;\n            if (data) {\n                payloadSize += byteLength(data);\n            }\n            if (i > 0 && payloadSize > this._maxPayload) {\n                return this.writeBuffer.slice(0, i);\n            }\n            payloadSize += 2; // separator + packet type\n        }\n        return this.writeBuffer;\n    }\n    /**\n     * Checks whether the heartbeat timer has expired but the socket has not yet been notified.\n     *\n     * Note: this method is private for now because it does not really fit the WebSocket API, but if we put it in the\n     * `write()` method then the message would not be buffered by the Socket.IO client.\n     *\n     * @return {boolean}\n     * @private\n     */\n    /* private */ _hasPingExpired() {\n        if (!this._pingTimeoutTime)\n            return true;\n        const hasExpired = Date.now() > this._pingTimeoutTime;\n        if (hasExpired) {\n            this._pingTimeoutTime = 0;\n            nextTick(() => {\n                this._onClose(\"ping timeout\");\n            }, this.setTimeoutFn);\n        }\n        return hasExpired;\n    }\n    /**\n     * Sends a message.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @return {Socket} for chaining.\n     */\n    write(msg, options, fn) {\n        this._sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a message. Alias of {@link Socket#write}.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @return {Socket} for chaining.\n     */\n    send(msg, options, fn) {\n        this._sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param {String} type: packet type.\n     * @param {String} data.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @private\n     */\n    _sendPacket(type, data, options, fn) {\n        if (\"function\" === typeof data) {\n            fn = data;\n            data = undefined;\n        }\n        if (\"function\" === typeof options) {\n            fn = options;\n            options = null;\n        }\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n            return;\n        }\n        options = options || {};\n        options.compress = false !== options.compress;\n        const packet = {\n            type: type,\n            data: data,\n            options: options,\n        };\n        this.emitReserved(\"packetCreate\", packet);\n        this.writeBuffer.push(packet);\n        if (fn)\n            this.once(\"flush\", fn);\n        this.flush();\n    }\n    /**\n     * Closes the connection.\n     */\n    close() {\n        const close = () => {\n            this._onClose(\"forced close\");\n            this.transport.close();\n        };\n        const cleanupAndClose = () => {\n            this.off(\"upgrade\", cleanupAndClose);\n            this.off(\"upgradeError\", cleanupAndClose);\n            close();\n        };\n        const waitForUpgrade = () => {\n            // wait for upgrade to finish since we can't send packets while pausing a transport\n            this.once(\"upgrade\", cleanupAndClose);\n            this.once(\"upgradeError\", cleanupAndClose);\n        };\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.readyState = \"closing\";\n            if (this.writeBuffer.length) {\n                this.once(\"drain\", () => {\n                    if (this.upgrading) {\n                        waitForUpgrade();\n                    }\n                    else {\n                        close();\n                    }\n                });\n            }\n            else if (this.upgrading) {\n                waitForUpgrade();\n            }\n            else {\n                close();\n            }\n        }\n        return this;\n    }\n    /**\n     * Called upon transport error\n     *\n     * @private\n     */\n    _onError(err) {\n        SocketWithoutUpgrade.priorWebsocketSuccess = false;\n        if (this.opts.tryAllTransports &&\n            this.transports.length > 1 &&\n            this.readyState === \"opening\") {\n            this.transports.shift();\n            return this._open();\n        }\n        this.emitReserved(\"error\", err);\n        this._onClose(\"transport error\", err);\n    }\n    /**\n     * Called upon transport close.\n     *\n     * @private\n     */\n    _onClose(reason, description) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            // clear timers\n            this.clearTimeoutFn(this._pingTimeoutTimer);\n            // stop event from firing again for transport\n            this.transport.removeAllListeners(\"close\");\n            // ensure transport won't stay open\n            this.transport.close();\n            // ignore further transport communication\n            this.transport.removeAllListeners();\n            if (withEventListeners) {\n                if (this._beforeunloadEventListener) {\n                    removeEventListener(\"beforeunload\", this._beforeunloadEventListener, false);\n                }\n                if (this._offlineEventListener) {\n                    const i = OFFLINE_EVENT_LISTENERS.indexOf(this._offlineEventListener);\n                    if (i !== -1) {\n                        OFFLINE_EVENT_LISTENERS.splice(i, 1);\n                    }\n                }\n            }\n            // set ready state\n            this.readyState = \"closed\";\n            // clear session id\n            this.id = null;\n            // emit close event\n            this.emitReserved(\"close\", reason, description);\n            // clean buffers after, so users can still\n            // grab the buffers on `close` event\n            this.writeBuffer = [];\n            this._prevBufferLen = 0;\n        }\n    }\n}\nSocketWithoutUpgrade.protocol = protocol;\n/**\n * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n *\n * This class comes with an upgrade mechanism, which means that once the connection is established with the first\n * low-level transport, it will try to upgrade to a better transport.\n *\n * In order to allow tree-shaking, there are no transports included, that's why the `transports` option is mandatory.\n *\n * @example\n * import { SocketWithUpgrade, WebSocket } from \"engine.io-client\";\n *\n * const socket = new SocketWithUpgrade({\n *   transports: [WebSocket]\n * });\n *\n * socket.on(\"open\", () => {\n *   socket.send(\"hello\");\n * });\n *\n * @see SocketWithoutUpgrade\n * @see Socket\n */\nexport class SocketWithUpgrade extends SocketWithoutUpgrade {\n    constructor() {\n        super(...arguments);\n        this._upgrades = [];\n    }\n    onOpen() {\n        super.onOpen();\n        if (\"open\" === this.readyState && this.opts.upgrade) {\n            for (let i = 0; i < this._upgrades.length; i++) {\n                this._probe(this._upgrades[i]);\n            }\n        }\n    }\n    /**\n     * Probes a transport.\n     *\n     * @param {String} name - transport name\n     * @private\n     */\n    _probe(name) {\n        let transport = this.createTransport(name);\n        let failed = false;\n        SocketWithoutUpgrade.priorWebsocketSuccess = false;\n        const onTransportOpen = () => {\n            if (failed)\n                return;\n            transport.send([{ type: \"ping\", data: \"probe\" }]);\n            transport.once(\"packet\", (msg) => {\n                if (failed)\n                    return;\n                if (\"pong\" === msg.type && \"probe\" === msg.data) {\n                    this.upgrading = true;\n                    this.emitReserved(\"upgrading\", transport);\n                    if (!transport)\n                        return;\n                    SocketWithoutUpgrade.priorWebsocketSuccess =\n                        \"websocket\" === transport.name;\n                    this.transport.pause(() => {\n                        if (failed)\n                            return;\n                        if (\"closed\" === this.readyState)\n                            return;\n                        cleanup();\n                        this.setTransport(transport);\n                        transport.send([{ type: \"upgrade\" }]);\n                        this.emitReserved(\"upgrade\", transport);\n                        transport = null;\n                        this.upgrading = false;\n                        this.flush();\n                    });\n                }\n                else {\n                    const err = new Error(\"probe error\");\n                    // @ts-ignore\n                    err.transport = transport.name;\n                    this.emitReserved(\"upgradeError\", err);\n                }\n            });\n        };\n        function freezeTransport() {\n            if (failed)\n                return;\n            // Any callback called by transport should be ignored since now\n            failed = true;\n            cleanup();\n            transport.close();\n            transport = null;\n        }\n        // Handle any error that happens while probing\n        const onerror = (err) => {\n            const error = new Error(\"probe error: \" + err);\n            // @ts-ignore\n            error.transport = transport.name;\n            freezeTransport();\n            this.emitReserved(\"upgradeError\", error);\n        };\n        function onTransportClose() {\n            onerror(\"transport closed\");\n        }\n        // When the socket is closed while we're probing\n        function onclose() {\n            onerror(\"socket closed\");\n        }\n        // When the socket is upgraded while we're probing\n        function onupgrade(to) {\n            if (transport && to.name !== transport.name) {\n                freezeTransport();\n            }\n        }\n        // Remove all listeners on the transport and on self\n        const cleanup = () => {\n            transport.removeListener(\"open\", onTransportOpen);\n            transport.removeListener(\"error\", onerror);\n            transport.removeListener(\"close\", onTransportClose);\n            this.off(\"close\", onclose);\n            this.off(\"upgrading\", onupgrade);\n        };\n        transport.once(\"open\", onTransportOpen);\n        transport.once(\"error\", onerror);\n        transport.once(\"close\", onTransportClose);\n        this.once(\"close\", onclose);\n        this.once(\"upgrading\", onupgrade);\n        if (this._upgrades.indexOf(\"webtransport\") !== -1 &&\n            name !== \"webtransport\") {\n            // favor WebTransport\n            this.setTimeoutFn(() => {\n                if (!failed) {\n                    transport.open();\n                }\n            }, 200);\n        }\n        else {\n            transport.open();\n        }\n    }\n    onHandshake(data) {\n        this._upgrades = this._filterUpgrades(data.upgrades);\n        super.onHandshake(data);\n    }\n    /**\n     * Filters upgrades, returning only those matching client transports.\n     *\n     * @param {Array} upgrades - server upgrades\n     * @private\n     */\n    _filterUpgrades(upgrades) {\n        const filteredUpgrades = [];\n        for (let i = 0; i < upgrades.length; i++) {\n            if (~this.transports.indexOf(upgrades[i]))\n                filteredUpgrades.push(upgrades[i]);\n        }\n        return filteredUpgrades;\n    }\n}\n/**\n * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n *\n * This class comes with an upgrade mechanism, which means that once the connection is established with the first\n * low-level transport, it will try to upgrade to a better transport.\n *\n * @example\n * import { Socket } from \"engine.io-client\";\n *\n * const socket = new Socket();\n *\n * socket.on(\"open\", () => {\n *   socket.send(\"hello\");\n * });\n *\n * @see SocketWithoutUpgrade\n * @see SocketWithUpgrade\n */\nexport class Socket extends SocketWithUpgrade {\n    constructor(uri, opts = {}) {\n        const o = typeof uri === \"object\" ? uri : opts;\n        if (!o.transports ||\n            (o.transports && typeof o.transports[0] === \"string\")) {\n            o.transports = (o.transports || [\"polling\", \"websocket\", \"webtransport\"])\n                .map((transportName) => DEFAULT_TRANSPORTS[transportName])\n                .filter((t) => !!t);\n        }\n        super(uri, o);\n    }\n}\n", "import { XHR } from \"./polling-xhr.node.js\";\nimport { WS } from \"./websocket.node.js\";\nimport { WT } from \"./webtransport.js\";\nexport const transports = {\n    websocket: WS,\n    webtransport: WT,\n    polling: XHR,\n};\n", "import { Polling } from \"./polling.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions, pick } from \"../util.js\";\nimport { globalThisShim as globalThis } from \"../globals.node.js\";\nimport { hasCORS } from \"../contrib/has-cors.js\";\nfunction empty() { }\nexport class BaseXHR extends Polling {\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @package\n     */\n    constructor(opts) {\n        super(opts);\n        if (typeof location !== \"undefined\") {\n            const isSSL = \"https:\" === location.protocol;\n            let port = location.port;\n            // some user agents have empty `location.port`\n            if (!port) {\n                port = isSSL ? \"443\" : \"80\";\n            }\n            this.xd =\n                (typeof location !== \"undefined\" &&\n                    opts.hostname !== location.hostname) ||\n                    port !== opts.port;\n        }\n    }\n    /**\n     * Sends data.\n     *\n     * @param {String} data to send.\n     * @param {Function} called upon flush.\n     * @private\n     */\n    doWrite(data, fn) {\n        const req = this.request({\n            method: \"POST\",\n            data: data,\n        });\n        req.on(\"success\", fn);\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr post error\", xhrStatus, context);\n        });\n    }\n    /**\n     * Starts a poll cycle.\n     *\n     * @private\n     */\n    doPoll() {\n        const req = this.request();\n        req.on(\"data\", this.onData.bind(this));\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr poll error\", xhrStatus, context);\n        });\n        this.pollXhr = req;\n    }\n}\nexport class Request extends Emitter {\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @package\n     */\n    constructor(createRequest, uri, opts) {\n        super();\n        this.createRequest = createRequest;\n        installTimerFunctions(this, opts);\n        this._opts = opts;\n        this._method = opts.method || \"GET\";\n        this._uri = uri;\n        this._data = undefined !== opts.data ? opts.data : null;\n        this._create();\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @private\n     */\n    _create() {\n        var _a;\n        const opts = pick(this._opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n        opts.xdomain = !!this._opts.xd;\n        const xhr = (this._xhr = this.createRequest(opts));\n        try {\n            xhr.open(this._method, this._uri, true);\n            try {\n                if (this._opts.extraHeaders) {\n                    // @ts-ignore\n                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n                    for (let i in this._opts.extraHeaders) {\n                        if (this._opts.extraHeaders.hasOwnProperty(i)) {\n                            xhr.setRequestHeader(i, this._opts.extraHeaders[i]);\n                        }\n                    }\n                }\n            }\n            catch (e) { }\n            if (\"POST\" === this._method) {\n                try {\n                    xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n                }\n                catch (e) { }\n            }\n            try {\n                xhr.setRequestHeader(\"Accept\", \"*/*\");\n            }\n            catch (e) { }\n            (_a = this._opts.cookieJar) === null || _a === void 0 ? void 0 : _a.addCookies(xhr);\n            // ie6 check\n            if (\"withCredentials\" in xhr) {\n                xhr.withCredentials = this._opts.withCredentials;\n            }\n            if (this._opts.requestTimeout) {\n                xhr.timeout = this._opts.requestTimeout;\n            }\n            xhr.onreadystatechange = () => {\n                var _a;\n                if (xhr.readyState === 3) {\n                    (_a = this._opts.cookieJar) === null || _a === void 0 ? void 0 : _a.parseCookies(\n                    // @ts-ignore\n                    xhr.getResponseHeader(\"set-cookie\"));\n                }\n                if (4 !== xhr.readyState)\n                    return;\n                if (200 === xhr.status || 1223 === xhr.status) {\n                    this._onLoad();\n                }\n                else {\n                    // make sure the `error` event handler that's user-set\n                    // does not throw in the same tick and gets caught here\n                    this.setTimeoutFn(() => {\n                        this._onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n                    }, 0);\n                }\n            };\n            xhr.send(this._data);\n        }\n        catch (e) {\n            // Need to defer since .create() is called directly from the constructor\n            // and thus the 'error' event can only be only bound *after* this exception\n            // occurs.  Therefore, also, we cannot throw here at all.\n            this.setTimeoutFn(() => {\n                this._onError(e);\n            }, 0);\n            return;\n        }\n        if (typeof document !== \"undefined\") {\n            this._index = Request.requestsCount++;\n            Request.requests[this._index] = this;\n        }\n    }\n    /**\n     * Called upon error.\n     *\n     * @private\n     */\n    _onError(err) {\n        this.emitReserved(\"error\", err, this._xhr);\n        this._cleanup(true);\n    }\n    /**\n     * Cleans up house.\n     *\n     * @private\n     */\n    _cleanup(fromError) {\n        if (\"undefined\" === typeof this._xhr || null === this._xhr) {\n            return;\n        }\n        this._xhr.onreadystatechange = empty;\n        if (fromError) {\n            try {\n                this._xhr.abort();\n            }\n            catch (e) { }\n        }\n        if (typeof document !== \"undefined\") {\n            delete Request.requests[this._index];\n        }\n        this._xhr = null;\n    }\n    /**\n     * Called upon load.\n     *\n     * @private\n     */\n    _onLoad() {\n        const data = this._xhr.responseText;\n        if (data !== null) {\n            this.emitReserved(\"data\", data);\n            this.emitReserved(\"success\");\n            this._cleanup();\n        }\n    }\n    /**\n     * Aborts the request.\n     *\n     * @package\n     */\n    abort() {\n        this._cleanup();\n    }\n}\nRequest.requestsCount = 0;\nRequest.requests = {};\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\nif (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n        // @ts-ignore\n        attachEvent(\"onunload\", unloadHandler);\n    }\n    else if (typeof addEventListener === \"function\") {\n        const terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\n        addEventListener(terminationEvent, unloadHandler, false);\n    }\n}\nfunction unloadHandler() {\n    for (let i in Request.requests) {\n        if (Request.requests.hasOwnProperty(i)) {\n            Request.requests[i].abort();\n        }\n    }\n}\nconst hasXHR2 = (function () {\n    const xhr = newRequest({\n        xdomain: false,\n    });\n    return xhr && xhr.responseType !== null;\n})();\n/**\n * HTTP long-polling based on the built-in `XMLHttpRequest` object.\n *\n * Usage: browser\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest\n */\nexport class XHR extends BaseXHR {\n    constructor(opts) {\n        super(opts);\n        const forceBase64 = opts && opts.forceBase64;\n        this.supportsBinary = hasXHR2 && !forceBase64;\n    }\n    request(opts = {}) {\n        Object.assign(opts, { xd: this.xd }, this.opts);\n        return new Request(newRequest, this.uri(), opts);\n    }\n}\nfunction newRequest(opts) {\n    const xdomain = opts.xdomain;\n    // XMLHttpRequest can be disabled on IE\n    try {\n        if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n            return new XMLHttpRequest();\n        }\n    }\n    catch (e) { }\n    if (!xdomain) {\n        try {\n            return new globalThis[[\"Active\"].concat(\"Object\").join(\"X\")](\"Microsoft.XMLHTTP\");\n        }\n        catch (e) { }\n    }\n}\n", "import { Transport } from \"../transport.js\";\nimport { randomString } from \"../util.js\";\nimport { encodePayload, decodePayload } from \"engine.io-parser\";\nexport class Polling extends Transport {\n    constructor() {\n        super(...arguments);\n        this._polling = false;\n    }\n    get name() {\n        return \"polling\";\n    }\n    /**\n     * Opens the socket (triggers polling). We write a PING message to determine\n     * when the transport is open.\n     *\n     * @protected\n     */\n    doOpen() {\n        this._poll();\n    }\n    /**\n     * Pauses polling.\n     *\n     * @param {Function} onPause - callback upon buffers are flushed and transport is paused\n     * @package\n     */\n    pause(onPause) {\n        this.readyState = \"pausing\";\n        const pause = () => {\n            this.readyState = \"paused\";\n            onPause();\n        };\n        if (this._polling || !this.writable) {\n            let total = 0;\n            if (this._polling) {\n                total++;\n                this.once(\"pollComplete\", function () {\n                    --total || pause();\n                });\n            }\n            if (!this.writable) {\n                total++;\n                this.once(\"drain\", function () {\n                    --total || pause();\n                });\n            }\n        }\n        else {\n            pause();\n        }\n    }\n    /**\n     * Starts polling cycle.\n     *\n     * @private\n     */\n    _poll() {\n        this._polling = true;\n        this.doPoll();\n        this.emitReserved(\"poll\");\n    }\n    /**\n     * Overloads onData to detect payloads.\n     *\n     * @protected\n     */\n    onData(data) {\n        const callback = (packet) => {\n            // if its the first message we consider the transport open\n            if (\"opening\" === this.readyState && packet.type === \"open\") {\n                this.onOpen();\n            }\n            // if its a close packet, we close the ongoing requests\n            if (\"close\" === packet.type) {\n                this.onClose({ description: \"transport closed by the server\" });\n                return false;\n            }\n            // otherwise bypass onData and handle the message\n            this.onPacket(packet);\n        };\n        // decode payload\n        decodePayload(data, this.socket.binaryType).forEach(callback);\n        // if an event did not trigger closing\n        if (\"closed\" !== this.readyState) {\n            // if we got data we're not polling\n            this._polling = false;\n            this.emitReserved(\"pollComplete\");\n            if (\"open\" === this.readyState) {\n                this._poll();\n            }\n            else {\n            }\n        }\n    }\n    /**\n     * For polling, send a close packet.\n     *\n     * @protected\n     */\n    doClose() {\n        const close = () => {\n            this.write([{ type: \"close\" }]);\n        };\n        if (\"open\" === this.readyState) {\n            close();\n        }\n        else {\n            // in case we're trying to close while\n            // handshaking is in progress (GH-164)\n            this.once(\"open\", close);\n        }\n    }\n    /**\n     * Writes a packets payload.\n     *\n     * @param {Array} packets - data packets\n     * @protected\n     */\n    write(packets) {\n        this.writable = false;\n        encodePayload(packets, (data) => {\n            this.doWrite(data, () => {\n                this.writable = true;\n                this.emitReserved(\"drain\");\n            });\n        });\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"https\" : \"http\";\n        const query = this.query || {};\n        // cache busting is forced\n        if (false !== this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = randomString();\n        }\n        if (!this.supportsBinary && !query.sid) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n}\n", "import { decodePacket } from \"engine.io-parser\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions } from \"./util.js\";\nimport { encode } from \"./contrib/parseqs.js\";\nexport class TransportError extends Error {\n    constructor(reason, description, context) {\n        super(reason);\n        this.description = description;\n        this.context = context;\n        this.type = \"TransportError\";\n    }\n}\nexport class Transport extends Emitter {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} opts - options\n     * @protected\n     */\n    constructor(opts) {\n        super();\n        this.writable = false;\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.query = opts.query;\n        this.socket = opts.socket;\n        this.supportsBinary = !opts.forceBase64;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} reason\n     * @param description\n     * @param context - the error context\n     * @return {Transport} for chaining\n     * @protected\n     */\n    onError(reason, description, context) {\n        super.emitReserved(\"error\", new TransportError(reason, description, context));\n        return this;\n    }\n    /**\n     * Opens the transport.\n     */\n    open() {\n        this.readyState = \"opening\";\n        this.doOpen();\n        return this;\n    }\n    /**\n     * Closes the transport.\n     */\n    close() {\n        if (this.readyState === \"opening\" || this.readyState === \"open\") {\n            this.doClose();\n            this.onClose();\n        }\n        return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     */\n    send(packets) {\n        if (this.readyState === \"open\") {\n            this.write(packets);\n        }\n        else {\n            // this might happen if the transport was silently closed in the beforeunload event handler\n        }\n    }\n    /**\n     * Called upon open\n     *\n     * @protected\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n        super.emitReserved(\"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @protected\n     */\n    onData(data) {\n        const packet = decodePacket(data, this.socket.binaryType);\n        this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @protected\n     */\n    onPacket(packet) {\n        super.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @protected\n     */\n    onClose(details) {\n        this.readyState = \"closed\";\n        super.emitReserved(\"close\", details);\n    }\n    /**\n     * Pauses the transport, in order not to lose packets during an upgrade.\n     *\n     * @param onPause\n     */\n    pause(onPause) { }\n    createUri(schema, query = {}) {\n        return (schema +\n            \"://\" +\n            this._hostname() +\n            this._port() +\n            this.opts.path +\n            this._query(query));\n    }\n    _hostname() {\n        const hostname = this.opts.hostname;\n        return hostname.indexOf(\":\") === -1 ? hostname : \"[\" + hostname + \"]\";\n    }\n    _port() {\n        if (this.opts.port &&\n            ((this.opts.secure && Number(this.opts.port !== 443)) ||\n                (!this.opts.secure && Number(this.opts.port) !== 80))) {\n            return \":\" + this.opts.port;\n        }\n        else {\n            return \"\";\n        }\n    }\n    _query(query) {\n        const encodedQuery = encode(query);\n        return encodedQuery.length ? \"?\" + encodedQuery : \"\";\n    }\n}\n", "import { encodePacket, encodePacketToBinary } from \"./encodePacket.js\";\nimport { decodePacket } from \"./decodePacket.js\";\nimport { ERROR_PACKET, } from \"./commons.js\";\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\nconst encodePayload = (packets, callback) => {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    const length = packets.length;\n    const encodedPackets = new Array(length);\n    let count = 0;\n    packets.forEach((packet, i) => {\n        // force base64 encoding for binary packets\n        encodePacket(packet, false, (encodedPacket) => {\n            encodedPackets[i] = encodedPacket;\n            if (++count === length) {\n                callback(encodedPackets.join(SEPARATOR));\n            }\n        });\n    });\n};\nconst decodePayload = (encodedPayload, binaryType) => {\n    const encodedPackets = encodedPayload.split(SEPARATOR);\n    const packets = [];\n    for (let i = 0; i < encodedPackets.length; i++) {\n        const decodedPacket = decodePacket(encodedPackets[i], binaryType);\n        packets.push(decodedPacket);\n        if (decodedPacket.type === \"error\") {\n            break;\n        }\n    }\n    return packets;\n};\nexport function createPacketEncoderStream() {\n    return new TransformStream({\n        transform(packet, controller) {\n            encodePacketToBinary(packet, (encodedPacket) => {\n                const payloadLength = encodedPacket.length;\n                let header;\n                // inspired by the WebSocket format: https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#decoding_payload_length\n                if (payloadLength < 126) {\n                    header = new Uint8Array(1);\n                    new DataView(header.buffer).setUint8(0, payloadLength);\n                }\n                else if (payloadLength < 65536) {\n                    header = new Uint8Array(3);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 126);\n                    view.setUint16(1, payloadLength);\n                }\n                else {\n                    header = new Uint8Array(9);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 127);\n                    view.setBigUint64(1, BigInt(payloadLength));\n                }\n                // first bit indicates whether the payload is plain text (0) or binary (1)\n                if (packet.data && typeof packet.data !== \"string\") {\n                    header[0] |= 0x80;\n                }\n                controller.enqueue(header);\n                controller.enqueue(encodedPacket);\n            });\n        },\n    });\n}\nlet TEXT_DECODER;\nfunction totalLength(chunks) {\n    return chunks.reduce((acc, chunk) => acc + chunk.length, 0);\n}\nfunction concatChunks(chunks, size) {\n    if (chunks[0].length === size) {\n        return chunks.shift();\n    }\n    const buffer = new Uint8Array(size);\n    let j = 0;\n    for (let i = 0; i < size; i++) {\n        buffer[i] = chunks[0][j++];\n        if (j === chunks[0].length) {\n            chunks.shift();\n            j = 0;\n        }\n    }\n    if (chunks.length && j < chunks[0].length) {\n        chunks[0] = chunks[0].slice(j);\n    }\n    return buffer;\n}\nexport function createPacketDecoderStream(maxPayload, binaryType) {\n    if (!TEXT_DECODER) {\n        TEXT_DECODER = new TextDecoder();\n    }\n    const chunks = [];\n    let state = 0 /* State.READ_HEADER */;\n    let expectedLength = -1;\n    let isBinary = false;\n    return new TransformStream({\n        transform(chunk, controller) {\n            chunks.push(chunk);\n            while (true) {\n                if (state === 0 /* State.READ_HEADER */) {\n                    if (totalLength(chunks) < 1) {\n                        break;\n                    }\n                    const header = concatChunks(chunks, 1);\n                    isBinary = (header[0] & 0x80) === 0x80;\n                    expectedLength = header[0] & 0x7f;\n                    if (expectedLength < 126) {\n                        state = 3 /* State.READ_PAYLOAD */;\n                    }\n                    else if (expectedLength === 126) {\n                        state = 1 /* State.READ_EXTENDED_LENGTH_16 */;\n                    }\n                    else {\n                        state = 2 /* State.READ_EXTENDED_LENGTH_64 */;\n                    }\n                }\n                else if (state === 1 /* State.READ_EXTENDED_LENGTH_16 */) {\n                    if (totalLength(chunks) < 2) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 2);\n                    expectedLength = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length).getUint16(0);\n                    state = 3 /* State.READ_PAYLOAD */;\n                }\n                else if (state === 2 /* State.READ_EXTENDED_LENGTH_64 */) {\n                    if (totalLength(chunks) < 8) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 8);\n                    const view = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length);\n                    const n = view.getUint32(0);\n                    if (n > Math.pow(2, 53 - 32) - 1) {\n                        // the maximum safe integer in JavaScript is 2^53 - 1\n                        controller.enqueue(ERROR_PACKET);\n                        break;\n                    }\n                    expectedLength = n * Math.pow(2, 32) + view.getUint32(4);\n                    state = 3 /* State.READ_PAYLOAD */;\n                }\n                else {\n                    if (totalLength(chunks) < expectedLength) {\n                        break;\n                    }\n                    const data = concatChunks(chunks, expectedLength);\n                    controller.enqueue(decodePacket(isBinary ? data : TEXT_DECODER.decode(data), binaryType));\n                    state = 0 /* State.READ_HEADER */;\n                }\n                if (expectedLength === 0 || expectedLength > maxPayload) {\n                    controller.enqueue(ERROR_PACKET);\n                    break;\n                }\n            }\n        },\n    });\n}\nexport const protocol = 4;\nexport { encodePacket, encodePayload, decodePacket, decodePayload, };\n", "import { PACKET_TYPES } from \"./commons.js\";\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n// ArrayBuffer.isView method is not defined in IE10\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj && obj.buffer instanceof ArrayBuffer;\n};\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n    if (withNativeBlob && data instanceof Blob) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(data, callback);\n        }\n    }\n    else if (withNativeArrayBuffer &&\n        (data instanceof ArrayBuffer || isView(data))) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(new Blob([data]), callback);\n        }\n    }\n    // plain string\n    return callback(PACKET_TYPES[type] + (data || \"\"));\n};\nconst encodeBlobAsBase64 = (data, callback) => {\n    const fileReader = new FileReader();\n    fileReader.onload = function () {\n        const content = fileReader.result.split(\",\")[1];\n        callback(\"b\" + (content || \"\"));\n    };\n    return fileReader.readAsDataURL(data);\n};\nfunction toArray(data) {\n    if (data instanceof Uint8Array) {\n        return data;\n    }\n    else if (data instanceof ArrayBuffer) {\n        return new Uint8Array(data);\n    }\n    else {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength);\n    }\n}\nlet TEXT_ENCODER;\nexport function encodePacketToBinary(packet, callback) {\n    if (withNativeBlob && packet.data instanceof Blob) {\n        return packet.data.arrayBuffer().then(toArray).then(callback);\n    }\n    else if (withNativeArrayBuffer &&\n        (packet.data instanceof ArrayBuffer || isView(packet.data))) {\n        return callback(toArray(packet.data));\n    }\n    encodePacket(packet, false, (encoded) => {\n        if (!TEXT_ENCODER) {\n            TEXT_ENCODER = new TextEncoder();\n        }\n        callback(TEXT_ENCODER.encode(encoded));\n    });\n}\nexport { encodePacket };\n", "const PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach((key) => {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\nexport { PACKET_TYPES, PACKET_TYPES_REVERSE, ERROR_PACKET };\n", "import { ERROR_PACKET, PACKET_TYPES_REVERSE, } from \"./commons.js\";\nimport { decode } from \"./contrib/base64-arraybuffer.js\";\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nexport const decodePacket = (encodedPacket, binaryType) => {\n    if (typeof encodedPacket !== \"string\") {\n        return {\n            type: \"message\",\n            data: mapBinary(encodedPacket, binaryType),\n        };\n    }\n    const type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n        return {\n            type: \"message\",\n            data: decodeBase64Packet(encodedPacket.substring(1), binaryType),\n        };\n    }\n    const packetType = PACKET_TYPES_REVERSE[type];\n    if (!packetType) {\n        return ERROR_PACKET;\n    }\n    return encodedPacket.length > 1\n        ? {\n            type: PACKET_TYPES_REVERSE[type],\n            data: encodedPacket.substring(1),\n        }\n        : {\n            type: PACKET_TYPES_REVERSE[type],\n        };\n};\nconst decodeBase64Packet = (data, binaryType) => {\n    if (withNativeArrayBuffer) {\n        const decoded = decode(data);\n        return mapBinary(decoded, binaryType);\n    }\n    else {\n        return { base64: true, data }; // fallback for old browsers\n    }\n};\nconst mapBinary = (data, binaryType) => {\n    switch (binaryType) {\n        case \"blob\":\n            if (data instanceof Blob) {\n                // from WebSocket + binaryType \"blob\"\n                return data;\n            }\n            else {\n                // from HTTP long-polling or WebTransport\n                return new Blob([data]);\n            }\n        case \"arraybuffer\":\n        default:\n            if (data instanceof ArrayBuffer) {\n                // from HTTP long-polling (base64) or WebSocket + binaryType \"arraybuffer\"\n                return data;\n            }\n            else {\n                // from WebTransport (Uint8Array)\n                return data.buffer;\n            }\n    }\n};\n", "// imported from https://github.com/socketio/base64-arraybuffer\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\nexport const encode = (arraybuffer) => {\n    let bytes = new Uint8Array(arraybuffer), i, len = bytes.length, base64 = '';\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    }\n    else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n    return base64;\n};\nexport const decode = (base64) => {\n    let bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n    const arraybuffer = new ArrayBuffer(bufferLength), bytes = new Uint8Array(arraybuffer);\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n    return arraybuffer;\n};\n", "/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nexport function Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n// alias used for reserved events (protected method)\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n", "import { globalThisShim as globalThis } from \"./globals.node.js\";\nexport function pick(obj, ...attr) {\n    return attr.reduce((acc, k) => {\n        if (obj.hasOwnProperty(k)) {\n            acc[k] = obj[k];\n        }\n        return acc;\n    }, {});\n}\n// Keep a reference to the real timeout functions so they can be used when overridden\nconst NATIVE_SET_TIMEOUT = globalThis.setTimeout;\nconst NATIVE_CLEAR_TIMEOUT = globalThis.clearTimeout;\nexport function installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThis);\n        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThis);\n    }\n    else {\n        obj.setTimeoutFn = globalThis.setTimeout.bind(globalThis);\n        obj.clearTimeoutFn = globalThis.clearTimeout.bind(globalThis);\n    }\n}\n// base64 encoded buffers are about 33% bigger (https://en.wikipedia.org/wiki/Base64)\nconst BASE64_OVERHEAD = 1.33;\n// we could also have used `new Blob([obj]).size`, but it isn't supported in IE9\nexport function byteLength(obj) {\n    if (typeof obj === \"string\") {\n        return utf8Length(obj);\n    }\n    // arraybuffer or blob\n    return Math.ceil((obj.byteLength || obj.size) * BASE64_OVERHEAD);\n}\nfunction utf8Length(str) {\n    let c = 0, length = 0;\n    for (let i = 0, l = str.length; i < l; i++) {\n        c = str.charCodeAt(i);\n        if (c < 0x80) {\n            length += 1;\n        }\n        else if (c < 0x800) {\n            length += 2;\n        }\n        else if (c < 0xd800 || c >= 0xe000) {\n            length += 3;\n        }\n        else {\n            i++;\n            length += 4;\n        }\n    }\n    return length;\n}\n/**\n * Generates a random 8-characters string.\n */\nexport function randomString() {\n    return (Date.now().toString(36).substring(3) +\n        Math.random().toString(36).substring(2, 5));\n}\n", "export const nextTick = (() => {\n    const isPromiseAvailable = typeof Promise === \"function\" && typeof Promise.resolve === \"function\";\n    if (isPromiseAvailable) {\n        return (cb) => Promise.resolve().then(cb);\n    }\n    else {\n        return (cb, setTimeoutFn) => setTimeoutFn(cb, 0);\n    }\n})();\nexport const globalThisShim = (() => {\n    if (typeof self !== \"undefined\") {\n        return self;\n    }\n    else if (typeof window !== \"undefined\") {\n        return window;\n    }\n    else {\n        return Function(\"return this\")();\n    }\n})();\nexport const defaultBinaryType = \"arraybuffer\";\nexport function createCookieJar() { }\n", "// imported from https://github.com/galkn/querystring\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\nexport function encode(obj) {\n    let str = '';\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (str.length)\n                str += '&';\n            str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n        }\n    }\n    return str;\n}\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\nexport function decode(qs) {\n    let qry = {};\n    let pairs = qs.split('&');\n    for (let i = 0, l = pairs.length; i < l; i++) {\n        let pair = pairs[i].split('=');\n        qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n    }\n    return qry;\n}\n", "// imported from https://github.com/component/has-cors\nlet value = false;\ntry {\n    value = typeof XMLHttpRequest !== 'undefined' &&\n        'withCredentials' in new XMLHttpRequest();\n}\ncatch (err) {\n    // if XMLHttp support is disabled in IE then it will throw\n    // when trying to create\n}\nexport const hasCORS = value;\n", "import { Transport } from \"../transport.js\";\nimport { pick, randomString } from \"../util.js\";\nimport { encodePacket } from \"engine.io-parser\";\nimport { globalThisShim as globalThis, nextTick } from \"../globals.node.js\";\n// detect ReactNative environment\nconst isReactNative = typeof navigator !== \"undefined\" &&\n    typeof navigator.product === \"string\" &&\n    navigator.product.toLowerCase() === \"reactnative\";\nexport class BaseWS extends Transport {\n    get name() {\n        return \"websocket\";\n    }\n    doOpen() {\n        const uri = this.uri();\n        const protocols = this.opts.protocols;\n        // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n        const opts = isReactNative\n            ? {}\n            : pick(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n        if (this.opts.extraHeaders) {\n            opts.headers = this.opts.extraHeaders;\n        }\n        try {\n            this.ws = this.createSocket(uri, protocols, opts);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this.ws.binaryType = this.socket.binaryType;\n        this.addEventListeners();\n    }\n    /**\n     * Adds event listeners to the socket\n     *\n     * @private\n     */\n    addEventListeners() {\n        this.ws.onopen = () => {\n            if (this.opts.autoUnref) {\n                this.ws._socket.unref();\n            }\n            this.onOpen();\n        };\n        this.ws.onclose = (closeEvent) => this.onClose({\n            description: \"websocket connection closed\",\n            context: closeEvent,\n        });\n        this.ws.onmessage = (ev) => this.onData(ev.data);\n        this.ws.onerror = (e) => this.onError(\"websocket error\", e);\n    }\n    write(packets) {\n        this.writable = false;\n        // encodePacket efficient as it uses WS framing\n        // no need for encodePayload\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            encodePacket(packet, this.supportsBinary, (data) => {\n                // Sometimes the websocket has already been closed but the browser didn't\n                // have a chance of informing us about it yet, in that case send will\n                // throw an error\n                try {\n                    this.doWrite(packet, data);\n                }\n                catch (e) {\n                }\n                if (lastPacket) {\n                    // fake drain\n                    // defer to next tick to allow Socket to clear writeBuffer\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        if (typeof this.ws !== \"undefined\") {\n            this.ws.onerror = () => { };\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"wss\" : \"ws\";\n        const query = this.query || {};\n        // append timestamp to URI\n        if (this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = randomString();\n        }\n        // communicate binary support capabilities\n        if (!this.supportsBinary) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n}\nconst WebSocketCtor = globalThis.WebSocket || globalThis.MozWebSocket;\n/**\n * WebSocket transport based on the built-in `WebSocket` object.\n *\n * Usage: browser, Node.js (since v21), Deno, Bun\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket\n * @see https://caniuse.com/mdn-api_websocket\n * @see https://nodejs.org/api/globals.html#websocket\n */\nexport class WS extends BaseWS {\n    createSocket(uri, protocols, opts) {\n        return !isReactNative\n            ? protocols\n                ? new WebSocketCtor(uri, protocols)\n                : new WebSocketCtor(uri)\n            : new WebSocketCtor(uri, protocols, opts);\n    }\n    doWrite(_packet, data) {\n        this.ws.send(data);\n    }\n}\n", "import { Transport } from \"../transport.js\";\nimport { nextTick } from \"../globals.node.js\";\nimport { createPacketDecoderStream, createPacketEncoderStream, } from \"engine.io-parser\";\n/**\n * WebTransport transport based on the built-in `WebTransport` object.\n *\n * Usage: browser, Node.js (with the `@fails-components/webtransport` package)\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebTransport\n * @see https://caniuse.com/webtransport\n */\nexport class WT extends Transport {\n    get name() {\n        return \"webtransport\";\n    }\n    doOpen() {\n        try {\n            // @ts-ignore\n            this._transport = new WebTransport(this.createUri(\"https\"), this.opts.transportOptions[this.name]);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this._transport.closed\n            .then(() => {\n            this.onClose();\n        })\n            .catch((err) => {\n            this.onError(\"webtransport error\", err);\n        });\n        // note: we could have used async/await, but that would require some additional polyfills\n        this._transport.ready.then(() => {\n            this._transport.createBidirectionalStream().then((stream) => {\n                const decoderStream = createPacketDecoderStream(Number.MAX_SAFE_INTEGER, this.socket.binaryType);\n                const reader = stream.readable.pipeThrough(decoderStream).getReader();\n                const encoderStream = createPacketEncoderStream();\n                encoderStream.readable.pipeTo(stream.writable);\n                this._writer = encoderStream.writable.getWriter();\n                const read = () => {\n                    reader\n                        .read()\n                        .then(({ done, value }) => {\n                        if (done) {\n                            return;\n                        }\n                        this.onPacket(value);\n                        read();\n                    })\n                        .catch((err) => {\n                    });\n                };\n                read();\n                const packet = { type: \"open\" };\n                if (this.query.sid) {\n                    packet.data = `{\"sid\":\"${this.query.sid}\"}`;\n                }\n                this._writer.write(packet).then(() => this.onOpen());\n            });\n        });\n    }\n    write(packets) {\n        this.writable = false;\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            this._writer.write(packet).then(() => {\n                if (lastPacket) {\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        var _a;\n        (_a = this._transport) === null || _a === void 0 ? void 0 : _a.close();\n    }\n}\n", "// imported from https://github.com/galkn/parseuri\n/**\n * Parses a URI\n *\n * Note: we could also have used the built-in URL object, but it isn't supported on all platforms.\n *\n * See:\n * - https://developer.mozilla.org/en-US/docs/Web/API/URL\n * - https://caniuse.com/url\n * - https://www.rfc-editor.org/rfc/rfc3986#appendix-B\n *\n * History of the parse() method:\n * - first commit: https://github.com/socketio/socket.io-client/commit/4ee1d5d94b3906a9c052b459f1a818b15f38f91c\n * - export into its own module: https://github.com/socketio/engine.io-client/commit/de2c561e4564efeb78f1bdb1ba39ef81b2822cb3\n * - reimport: https://github.com/socketio/engine.io-client/commit/df32277c3f6d622eec5ed09f493cae3f3391d242\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\nconst re = /^(?:(?![^:@\\/?#]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@\\/?#]*)(?::([^:@\\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\nconst parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\nexport function parse(str) {\n    if (str.length > 8000) {\n        throw \"URI too long\";\n    }\n    const src = str, b = str.indexOf('['), e = str.indexOf(']');\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n    let m = re.exec(str || ''), uri = {}, i = 14;\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n    return uri;\n}\nfunction pathNames(obj, path) {\n    const regx = /\\/{2,9}/g, names = path.replace(regx, \"/\").split(\"/\");\n    if (path.slice(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.slice(-1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n    return names;\n}\nfunction queryKey(uri, query) {\n    const data = {};\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n    return data;\n}\n", "import { Polling } from \"./polling.js\";\n/**\n * HTTP long-polling based on the built-in `fetch()` method.\n *\n * Usage: browser, Node.js (since v18), Deno, Bun\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/fetch\n * @see https://caniuse.com/fetch\n * @see https://nodejs.org/api/globals.html#fetch\n */\nexport class Fetch extends Polling {\n    doPoll() {\n        this._fetch()\n            .then((res) => {\n            if (!res.ok) {\n                return this.onError(\"fetch read error\", res.status, res);\n            }\n            res.text().then((data) => this.onData(data));\n        })\n            .catch((err) => {\n            this.onError(\"fetch read error\", err);\n        });\n    }\n    doWrite(data, callback) {\n        this._fetch(data)\n            .then((res) => {\n            if (!res.ok) {\n                return this.onError(\"fetch write error\", res.status, res);\n            }\n            callback();\n        })\n            .catch((err) => {\n            this.onError(\"fetch write error\", err);\n        });\n    }\n    _fetch(data) {\n        var _a;\n        const isPost = data !== undefined;\n        const headers = new Headers(this.opts.extraHeaders);\n        if (isPost) {\n            headers.set(\"content-type\", \"text/plain;charset=UTF-8\");\n        }\n        (_a = this.socket._cookieJar) === null || _a === void 0 ? void 0 : _a.appendCookies(headers);\n        return fetch(this.uri(), {\n            method: isPost ? \"POST\" : \"GET\",\n            body: isPost ? data : null,\n            headers,\n            credentials: this.opts.withCredentials ? \"include\" : \"omit\",\n        }).then((res) => {\n            var _a;\n            // @ts-ignore getSetCookie() was added in Node.js v19.7.0\n            (_a = this.socket._cookieJar) === null || _a === void 0 ? void 0 : _a.parseCookies(res.headers.getSetCookie());\n            return res;\n        });\n    }\n}\n", "import { Socket as Engine, installTimerFunctions, nextTick, } from \"engine.io-client\";\nimport { Socket } from \"./socket.js\";\nimport * as parser from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Backoff } from \"./contrib/backo2.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\nexport class Manager extends Emitter {\n    constructor(uri, opts) {\n        var _a;\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        installTimerFunctions(this, opts);\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n        this.backoff = new Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        if (!v) {\n            this.skipReconnect = true;\n        }\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        this.engine = new Engine(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        const onError = (err) => {\n            this.cleanup();\n            this._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                this.maybeReconnectOnOpen();\n            }\n        };\n        // emit `error`\n        const errorSub = on(socket, \"error\", onError);\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            // set timer\n            const timer = this.setTimeoutFn(() => {\n                openSubDestroy();\n                onError(new Error(\"timeout\"));\n                socket.close();\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on(socket, \"ping\", this.onping.bind(this)), on(socket, \"data\", this.ondata.bind(this)), on(socket, \"error\", this.onerror.bind(this)), on(socket, \"close\", this.onclose.bind(this)), \n        // @ts-ignore\n        on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        try {\n            this.decoder.add(data);\n        }\n        catch (e) {\n            this.onclose(\"parse error\", e);\n        }\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        // the nextTick call prevents an exception in a user-provided event listener from triggering a disconnection due to a \"parse error\"\n        nextTick(() => {\n            this.emitReserved(\"packet\", packet);\n        }, this.setTimeoutFn);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        else if (this._autoConnect && !socket.active) {\n            socket.connect();\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        this.onclose(\"forced close\");\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called when:\n     *\n     * - the low-level engine is closed\n     * - the parser encountered a badly formatted packet\n     * - all sockets are disconnected\n     *\n     * @private\n     */\n    onclose(reason, description) {\n        var _a;\n        this.cleanup();\n        (_a = this.engine) === null || _a === void 0 ? void 0 : _a.close();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason, description);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            this._reconnecting = true;\n            const timer = this.setTimeoutFn(() => {\n                if (self.skipReconnect)\n                    return;\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\n", "import { PacketType } from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\n/**\n * A Socket is the fundamental class for interacting with the server.\n *\n * A Socket belongs to a certain Namespace (by default /) and uses an underlying {@link Manager} to communicate.\n *\n * @example\n * const socket = io();\n *\n * socket.on(\"connect\", () => {\n *   console.log(\"connected\");\n * });\n *\n * // send an event to the server\n * socket.emit(\"foo\", \"bar\");\n *\n * socket.on(\"foobar\", () => {\n *   // an event was received from the server\n * });\n *\n * // upon disconnection\n * socket.on(\"disconnect\", (reason) => {\n *   console.log(`disconnected due to ${reason}`);\n * });\n */\nexport class Socket extends Emitter {\n    /**\n     * `Socket` constructor.\n     */\n    constructor(io, nsp, opts) {\n        super();\n        /**\n         * Whether the socket is currently connected to the server.\n         *\n         * @example\n         * const socket = io();\n         *\n         * socket.on(\"connect\", () => {\n         *   console.log(socket.connected); // true\n         * });\n         *\n         * socket.on(\"disconnect\", () => {\n         *   console.log(socket.connected); // false\n         * });\n         */\n        this.connected = false;\n        /**\n         * Whether the connection state was recovered after a temporary disconnection. In that case, any missed packets will\n         * be transmitted by the server.\n         */\n        this.recovered = false;\n        /**\n         * Buffer for packets received before the CONNECT packet\n         */\n        this.receiveBuffer = [];\n        /**\n         * Buffer for packets that will be sent once the socket is connected\n         */\n        this.sendBuffer = [];\n        /**\n         * The queue of packets to be sent with retry in case of failure.\n         *\n         * Packets are sent one by one, each waiting for the server acknowledgement, in order to guarantee the delivery order.\n         * @private\n         */\n        this._queue = [];\n        /**\n         * A sequence to generate the ID of the {@link QueuedPacket}.\n         * @private\n         */\n        this._queueSeq = 0;\n        this.ids = 0;\n        /**\n         * A map containing acknowledgement handlers.\n         *\n         * The `withError` attribute is used to differentiate handlers that accept an error as first argument:\n         *\n         * - `socket.emit(\"test\", (err, value) => { ... })` with `ackTimeout` option\n         * - `socket.timeout(5000).emit(\"test\", (err, value) => { ... })`\n         * - `const value = await socket.emitWithAck(\"test\")`\n         *\n         * From those that don't:\n         *\n         * - `socket.emit(\"test\", (value) => { ... });`\n         *\n         * In the first case, the handlers will be called with an error when:\n         *\n         * - the timeout is reached\n         * - the socket gets disconnected\n         *\n         * In the second case, the handlers will be simply discarded upon disconnection, since the client will never receive\n         * an acknowledgement from the server.\n         *\n         * @private\n         */\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        this._opts = Object.assign({}, opts);\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Whether the socket is currently disconnected\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"connect\", () => {\n     *   console.log(socket.disconnected); // false\n     * });\n     *\n     * socket.on(\"disconnect\", () => {\n     *   console.log(socket.disconnected); // true\n     * });\n     */\n    get disconnected() {\n        return !this.connected;\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on(io, \"open\", this.onopen.bind(this)),\n            on(io, \"packet\", this.onpacket.bind(this)),\n            on(io, \"error\", this.onerror.bind(this)),\n            on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects.\n     *\n     * @example\n     * const socket = io();\n     *\n     * console.log(socket.active); // true\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   if (reason === \"io server disconnect\") {\n     *     // the disconnection was initiated by the server, you need to manually reconnect\n     *     console.log(socket.active); // false\n     *   }\n     *   // else the socket will automatically try to reconnect\n     *   console.log(socket.active); // true\n     * });\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @example\n     * const socket = io({\n     *   autoConnect: false\n     * });\n     *\n     * socket.connect();\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for {@link connect()}.\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * This method mimics the WebSocket.send() method.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/send\n     *\n     * @example\n     * socket.send(\"hello\");\n     *\n     * // this is equivalent to\n     * socket.emit(\"message\", \"hello\");\n     *\n     * @return self\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @example\n     * socket.emit(\"hello\", \"world\");\n     *\n     * // all serializable datastructures are supported (no need to call JSON.stringify)\n     * socket.emit(\"hello\", 1, \"2\", { 3: [\"4\"], 5: Uint8Array.from([6]) });\n     *\n     * // with an acknowledgement from the server\n     * socket.emit(\"hello\", \"world\", (val) => {\n     *   // ...\n     * });\n     *\n     * @return self\n     */\n    emit(ev, ...args) {\n        var _a, _b, _c;\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev.toString() + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        if (this._opts.retries && !this.flags.fromQueue && !this.flags.volatile) {\n            this._addToQueue(args);\n            return this;\n        }\n        const packet = {\n            type: PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            const id = this.ids++;\n            const ack = args.pop();\n            this._registerAckCallback(id, ack);\n            packet.id = id;\n        }\n        const isTransportWritable = (_b = (_a = this.io.engine) === null || _a === void 0 ? void 0 : _a.transport) === null || _b === void 0 ? void 0 : _b.writable;\n        const isConnected = this.connected && !((_c = this.io.engine) === null || _c === void 0 ? void 0 : _c._hasPingExpired());\n        const discardPacket = this.flags.volatile && !isTransportWritable;\n        if (discardPacket) {\n        }\n        else if (isConnected) {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * @private\n     */\n    _registerAckCallback(id, ack) {\n        var _a;\n        const timeout = (_a = this.flags.timeout) !== null && _a !== void 0 ? _a : this._opts.ackTimeout;\n        if (timeout === undefined) {\n            this.acks[id] = ack;\n            return;\n        }\n        // @ts-ignore\n        const timer = this.io.setTimeoutFn(() => {\n            delete this.acks[id];\n            for (let i = 0; i < this.sendBuffer.length; i++) {\n                if (this.sendBuffer[i].id === id) {\n                    this.sendBuffer.splice(i, 1);\n                }\n            }\n            ack.call(this, new Error(\"operation has timed out\"));\n        }, timeout);\n        const fn = (...args) => {\n            // @ts-ignore\n            this.io.clearTimeoutFn(timer);\n            ack.apply(this, args);\n        };\n        fn.withError = true;\n        this.acks[id] = fn;\n    }\n    /**\n     * Emits an event and waits for an acknowledgement\n     *\n     * @example\n     * // without timeout\n     * const response = await socket.emitWithAck(\"hello\", \"world\");\n     *\n     * // with a specific timeout\n     * try {\n     *   const response = await socket.timeout(1000).emitWithAck(\"hello\", \"world\");\n     * } catch (err) {\n     *   // the server did not acknowledge the event in the given delay\n     * }\n     *\n     * @return a Promise that will be fulfilled when the server acknowledges the event\n     */\n    emitWithAck(ev, ...args) {\n        return new Promise((resolve, reject) => {\n            const fn = (arg1, arg2) => {\n                return arg1 ? reject(arg1) : resolve(arg2);\n            };\n            fn.withError = true;\n            args.push(fn);\n            this.emit(ev, ...args);\n        });\n    }\n    /**\n     * Add the packet to the queue.\n     * @param args\n     * @private\n     */\n    _addToQueue(args) {\n        let ack;\n        if (typeof args[args.length - 1] === \"function\") {\n            ack = args.pop();\n        }\n        const packet = {\n            id: this._queueSeq++,\n            tryCount: 0,\n            pending: false,\n            args,\n            flags: Object.assign({ fromQueue: true }, this.flags),\n        };\n        args.push((err, ...responseArgs) => {\n            if (packet !== this._queue[0]) {\n                // the packet has already been acknowledged\n                return;\n            }\n            const hasError = err !== null;\n            if (hasError) {\n                if (packet.tryCount > this._opts.retries) {\n                    this._queue.shift();\n                    if (ack) {\n                        ack(err);\n                    }\n                }\n            }\n            else {\n                this._queue.shift();\n                if (ack) {\n                    ack(null, ...responseArgs);\n                }\n            }\n            packet.pending = false;\n            return this._drainQueue();\n        });\n        this._queue.push(packet);\n        this._drainQueue();\n    }\n    /**\n     * Send the first packet of the queue, and wait for an acknowledgement from the server.\n     * @param force - whether to resend a packet that has not been acknowledged yet\n     *\n     * @private\n     */\n    _drainQueue(force = false) {\n        if (!this.connected || this._queue.length === 0) {\n            return;\n        }\n        const packet = this._queue[0];\n        if (packet.pending && !force) {\n            return;\n        }\n        packet.pending = true;\n        packet.tryCount++;\n        this.flags = packet.flags;\n        this.emit.apply(this, packet.args);\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this._sendConnectPacket(data);\n            });\n        }\n        else {\n            this._sendConnectPacket(this.auth);\n        }\n    }\n    /**\n     * Sends a CONNECT packet to initiate the Socket.IO session.\n     *\n     * @param data\n     * @private\n     */\n    _sendConnectPacket(data) {\n        this.packet({\n            type: PacketType.CONNECT,\n            data: this._pid\n                ? Object.assign({ pid: this._pid, offset: this._lastOffset }, data)\n                : data,\n        });\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @param description\n     * @private\n     */\n    onclose(reason, description) {\n        this.connected = false;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason, description);\n        this._clearAcks();\n    }\n    /**\n     * Clears the acknowledgement handlers upon disconnection, since the client will never receive an acknowledgement from\n     * the server.\n     *\n     * @private\n     */\n    _clearAcks() {\n        Object.keys(this.acks).forEach((id) => {\n            const isBuffered = this.sendBuffer.some((packet) => String(packet.id) === id);\n            if (!isBuffered) {\n                // note: handlers that do not accept an error as first argument are ignored here\n                const ack = this.acks[id];\n                delete this.acks[id];\n                if (ack.withError) {\n                    ack.call(this, new Error(\"socket has been disconnected\"));\n                }\n            }\n        });\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    this.onconnect(packet.data.sid, packet.data.pid);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case PacketType.CONNECT_ERROR:\n                this.destroy();\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        if (null != packet.id) {\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n        if (this._pid && args.length && typeof args[args.length - 1] === \"string\") {\n            this._lastOffset = args[args.length - 1];\n        }\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            self.packet({\n                type: PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowledgement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (typeof ack !== \"function\") {\n            return;\n        }\n        delete this.acks[packet.id];\n        // @ts-ignore FIXME ack is incorrectly inferred as 'never'\n        if (ack.withError) {\n            packet.data.unshift(null);\n        }\n        // @ts-ignore\n        ack.apply(this, packet.data);\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id, pid) {\n        this.id = id;\n        this.recovered = pid && this._pid === pid;\n        this._pid = pid; // defined only if connection state recovery is enabled\n        this.connected = true;\n        this.emitBuffered();\n        this.emitReserved(\"connect\");\n        this._drainQueue(true);\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        });\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually. In that case, the socket will not try to reconnect.\n     *\n     * If this is the last active Socket instance of the {@link Manager}, the low-level connection will be closed.\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   // console.log(reason); prints \"io client disconnect\"\n     * });\n     *\n     * socket.disconnect();\n     *\n     * @return self\n     */\n    disconnect() {\n        if (this.connected) {\n            this.packet({ type: PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for {@link disconnect()}.\n     *\n     * @return self\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @example\n     * socket.compress(false).emit(\"hello\");\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @example\n     * socket.volatile.emit(\"hello\"); // the server may or may not receive it\n     *\n     * @returns self\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\n     *\n     * @example\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\n     *   if (err) {\n     *     // the server did not acknowledge the event in the given delay\n     *   }\n     * });\n     *\n     * @returns self\n     */\n    timeout(timeout) {\n        this.flags.timeout = timeout;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @example\n     * socket.onAny((event, ...args) => {\n     *   console.log(`got ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @example\n     * socket.prependAny((event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * }\n     *\n     * socket.onAny(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAny(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAny();\n     *\n     * @param listener\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.onAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.prependAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * }\n     *\n     * socket.onAnyOutgoing(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAnyOutgoing(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAnyOutgoing();\n     *\n     * @param [listener] - the catch-all listener (optional)\n     */\n    offAnyOutgoing(listener) {\n        if (!this._anyOutgoingListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyOutgoingListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyOutgoingListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAnyOutgoing() {\n        return this._anyOutgoingListeners || [];\n    }\n    /**\n     * Notify the listeners for each packet sent\n     *\n     * @param packet\n     *\n     * @private\n     */\n    notifyOutgoingListeners(packet) {\n        if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {\n            const listeners = this._anyOutgoingListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, packet.data);\n            }\n        }\n    }\n}\n", "import { Emitter } from \"@socket.io/component-emitter\";\nimport { deconstructPacket, reconstructPacket } from \"./binary.js\";\nimport { isBinary, hasBinary } from \"./is-binary.js\";\n/**\n * These strings must not be used as event names, as they have a special meaning.\n */\nconst RESERVED_EVENTS = [\n    \"connect\",\n    \"connect_error\",\n    \"disconnect\",\n    \"disconnecting\",\n    \"newListener\",\n    \"removeListener\", // used by the Node.js EventEmitter\n];\n/**\n * Protocol version.\n *\n * @public\n */\nexport const protocol = 5;\nexport var PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType || (PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nexport class Encoder {\n    /**\n     * Encoder constructor\n     *\n     * @param {function} replacer - custom replacer to pass down to JSON.parse\n     */\n    constructor(replacer) {\n        this.replacer = replacer;\n    }\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if (hasBinary(obj)) {\n                return this.encodeAsBinary({\n                    type: obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK,\n                    nsp: obj.nsp,\n                    data: obj.data,\n                    id: obj.id,\n                });\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data, this.replacer);\n        }\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = deconstructPacket(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\n// see https://stackoverflow.com/questions/8511281/check-if-a-value-is-an-object-in-javascript\nfunction isObject(value) {\n    return Object.prototype.toString.call(value) === \"[object Object]\";\n}\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nexport class Decoder extends Emitter {\n    /**\n     * Decoder constructor\n     *\n     * @param {function} reviver - custom reviver to pass down to JSON.stringify\n     */\n    constructor(reviver) {\n        super();\n        this.reviver = reviver;\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            if (this.reconstructor) {\n                throw new Error(\"got plaintext data when reconstructing a packet\");\n            }\n            packet = this.decodeString(obj);\n            const isBinaryEvent = packet.type === PacketType.BINARY_EVENT;\n            if (isBinaryEvent || packet.type === PacketType.BINARY_ACK) {\n                packet.type = isBinaryEvent ? PacketType.EVENT : PacketType.ACK;\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emitReserved(\"decoded\", packet);\n            }\n        }\n        else if (isBinary(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = this.tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        return p;\n    }\n    tryParse(str) {\n        try {\n            return JSON.parse(str, this.reviver);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return isObject(payload);\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || isObject(payload);\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return (Array.isArray(payload) &&\n                    (typeof payload[0] === \"number\" ||\n                        (typeof payload[0] === \"string\" &&\n                            RESERVED_EVENTS.indexOf(payload[0]) === -1)));\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n            this.reconstructor = null;\n        }\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = reconstructPacket(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n", "import { isBinary } from \"./is-binary.js\";\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nexport function deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nexport function reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    delete packet.attachments; // no longer useful\n    return packet;\n}\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder === true) {\n        const isIndexValid = typeof data.num === \"number\" &&\n            data.num >= 0 &&\n            data.num < buffers.length;\n        if (isIndexValid) {\n            return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n        }\n        else {\n            throw new Error(\"illegal attachments\");\n        }\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n", "const withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nexport function isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexport function hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\n", "export function on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\n", "/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\nexport function Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n}\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\nBackoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n    if (this.jitter) {\n        var rand = Math.random();\n        var deviation = Math.floor(rand * this.jitter * ms);\n        ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n    return Math.min(ms, this.max) | 0;\n};\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\nBackoff.prototype.reset = function () {\n    this.attempts = 0;\n};\n/**\n * Set the minimum duration\n *\n * @api public\n */\nBackoff.prototype.setMin = function (min) {\n    this.ms = min;\n};\n/**\n * Set the maximum duration\n *\n * @api public\n */\nBackoff.prototype.setMax = function (max) {\n    this.max = max;\n};\n/**\n * Set the jitter\n *\n * @api public\n */\nBackoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n};\n", "export const numOrZero = num=>{ \r\n    const n = Number(num);\r\n    return isNaN(n) ? 0 : Math.max(0, n);\r\n}\r\n\r\nexport const toArray = any=>{\r\n    if (any == null) { return []; }\r\n    if (Array.isArray(any)) { return any; }\r\n    return [ any ];\r\n}", "import { numOrZero, toArray } from \"./tools\";\n\nconst _pass = [\"all\", \"first\", \"last\"];\n\nexport const fakePromise = ()=>{\n    const prom = {};\n    prom.result = new Promise((res, rej)=>{\n        prom.resolve = res;\n        prom.reject = rej;\n    });\n    return prom;\n}\n\nexport class Queue extends Function {\n\n    constructor(processTasks, opt={}) {\n        super();\n\n        opt = typeof opt === \"object\" ? opt : {};\n\n        if (typeof processTasks !== \"function\") { throw Error(\"Queue(...) expect first argument to be function\"); }\n\n        const onInit = opt.onInit;\n        if (onInit && typeof onInit !== \"function\") { throw Error(\"Queue(...) expect opt.onInit to be function\"); }\n\n        const pass = opt.pass != null ? opt.pass : \"all\";\n        if (!_pass.includes(pass)) { throw Error(`Queue(...) expect opt.pass to be one of: '${_pass.join(\"|\")}'`); }\n        \n        const args = toArray(opt.args);\n        const softMs = numOrZero(opt.softMs);\n        const hardMs = numOrZero(opt.hardMs);\n        const maxSize = numOrZero(opt.maxSize);\n        const hardMsActive = hardMs > softMs;\n        \n        let pcq, intA, intB, startAt, prom, tasks = [];\n\n        if (pass === \"all\") { pcq = async q=>processTasks(...args, q); }\n        else if (pass === \"first\") { pcq = async q=>processTasks(...args, ...q[0]); }\n        else if (pass === \"last\") { pcq = async q=>processTasks(...args, ...q[q.length-1]); }\n\n        const init = _=>{\n            startAt = Date.now();\n            prom = fakePromise();\n            if (onInit) { onInit(); }\n            if (hardMsActive) { intB = setTimeout(execute, hardMs); }\n        }\n\n        const execute = async _=>{\n            clearTimeout(intA);\n            clearTimeout(intB);\n            const q = tasks;\n            tasks = [];\n            startAt = undefined;\n            pcq(q).then(prom.resolve).catch(prom.reject);\n        };\n\n        const call = async (...args)=>{\n            clearTimeout(intA);\n            tasks.push(args);\n\n            if (tasks.length === 1) {init();}\n            if (maxSize && tasks.length >= maxSize) { execute(); }\n            else { intA = setTimeout(execute, softMs); }\n\n            if (opt.returnResult) { return prom.result; }\n        }\n\n        const self = Object.setPrototypeOf(call, new.target.prototype);\n\n        Object.defineProperties(self, {\n            isPending:{ enumerable:true, get:_=>!!startAt },\n            size:{ enumerable:true, get:_=>tasks.length },\n            startAt:{ enumerable:true, get:_=>startAt },\n            softEndAt:{ enumerable:true, get:_=>!startAt ? undefined : (startAt + softMs) },\n            hardEndAt:{ enumerable:true, get:_=>(!startAt || !hardMsActive) ? undefined : (startAt + hardMs) }\n        });\n\n        return self;\n    }\n}\n\nexport const createQueue = (processTasks, opt={})=>new Queue(processTasks, opt);\n\nexport default createQueue;", "const _bifrostEvent = \"__$$BifrostDataChannel__\"; ///do not change\r\n\r\nexport const msg = (method, text, descObj={})=>{\r\n    let desc = \"\";\r\n    for (let i in descObj) { desc += (desc ? \", \" : \"\") + ` ${i} '${descObj[i]}'`; }\r\n    return `Bifrost${method}${desc} ${text}`;\r\n};\r\n\r\nconst packError = err=>{\r\n    if (!(err instanceof Error)) { return err; }\r\n    const e = {};\r\n    for (let prop in Object.getOwnPropertyDescriptors(err)) { e[prop] = err[prop]; }\r\n    const { channel } = err;\r\n    const extend = msg(\"\", \"remote\", {channel});\r\n    e.message = extend+\" \"+e.message;\r\n    e.stack = extend+\" \"+e.stack;\r\n    return e;\r\n}\r\n\r\nconst unpackError = err=>{\r\n    if (!err?.message) { return err; }\r\n    const e = new Error(err.message);\r\n    for (let prop in err) { e[prop] = err[prop]; }\r\n    return e;\r\n}\r\n\r\nexport const validateOnError = (onError)=>{\r\n    if (typeof onError === \"function\") { return onError; }\r\n    return ()=>{};\r\n}\r\n\r\nexport const emit = async (socket, channel, body, onError)=>{\r\n    return new Promise((res, rej)=>{\r\n        socket.emit(_bifrostEvent, {channel, body}, (ok, response)=>{\r\n            if (ok) { return res(response); }\r\n            const err = unpackError(response);\r\n            rej(err);\r\n            onError(err);\r\n        });\r\n    });\r\n}\r\n\r\nexport const hear = (socket, getChannel, onError)=>{\r\n    const listener = async ({channel, body}, ack)=>{\r\n        const receiver = getChannel(channel);\r\n        try { await ack(true, !receiver ? undefined : await receiver(socket, body)); }\r\n        catch (err) {\r\n            err.channel = channel;\r\n            await ack(false, packError(err));\r\n            onError(err);\r\n        }\r\n    }\r\n\r\n    socket.on(_bifrostEvent, listener);\r\n    return _=>socket.off(_bifrostEvent, listener);\r\n}\r\n\r\n\r\nexport const unregisterExe = (list, exe)=>{\r\n    const x = list.indexOf(exe);\r\n    if (x < 0) { return false; }\r\n    list.splice(x, 1);\r\n    return true;\r\n}\r\n\r\nexport const registerExe = (list, exe)=>{\r\n    list.unshift(exe);\r\n    return _=>unregisterExe(list, exe);\r\n}\r\n\r\nexport const mapList = async (map, list, ...args)=>{\r\n    for (let i=list.length-1; i>=0; i--) {\r\n        try { \r\n            const res = await list[i](...args);\r\n            if (map && typeof res === \"function\") { map.push(res); }\r\n        }\r\n        catch(err) { console.warn(err); }\r\n    }\r\n}\r\n\r\nexport const mapSockets = (sockets, execute, except)=>{\r\n    const result = [];\r\n    for (const socket of sockets) {\r\n        if (socket === except) { continue; }\r\n        result.push(execute(socket));\r\n    }\r\n    return result;\r\n}", "import { createQueue } from \"@randajan/queue\";\r\nimport { msg } from \"../tools\";\r\n\r\nexport const wrapWithQueue = (exe, queue)=>!queue ? exe : createQueue(exe, queue);\r\nconst wrapWithTrait = (exe, trait)=>!trait ? exe : async (s, ...a)=>exe(await trait(s, ...a), ...a);\r\n\r\nexport const stateExtract = (stateProperty, reply)=>{\r\n    if (stateProperty == null) { return reply; }\r\n    if (reply != null) { return reply[stateProperty]; }\r\n}\r\nexport const stateAttach = (stateProperty, reply, state)=>{\r\n    if (stateProperty == null) { return state; }\r\n    if (reply == null) { return {[stateProperty]:state}; }\r\n    reply[stateProperty] = state;\r\n    return reply;\r\n}\r\n\r\nconst defaultStateAdapter = opt=>{\r\n    let state;\r\n    opt.get = _=>state;\r\n    opt.set = newState=>state=newState;\r\n}\r\n\r\nconst defaultStatesAdapter = opt=>{\r\n    const states = new Map();\r\n    opt.get = (groupId)=>states.get(groupId);\r\n    opt.set = (state, groupId)=>{\r\n        if (state == null) { states.delete(groupId); }\r\n        else { states.set(groupId, state); }\r\n        return state;\r\n    }\r\n}\r\n\r\nconst formatReact = reactions=>{\r\n    if (!reactions) { return; }\r\n    return (state, args)=>{\r\n        const { action, actionArguments } = (state || {});\r\n        if (!action) { throw Error(msg(\".Beam\", `undefined action`)); }\r\n        if (!reactions[action]) { throw Error(msg(\".Beam\", `unknown action '${action}'`)); }\r\n        return reactions[action](...(actionArguments || []), ...args);\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const formatOpt = (channel, opt, isMultiState)=>{\r\n    if (!opt) { opt = {}; }\r\n    if (!opt.set) {\r\n        if (opt.get) { opt.allowChanges = \"none\"; }\r\n        opt.set = opt.get;\r\n    }\r\n    if (!opt.get) {\r\n        if (opt.set) { throw Error(msg(\".Beam(opt)\", \"contain set property without get\", {channel})); }\r\n        if (!isMultiState) { defaultStateAdapter(opt); }\r\n        else { defaultStatesAdapter(opt); }\r\n    }\r\n    if (opt.queue) {\r\n        opt.queue.pass = \"last\";\r\n        opt.queue.returnResult = true;\r\n    }\r\n    if (!opt.actions) { opt.actions = []; }\r\n    opt.react = formatReact(opt.reactions);\r\n    \r\n    opt.set = wrapWithTrait(opt.set, opt.trait);\r\n    \r\n    return opt;\r\n}", "import { mapList, msg, registerExe } from \"../tools\";\r\nimport { wrapWithQueue, stateExtract, stateAttach, formatOpt } from \"./helpers\";\r\n\r\nconst enumerable = true;\r\nconst _privates = new WeakMap();\r\n\r\nexport class Beam {\r\n\r\n    constructor(router, channel, routerAdapter, opt={}) {\r\n        const { pull:pullRaw, push:pushRaw, register, isMultiState } = routerAdapter;\r\n        const {\r\n            get,\r\n            set:setRaw,\r\n            remoteStateProp,\r\n            localStateProp,\r\n            allowChanges:ac,\r\n            queue,\r\n            actions,\r\n            react,\r\n            onError\r\n        } = formatOpt(channel, opt, isMultiState);\r\n\r\n        const _p = {\r\n            channel,\r\n            status:\"init\", // [\"init\", \"error\", \"push\", \"pull\", \"ready\"]\r\n            watchers:[],\r\n            error:null,\r\n            pending:null,\r\n            remoteStateProp,\r\n            localStateProp,\r\n            get,\r\n            actions,\r\n        }\r\n\r\n        const propagate = (state, args)=>{ mapList(undefined, _p.watchers, state, ...args); }\r\n        const set = async (state, args)=>{\r\n            let local;\r\n            try {\r\n                if (react) { state = await react(state, args); }\r\n                local = await setRaw(state, ...args);\r\n            } catch(error) {\r\n                if (!onError) { throw error; }\r\n                local = await onError(error, ...args);\r\n            }\r\n            propagate(stateExtract(localStateProp, local), args); //should propagate only state!!!\r\n            return local;\r\n        }\r\n\r\n        const setRx = async (state, ...args)=>{ //client beam called push\r\n            if (ac && ac != \"remote\") { throw Error(msg(\".Beam\", \"doesn't allow remote changes\", {channel})); }\r\n            return set(state, args);\r\n        };\r\n\r\n        const push = async (state, args)=>{\r\n            if (ac && ac != \"local\") { throw Error(msg(\".Beam\", \"doesn't allow local changes\", {channel})); }\r\n            if (!pushRaw) { return set(state, args); }\r\n            const remote = await pushRaw(state, ...args);\r\n            const local = await set(stateExtract(remoteStateProp, remote), args);\r\n            return stateAttach(remoteStateProp, remote, stateExtract(localStateProp, local));\r\n        }\r\n\r\n        const pull = !pullRaw ? async args=>propagate(await get(...args), args) : async args=>set(await pullRaw(...args), args);\r\n\r\n        const processWithStatus = async (status, pending)=>{\r\n            let state;\r\n            _p.status = status;\r\n            _p.pending = pending;\r\n\r\n            try {\r\n                state = await _p.pending;\r\n                _p.status = \"ready\";\r\n            } catch(err) {\r\n                console.error(err);\r\n                _p.error = err;\r\n                _p.status = \"error\";\r\n            }\r\n\r\n            delete _p.pending;\r\n            return state;\r\n        }\r\n\r\n        _p.pull = args=>processWithStatus(\"pull\", pull(args));\r\n        _p.push = wrapWithQueue((state, args)=>processWithStatus(\"push\", push(state, args)), queue);\r\n\r\n\r\n        Object.defineProperties(this, {\r\n            router:{ value:router},\r\n            channel:{ enumerable, value:channel },\r\n            isPending:{ enumerable, get:_=>!!_p.pending },\r\n            isDone:{ enumerable, get:_=>_p.status === \"ready\" || _p.status === \"error\" },\r\n            status:{ enumerable, get:_=>_p.status },\r\n            allowChanges:{ enumerable, value:ac },\r\n        });\r\n\r\n        _privates.set(this, _p);\r\n\r\n        this.applyActions(this.set.bind(this), this);\r\n\r\n        register(this, setRx);\r\n    }\r\n\r\n    async refresh(...args) {\r\n        const { pending, pull} = _privates.get(this);\r\n        if (pending) { await pending; } else { await pull(args); }\r\n    }\r\n\r\n    getRaw(...args) {\r\n        const { status, pull, get } = _privates.get(this);\r\n        if (status === \"init\") { pull(args); }\r\n        return get(...args);\r\n    }\r\n\r\n    async get(...args) {\r\n        const { pending, status, pull, get } = _privates.get(this);\r\n        if (pending) { await pending; }\r\n        else if (status === \"init\") { await pull(args); }\r\n        return get(...args);\r\n    }\r\n\r\n    async set(state, ...args) {\r\n        const { pending, push } = _privates.get(this);\r\n        if (pending) { await pending; }\r\n        return push(state, args);\r\n    }\r\n\r\n    watch(watcher) {\r\n        const { channel, watchers } = _privates.get(this);\r\n\r\n        if (typeof watcher !== \"function\") { throw Error(msg(\".Beam.watch(...)\", \"expect function\", {channel})); }\r\n        \r\n        return registerExe(watchers, watcher);\r\n    }\r\n\r\n    extractRemoteState(reply) {\r\n        const { remoteStateProp } = _privates.get(this);\r\n        return stateExtract(remoteStateProp, reply);\r\n    }\r\n\r\n    extractLocalState(reply) {\r\n        const { localStateProp } = _privates.get(this);\r\n        return stateExtract(localStateProp, reply);\r\n    }\r\n\r\n    applyActions(setMethod, target={}) {\r\n        const { actions } = _privates.get(this);\r\n        for (let action of actions) {\r\n            const act = (...a)=>setMethod({action, actionArguments:a});\r\n            Object.defineProperty(target, action, { value:act });\r\n        }\r\n        return target;\r\n    }\r\n}", "import { emit, hear, msg, validateOnError } from \"../../arc/tools\";\r\nimport { Beam } from \"../../arc/beam/Beam\";\r\n\r\nconst _privates = new WeakMap();\r\n\r\nexport class ClientRouter {\r\n\r\n    constructor(socket, onError) {\r\n        onError = validateOnError(onError);\r\n        \r\n        const _p = {\r\n            socket,\r\n            channels:new Map(),\r\n            onError\r\n        }\r\n\r\n        Object.defineProperties(this, {\r\n            socket:{ value:socket }\r\n        });\r\n\r\n        hear(socket, channel=>_p.channels.get(channel), onError);\r\n\r\n        _privates.set(this, _p);\r\n    }\r\n    \r\n    async tx(channel, transceiver) {\r\n        const { socket, onError } = _privates.get(this);\r\n        const rnbl = typeof transceiver === \"function\";\r\n\r\n        if (!rnbl) { return emit(socket, channel, transceiver, onError); }\r\n        return transceiver(body=>emit(socket, channel, body, onError));\r\n    }\r\n\r\n    rx(channel, receiver) {\r\n        const { channels } = _privates.get(this);\r\n        if (channels.has(channel)) { throw Error(msg(\"Router\", `allready exist!`, {channel})); }\r\n\r\n        channels.set(channel, receiver);\r\n\r\n        return _=>{\r\n            if (!channels.has(channel)) { return false; }\r\n            channels.delete(channel);\r\n            return true;\r\n        }\r\n    }\r\n\r\n    createBeam(channel, opt={}) {\r\n        return new Beam(this, channel, {\r\n            pull:async _=>{\r\n                return this.tx(channel, {isSet:false});\r\n            },\r\n            push:(state)=>{\r\n                return this.tx(channel, {isSet:true, state});\r\n            },\r\n            register:(beam, set)=>{\r\n                this.rx(channel, (socket, state)=>set(state));\r\n            }\r\n        }, opt);\r\n    }\r\n\r\n}", "import { ClientRouter as BifrostRouter } from \"./router/ClientRouter\";\n\nexport {\n    BifrostRouter\n}\n\nexport default BifrostRouter;\n\n", "import {\n  src_default\n} from \"./chunk-UOVKGED6.js\";\nimport \"./chunk-MQZZBFQG.js\";\nimport \"./chunk-C7UZX2AX.js\";\nexport {\n  src_default as default\n};\n//# sourceMappingURL=index.js.map\n", "class Plex extends Function {\r\n\r\n    static extend(self, props={}) {\r\n        for (let i in props) {\r\n            Object.defineProperty(self, i, {value:props[i], enumerable:true});\r\n        }\r\n        return self;\r\n    }\r\n\r\n    constructor(fce, props={}) {\r\n        super();\r\n        return Plex.extend(Object.setPrototypeOf(fce ? fce.bind() : this, new.target.prototype), props);\r\n    }\r\n}\r\n\r\nexport default Plex;", "import Plex from \"../class/extra/Plex\";\r\n\r\nconst byName = {};\r\nconst byPrototype = new Map();\r\nconst constructorByName = {};\r\n\r\nconst defaultThrow = (msg, name)=>`jet${name ? ` type '${name}'` : \"\"} ${msg}`;\r\nexport const throwError = (msg, name)=>{ throw defaultThrow(msg, name); }\r\nexport const throwWarn = (msg, name)=>{ console.warn(defaultThrow(msg, name)); }\r\n\r\nexport const getDefByName = name=>byName[name];\r\nexport const getDefByProto = prototype=>{\r\n    const list = byPrototype.get(prototype);\r\n    return list ? list[0] : undefined;\r\n}\r\n\r\nconst getByInst = (any, def, withDef=true)=>{\r\n    if (!def.is || def.is(any)) { return withDef ? def : def.name; }\r\n}\r\n\r\nconst findByProto = (any, proto, withDef=true)=>{\r\n    const list = byPrototype.get(proto);\r\n    if (!list) { return; }\r\n    if (list.length === 1) { return getByInst(any, list[0], withDef); }\r\n    for (const def of list) {\r\n        const r = getByInst(any, def, withDef);\r\n        if (r) { return r; }\r\n    }\r\n}\r\n\r\nconst findByInst = (any, strict, withDef=true)=>{\r\n    if (any == null) { return; }\r\n    if (strict) { return findByProto(any, any.__proto__, withDef); }\r\n    let r, p = any;\r\n    do { r = findByProto(any, p = p.__proto__, withDef); }\r\n    while (p && r === undefined);\r\n    return r;\r\n}\r\n\r\nexport const getDefByInst = (any, strict=true)=>findByInst(any, strict, true);\r\n\r\nexport const getNameByInst = (any, strict=true)=>findByInst(any, strict, false);\r\n\r\n\r\nexport const register = def=>{\r\n    byName[def.name] = def;\r\n    Object.defineProperty(constructorByName, def.name, {enumerable:true, value:def.constructor});\r\n    const list = byPrototype.get(def.prototype);\r\n    if (list) { list.unshift(def); }\r\n    else { byPrototype.set(def.prototype, [def]); }\r\n}\r\n\r\nexport default new Plex(getNameByInst, {\r\n    types:constructorByName,\r\n});\r\n", "import jet, { throwError, getDefByName, getDefByInst } from \"./base.js\";\r\n\r\nconst enumerable = true;\r\nconst _magic = [\"only\", \"full\", \"tap\", \"pull\", \"is\", \"to\", \"copy\", \"rnd\"];\r\n\r\nexport const isInstance = any=>{\r\n    const t = typeof any;\r\n    return any != null && (t === \"function\" || t === \"object\");\r\n}\r\nexport const isInstanceOf = (constructor, any)=>any instanceof constructor; //is instance comparing\r\n\r\nexport const is = (name, any, strict=true)=>{\r\n    if (!name) { return false; }\r\n    const def = getDefByName(name);\r\n    if (def) {\r\n        if (any == null) { return false; }\r\n        if (strict && any.__proto__ !== def.prototype) { return false; }\r\n        if (!strict && !(any instanceof def.constructor)) { return false; }\r\n        return !def.is || def.is(any);\r\n    }\r\n    const nt = typeof name;\r\n    if (nt === \"string\") { return typeof any === name; }\r\n    if (any == null || (nt !== \"function\" && nt !== \"object\")) { return false; }\r\n    return strict ? any.constructor === name : any instanceof name;\r\n}\r\n\r\nexport const isFull = (any, vals)=>{\r\n    if (!vals) { return (any === false || any === 0 || !!any); }\r\n    for (let v of vals(any)) { if (v != null) { return true; }}\r\n    return false;\r\n}\r\n\r\n\r\nconst _touch = (def, op, err, ...args)=>{\r\n    if (def[op]) { return def[op](...args); }\r\n    if (err) { throwError(`undefined operation '${op}' - unavailable for this type`, def.name); }\r\n}\r\nexport const touch = (name, op, err, ...args)=>{\r\n    const def = getDefByName(name);\r\n    if (def) { return _touch(def, op, err, ...args); }\r\n    if (err) { throwError(`unable execute '${op}' - type unknown`, name); }\r\n}\r\nexport const touchBy = (any, op, err, ...args)=>{\r\n    const def = getDefByInst(any, false);\r\n    if (def) { return _touch(def, op, err, any, ...args); }\r\n    if (err) { throwError(`unable execute '${op}' - missing type of '${any}'`); }\r\n}\r\n\r\n//0 = only, 1 = full, 2 = tap, 3 = pull\r\nexport const factory = (name, mm, ...args)=>{\r\n    const def = getDefByName(name);\r\n    const n = isInstance(name);\r\n\r\n    if (n && mm > 0) { throwError(`unable execute '${_magic[mm]}' - unavailable for plain constructors`); }\r\n    if (name && !n && !def) { throwError(`unable execute '${_magic[mm]}' - type unknown`, name); }\r\n    if (!name && mm !== 1) { throwError(`unable execute '${_magic[mm]}' - type missing`); }\r\n\r\n    for (const a of args) {\r\n        if (!n) {\r\n            const at = getDefByInst(a);\r\n            if ((!name || (at && at.name === name)) && (mm !== 1 || (at && at.isFull(a) || (!at && isFull(a))))) {\r\n                return mm === 3 ? at.copy(a) : a;\r\n            }\r\n        }\r\n        else if (isInstanceOf(name, a)) { return a; }\r\n    }\r\n    if (mm > 1) { return def.create(); }\r\n}\r\n\r\nexport const to = (name, any, ...args)=>{\r\n    const def = getDefByName(name);\r\n    if (!def) { throwError(`unable execute 'to' - type unknown`, name); }\r\n    const at = getDefByInst(any, false);\r\n    if (!at) { return def.create(); }\r\n    if (def.name === at.name) { return any; }\r\n    const exe = at.to[name] || at.to[\"*\"]; \r\n    return exe ? to(name, exe(any, ...args), ...args) : def.create(any);\r\n}\r\n\r\nexport const defineTo = (from, to, exe)=>{\r\n    const tt = typeof to;\r\n    const def = getDefByName(from);\r\n    if (!def) { throwError(`unable define 'to' - type unknown`, from); }\r\n    const conv = def.to;\r\n    if (tt === \"function\") { conv[\"*\"] = to; }\r\n    else if (tt === \"object\" && Array.isArray(to)) { for (let i in to) { conv[to[i]] = exe; } }\r\n    else if (tt === \"object\") { for (let i in to) { conv[i] = to[i]; } }\r\n    else { conv[to] = exe; }\r\n}\r\n\r\nexport const getRND = (arr, min, max, sqr)=>{ //get random element from array or string\r\n    if (!arr) { return; }\r\n    arr = Array.from(arr);\r\n    const l = arr.length;\r\n    return arr[Math.floor(Number.jet.rnd(Number.jet.frame(min||0, 0, l), Number.jet.frame(max||l, 0, l), sqr))];\r\n};\r\n\r\n\r\nexport const extend = (def, extender, isNative=false)=>{\r\n    const { name, constructor } = def;\r\n\r\n    for (const key in extender) {\r\n        const value = extender[key];\r\n        Object.defineProperty(constructor.jet, key, {enumerable, value});\r\n\r\n        if (isNative && jet[key]) { Object.defineProperty(jet[key], name, {enumerable, value}); }\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\nexport const defineExtend = (name, extender={})=>{\r\n    const def = getDefByName(name);\r\n    if (!def) { throwError(`unable define 'extend' - type unknown`, name); }\r\n    if (typeof extender !== \"object\") { throwError(`unable define 'extend' - require object`, name); }\r\n\r\n    if (!def.constructor.jet) { Object.defineProperty(def.constructor, \"jet\", {value:{}, writable:true }); }\r\n\r\n    return extend(def, extender, false);\r\n}", "import { throwError, register, getDefByName, throwWarn, getDefByProto } from \"./base.js\";\r\nimport * as _ from \"./methods.js\";\r\n\r\n\r\nconst accepts = [ \"create\", \"is\", \"isFull\", \"copy\", \"rnd\", \"keys\", \"vals\", \"entries\", \"get\", \"set\", \"rem\", \"to\", \"extend\" ];\r\n\r\nconst define = (name, constructor, options={})=>{\r\n    if (getDefByName(name)) { throwError(\"is allready defined\", name);}\r\n    if (!constructor) { throwError(\"constructor missing\", name); }\r\n\r\n    let { create, is, isFull, copy, rnd, keys, vals, entries, get, set, rem, to, extend } = options;\r\n    const unknownOptions = Object.keys(options).filter(opt => !accepts.includes(opt)); // validate options\r\n\r\n    if (unknownOptions.length) { throwWarn(`unknown options appeared at definition. '${unknownOptions.join(\"', '\")}'`, name); }\r\n    if ((keys || vals || entries) && !(keys && vals && entries)) { throwError(\"keys, vals or entries missing\", name); }\r\n\r\n    const prototype = constructor.prototype;\r\n    const ancestor = getDefByProto(prototype);\r\n    create = create || ((...a)=>new constructor(...a));\r\n    copy = copy || (any=>any);\r\n    rnd = rnd || create;\r\n    isFull = isFull || (any=>_.isFull(any, vals));\r\n\r\n    if (entries) {\r\n        get = get || ((x, k) => x[k]);\r\n        set = set || ((x, k, v) => x[k] = v);\r\n        rem = rem || ((x, k) => delete x[k]);\r\n    }\r\n    \r\n    const def = { name, constructor, prototype, is, create, isFull, copy, rnd, keys, vals, entries, get, set, rem, to:{} };\r\n    register(def);    \r\n    _.defineTo(name, to);\r\n\r\n    if (extend !== false) {\r\n        if (ancestor) { throwWarn(`constructor allready extended as '${ancestor.name}'. Use option 'extend:false'`, name); }\r\n        Object.defineProperty(constructor, \"jet\", { value:{}, writable:true });\r\n        \r\n        _.extend(def, {\r\n            create,\r\n            rnd,\r\n            isFull,\r\n            is: (any, strict = true) => _.is(name, any, strict),\r\n            to: (any, ...a) => _.to(name, any, ...a),\r\n            only: (...a) => _.factory(name, 0, ...a),\r\n            full: (...a) => _.factory(name, 1, ...a),\r\n            tap: (...a) => _.factory(name, 2, ...a),\r\n            pull: (...a) => _.factory(name, 3, ...a)\r\n        }, true);\r\n\r\n        if (entries) {\r\n            _.extend(def, {\r\n                keys,\r\n                vals,\r\n                entries,\r\n                get,\r\n                set,\r\n                rem,\r\n                getRND: (any, min, max, sqr) => _.getRND(vals(any), min, max, sqr)\r\n            }, true);\r\n        }\r\n\r\n        if (typeof extend === \"object\") { _.extend(def, extend); }\r\n    }\r\n\r\n    return constructor;\r\n};\r\n\r\nexport default define;", "import Plex from \"../../class/extra/Plex\";\r\n\r\nexport const solid = new Plex(\r\n    (obj, name, value, enumerable=true)=>Object.defineProperty(obj, name, { enumerable, value }),\r\n    {\r\n        all:(obj, namedValues, enumerable=true)=>{\r\n            for (const [name, value] of Object.entries(namedValues)) {\r\n                solid(obj, name, value, enumerable);\r\n            }\r\n            return obj;\r\n        }\r\n    }\r\n);\r\n\r\nexport const virtual = new Plex(\r\n    (obj, name, get, enumerable=true)=>Object.defineProperty(obj, name, { enumerable, get }),\r\n    {\r\n        all:(obj, namedGets, enumerable=true)=>{\r\n            for (const [name, get] of Object.entries(namedGets)) {\r\n                virtual(obj, name, get, enumerable);\r\n            }\r\n            return obj;\r\n        }\r\n    }\r\n);\r\n\r\nexport const safe = new Plex(\r\n    (obj, priv, name, set, get, enumerable=true)=>{\r\n        return Object.defineProperty(obj, name, {\r\n            set:set ? v=>priv[name] = set(v, priv[name], name) : undefined,\r\n            get:get ? _=>get(priv[name], name) : _=>priv[name],\r\n            enumerable\r\n        });\r\n    },\r\n    {\r\n        all:(obj, priv, namedSetsAndGets, enumerable=true)=>{\r\n            for (const [name, { set, get }] of Object.entries(namedSetsAndGets)) {\r\n                safe(obj, priv, name, set, get, enumerable);\r\n            }\r\n            return obj;\r\n        }\r\n    }\r\n);\r\n\r\nexport const cached = new Plex(\r\n    (obj, priv, name, set, enumerable=true)=>{\r\n        return safe(obj, priv, name, null, v=>v != null ? v : (priv[name] = set(name)), enumerable)\r\n    },\r\n    {\r\n        all:(obj, priv, namedSets, enumerable=true)=>{\r\n            for (const [name, set] of Object.entries(namedSets)) {\r\n                cached(obj, priv, name, set, enumerable);\r\n            }\r\n            return obj;\r\n        }\r\n    }\r\n);\r\n", "import jet, { getDefByInst } from \"../base.js\";\r\nimport * as dot from \"./dot.js\";\r\n\r\n\r\nconst each = (any, fce, deep, init)=>{\r\n    let isPending = true;\r\n    const stop = _=>{ isPending = false; }\r\n\r\n    const dprun = jet.isRunnable(deep);\r\n\r\n    const exe = (ctx, skipDeep=false)=>{\r\n        const { parent, path, def } = ctx;\r\n        const de = def?.entries;\r\n\r\n        if (!de || (!deep && parent)) { fce(ctx); }\r\n        else if (dprun && !skipDeep) { deep(ctx, _=>{ exe(ctx, true); }); }\r\n        else {\r\n            for (let [key, val] of de(ctx.val)) {\r\n                exe({\r\n                    parent:ctx, val, key, stop, def:getDefByInst(val),\r\n                    path:dot.glue(path, dot.escape(String(key)))\r\n                });\r\n                if (!isPending) { break; }\r\n            };\r\n        }\r\n\r\n        return ctx.result;\r\n    }\r\n\r\n    const ctx = { val:any, stop, def:getDefByInst(any) };\r\n    if (init) { init(ctx); }\r\n    return exe(ctx, true);\r\n};\r\n\r\nexport const reducer = reductor=>{\r\n    let i=0, next;\r\n    return next = (...input)=>reductor(next, i++, ...input);\r\n}\r\n\r\nexport const dig = (any, path, reductor)=>{\r\n    path = dot.toArray(path);\r\n\r\n    const end = path.length-1;\r\n    return reducer((next, index, parent)=>{\r\n        return reductor(next, parent, path[index], index === end);\r\n    })(any);\r\n}\r\n\r\nexport const digOut = (any, path, def)=>{\r\n    path = dot.toArray(path);\r\n\r\n    for (let p of path) { if (null == (any = jet.get(any, p, false))) { return def; }}\r\n    return any;\r\n};\r\n\r\nexport const digIn = (any, path, val, force=true)=>{\r\n\r\n    const step = (next, parent, key, isEnd)=>{\r\n        let df = getDefByInst(parent);\r\n        if (!df || !df.entries) {\r\n            if (!force) { return parent; }\r\n            parent = String.jet.isNumeric(key) ? [] : {};\r\n            df = getDefByInst(parent);\r\n        }\r\n        const v = isEnd ? val : next(df.get(parent, key, false));\r\n        if (v != null) { df.set(parent, key, v, false); return parent; }\r\n        df.rem(parent, key);\r\n        if (df.isFull(parent)) { return parent; }\r\n    };\r\n\r\n    return dig(any, path, step);\r\n}\r\n\r\nexport const deflate = (any, includeMapable=false)=>{\r\n    const flat = {};\r\n    const add = ({ val, path }, next)=>{\r\n        flat[path] = val;\r\n        if (next) { next(); }\r\n    };\r\n    each(any, add, includeMapable ? add : true);\r\n    if (includeMapable) { flat[\"\"] = any; }\r\n    return flat;\r\n}\r\n\r\nexport const inflate = (flat, includeMapable=true)=>{\r\n    const r = {};\r\n    for (const e of Object.keys(flat).sort()) {\r\n        if (!includeMapable && jet.isMapable(flat[e])) { continue; }\r\n        digIn(r, \"to.\"+e, flat[e], true);\r\n    }\r\n    return r.to;\r\n};\r\n\r\n const _assign = (overwriteArray, to, ...any)=>{\r\n    const flat = deflate(to, true);\r\n\r\n    const add = ({ val, path })=>{ to = digIn(to, path, val); }\r\n    const acumulate = ({ val, path, def }, next)=>{\r\n        if (!flat[path]) { add(flat[path] = def.create(), path); }\r\n        if (Array.isArray(val) && Array.isArray(flat[path])) { flat[path].push(...val); }\r\n        else { next(val); }\r\n    }\r\n\r\n    for (const a of any) { each(a, add, !!overwriteArray || acumulate); }\r\n\r\n    return to;\r\n};\r\n\r\nexport const assign = (to, from, overwriteArray=true)=>_assign(overwriteArray, to, from);\r\nexport const merge = (...any)=>_assign(false, {}, ...any);\r\n\r\nexport const compare = (a, b, diffList=false)=>{\r\n    if (a === b) { return changeList ? [] : true; }\r\n\r\n    const res = [];\r\n    const flat = deflate(a);\r\n\r\n    each(b, ({ val, path, stop })=>{\r\n        if (flat[path] !== val) { res.push(path); }\r\n        delete flat[path];\r\n        if (!diffList && res.length) { stop(); }\r\n    }, true);\r\n\r\n    for (let path in flat) {\r\n        if (!diffList && res.length) { break; }\r\n        res.push(path);\r\n    }\r\n\r\n    return diffList ? res : !res.length;\r\n}\r\n\r\nexport const copy = (any, deep=false, copyUnmapable=false)=>{\r\n    return each(any, ctx=>{\r\n        const { parent, val, key, def } = ctx;\r\n        if (!parent) { return; }\r\n        parent.def.set(parent.result, key, ctx.result = copyUnmapable ? def.copy(val) : val);\r\n    }, !deep ? false : (ctx, next)=>{\r\n        const { parent, key, def } = ctx;\r\n        parent.def.set(parent.result, key, ctx.result = def.create());\r\n        next();\r\n    }, ctx=>{\r\n        const { val, def } = ctx;\r\n        ctx.result = def.entries ? def.create() : def.copy(val);\r\n    });\r\n}\r\n\r\nexport const melt = (any, comma, trait)=>{\r\n    if (any == null) { return \"\"; }\r\n    if (typeof any === \"string\") { return any; }\r\n    \r\n    let j = \"\", c = String.jet.to(comma);\r\n    if (!jet.isMapable(any)) { return String.jet.to(any, c); }\r\n    if (!jet.isRunnable(trait)) { trait = String.jet.to; }\r\n    each(any, ({ val })=>{\r\n        val = trait(val, c);\r\n        if (val) { j += (j?c:\"\")+val; }\r\n    }, true);\r\n    return j;\r\n}\r\n\r\nexport const run = (any, ...args)=>{\r\n    if (jet.isRunnable(any)) { return any(...args); }\r\n    if (!jet.isMapable(any)) { return undefined; }\r\n    const res = [];\r\n    each(any, ({val})=>{ res.push(jet.isRunnable(val) ? val(...args) : undefined); }, true);\r\n    return res;\r\n}\r\n\r\nexport const enumFactory = (enums, {before, after, def}={})=>(raw, ...args)=>{\r\n    const input = before ? before(raw, ...args) : raw;\r\n    const output = enums.includes(input) ? input : def;\r\n    \r\n    return after ? after(output, ...args) : output;\r\n}\r\n\r\nexport const json = {\r\n    from: (json, throwErr=false)=>{\r\n        if (jet.isMapable(json)) { return json; }\r\n        try { return JSON.parse(String.jet.to(json)); } catch(e) { if (throwErr === true) { throw e } }\r\n    },\r\n    to: (obj, prettyPrint=false)=>{\r\n        const spacing = Number.jet.only(prettyPrint === true ? 2 : prettyPrint);\r\n        return JSON.stringify(jet.isMapable(obj) ? obj : {}, null, spacing);\r\n    }\r\n}", "import jet from \"../base\";\r\n\r\nconst isBlank = str=>str == null || str === \"\";\r\nconst noBlank = str=>isBlank(str) ? \"\" : str;\r\n\r\nexport const escape = str=>typeof str !== \"string\" ? str : str.replaceAll(\".\", \"\\\\.\");\r\nexport const unescape = str=>typeof str !== \"string\" ? str : str.replaceAll(\"\\\\.\", \".\");\r\nexport const split = str=>(str.match(/(?:\\\\.|[^.])+/g) || []).map(unescape);\r\n\r\nexport const bite = (str, direction, position)=>{\r\n    const dir = direction !== false;\r\n    const x = dir ? str.indexOf(\".\", position) : str.lastIndexOf(\".\", position);\r\n    if (x <= 0) { return [str, \"\"]; }\r\n    if (x > 1 && str.charAt(x-1) === \"\\\\\") { return bite(str, dir, x+(dir*2-1)); }\r\n    return direction ? [str.slice(0, x), str.slice(x + 1)] : [str.slice(x + 1), str.slice(0, x)];\r\n}\r\n\r\nexport const biteLeft = (str, position)=>bite(str, true, position);\r\nexport const biteRight = (str, position)=>bite(str, false, position);\r\n\r\nexport const glue = (strA, strB)=>{\r\n    if (isBlank(strA)) { return noBlank(strB); }\r\n    if (isBlank(strB)) { return noBlank(strA); }\r\n\r\n    return strA + \".\" + strB;\r\n}\r\n\r\nexport const toString = any=>jet.melt(any, \".\");\r\nexport const toArray = any=>split(toString(any));\r\n", "import Plex from \"../class/extra/Plex.js\";\r\nimport jet, { getDefByInst } from \"./base.js\";\r\nimport * as _ from \"./methods.js\";\r\nimport define from \"./define.js\";\r\nimport * as prop from \"./extra/props.js\";\r\nimport * as pile from \"./extra/pile.js\";\r\nimport * as dot from \"./extra/dot.js\";\r\n\r\nexport default Plex.extend(jet, {\r\n    is:_.is,\r\n    to:_.to,\r\n    isFull:any=>{ const def = getDefByInst(any, false); return def ? def.isFull(any) : _.isFull(any); },\r\n    isMapable:(any, strict=true)=>{ const def = getDefByInst(any, strict); return def ? !!def.entries : false; },\r\n    isRunnable:any=>typeof any === \"function\",\r\n    full:(...a)=>_.factory(null, 1, ...a),\r\n    only:(name, ...a)=>_.factory(name, 0, ...a),\r\n    tap:(name, ...a)=>_.factory(name, 2, ...a),\r\n    pull:(name, ...a)=>_.factory(name, 3, ...a),\r\n    create:(name, ...a)=>_.touch(name, \"create\", true, ...a),\r\n    rnd:(name, ...a)=>_.touch(name, \"rnd\", true, ...a),\r\n    keys:(any, throwError=false)=>_.touchBy(any, \"keys\", throwError) || [],\r\n    vals:(any, throwError=false)=>_.touchBy(any, \"vals\", throwError) || [],\r\n    entries:(any, throwError=false)=>_.touchBy(any, \"entries\", throwError) || [],\r\n    get:(any, key, throwError=false)=>_.touchBy(any, \"get\", throwError, key),\r\n    set:(any, key, val, throwError=false)=>_.touchBy(any, \"set\", throwError, key, val),\r\n    rem:(any, key, throwError=true)=>_.touchBy(any, \"rem\", throwError, key),\r\n    uid:(length=12, pattern=\"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890\")=>{\r\n        let r = \"\"; pattern = String.jet.to(pattern) || \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890\";\r\n        while (r.length < length) { r += jet.getRND(pattern); }\r\n        return r;\r\n    },\r\n    getRND:(any, min, max, sqr)=>{\r\n        const def = getDefByInst(any);\r\n        if (def && def.vals) { any = def.vals(any); }\r\n        else if (typeof any === \"string\") { return _.getRND(any, min, max, sqr); }\r\n    },\r\n    prop,\r\n    ...pile,\r\n    dot,\r\n    define:new Plex(define, {to:_.defineTo, extend:_.defineExtend})\r\n});\r\n\r\ndefine(\"Plex\", Plex, {\r\n    copy:x=>Object.defineProperties({}, Object.getOwnPropertyDescriptors(x)),\r\n    keys:x=>Object.keys(x),\r\n    vals:x=>Object.values(x),\r\n    entries:x=>Object.entries(x)\r\n});", "\r\nimport jet from \"../../defs\";\r\n\r\njet.define(\"Number\", Number, {\r\n    create:Number,\r\n    rnd:(min, max, sqr)=>{\r\n        let r = Math.random();\r\n        sqr = sqr === true ? 2 : sqr === false ? -2 : Number.jet.is(sqr) ? sqr : 0;\r\n        if (sqr) { r = Math.pow(r, sqr < 0 ? -sqr : 1/sqr); }\r\n        return Number.jet.fromRatio(r, min||0, max||min||1);\r\n    },\r\n    to:{\r\n        Function:num=>_=>num,\r\n        Boolean:num=>!!num,\r\n        Array:(num, comma)=>comma?[num]:Array(num), \r\n        Promise:async num=>num,\r\n        String:num=>String(num)\r\n    },\r\n    extend:{\r\n        x: (num1, symbol, num2)=>{\r\n            const s = symbol, nums = Number.jet.zoomIn(num1, num2), [n, m] = nums;\r\n            if (s === \"/\") { return n/m; }\r\n            if (s === \"*\") { return n*m/Math.pow(nums.zoom, 2); }\r\n            return (s === \"+\" ? n + m : s === \"-\" ? n - m : s === \"%\" ? n % m : NaN) / nums.zoom;\r\n        },\r\n        frame: (num, min, max)=>{\r\n            num = max == null ? num : Math.min(num, max); \r\n            return min == null ? num : Math.max(num, min);\r\n        },\r\n        round: (num, dec, kind)=>{\r\n            const k = Math.pow(10, dec || 0);\r\n            return Math[kind == null ? \"round\" : kind ? \"ceil\" : \"floor\"](num * k) / k;\r\n        },\r\n        len: (num, bol)=>{\r\n            const b = bol, s = String.jet.to(num), l = s.length, i = s.indexOf(\".\"), p = (i >= 0);\r\n            return (b === false ? (p ? l - i - 1 : 0) : ((!p || !b) ? l : i));\r\n        },\r\n        period: (val, min, max)=>{ const m = max - min; return (m + (val - min) % m) % m + min; },\r\n        toRatio: (num, min, max)=>{ const m = max - min; return m ? (num - min) / m : 0; },\r\n        fromRatio: (num, min, max)=>{ const m = max - min; return num * m + min; },\r\n        zoomIn: (...nums)=>{\r\n            const zoom = Math.pow(10, Math.max(...nums.map(num => Number.jet.len(num, false))));\r\n            return jet.prop.solid(nums.map(num => Math.round(num * zoom)), \"zoom\", zoom);\r\n        },\r\n        zoomOut: (...nums)=>nums.map(num => num / nums.zoom),\r\n        diffusion: (num, min, max, diffusion)=>{\r\n            const  d = num * diffusion;\r\n            return Number.jet.rnd(Math.max(min, num - d), Math.min(max, num + d));\r\n        },\r\n        snap: (num, step, min, max, ceil, frame=true)=>{\r\n            var v = num, s = step, n = min, m = max, ni = (n != null), mi = (m != null), c = ceil;\r\n            if (v == null || s == null || s <= 0 || !(ni || mi)) { return v; } else if (frame) { v = Number.jet.frame(v, n, m); }\r\n            var r = ni ? v - n : m - v; v = (r % s) ? ((ni ? n : m) + (Number.jet.round(r / s, 0, c == null ? null : c === ni) * s * (ni * 2 - 1))) : v; //snap\r\n            return (frame ? (Number.jet.frame(v, n, m)) : v); //frame\r\n        },\r\n        whatpow: (num, base)=>Math.log(num)/Math.log(Number.jet.to(base)),\r\n        toHex: num=>{var r = Math.round(num).toString(16); return r.length === 1 ? \"0\" + r : r;},\r\n        toLetter: (num, letters)=>{\r\n            letters = String.jet.to(letters) || \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\r\n            const len = letters.length;\r\n            return (num >= len ? Number.jet.toLetter(Math.floor(num / len) -1) : '') + letters[num % len];\r\n        }\r\n    }\r\n});\r\n", "import jet from \"../../defs\";\r\n\r\nconst fight = (a, b)=>{\r\n    if (a == b) { return; }\r\n    if (a == null) { return true; } else if (b == null) { return false; }\r\n    if (typeof a === \"string\" || typeof b === \"string\") { return a === String.jet.fight(a, b); }\r\n    if (isNaN(a)) { return true; } else if (isNaN(b)) { return false; }\r\n    return a < b;\r\n}\r\n\r\njet.define(\"Array\", Array, {\r\n    create:Array,\r\n    copy:x=>Array.from(x),\r\n    keys:x=>[...x.keys()],\r\n    vals:x=>[...x.values()],\r\n    entries:x=>[...x.entries()],\r\n    to:{\r\n        Function:arr=>_=>arr,\r\n        Boolean:arr=>Array.jet.isFull(arr),\r\n        Number:arr=>arr.length,\r\n        String:(arr, comma)=>jet.melt(arr, comma),\r\n        Object:arr=>Object.assign({}, arr),\r\n        Promise: async arr=>arr,\r\n        Error:(arr, comma)=>jet.melt(arr, comma != null ? comma : \" \"),\r\n        RegExp:(arr, comma)=>jet.melt(arr, comma != null ? comma : \"|\")\r\n    },\r\n    extend:{\r\n        swap:(arr, to, from)=>{//swap position of two items in array\r\n            [arr[to], arr[from]] = [arr[from], arr[to]];\r\n            return arr;\r\n        },\r\n        shuffle:(arr)=>{//shuffle whole array\r\n            for (let i = arr.length - 1; i > 0; i--) {Array.jet.swap(arr, Math.floor(Math.random() * (i + 1)), i);}\r\n            return arr;\r\n        },\r\n        clean:(arr, rekey, handler)=>{\r\n            handler = Function.jet.tap(handler, v=>v!=null);\r\n            return rekey !== false ? arr.filter(handler) : arr.map(v=>handler(v) ? v : undefined);\r\n        },\r\n        compare:(a, b, sameIndex=false)=>{\r\n            if (!Array.isArray(a) || !Array.isArray(b) || a.length !== b.length) { return false; }\r\n            const m = new Map();\r\n            const wr = (v, dir)=>{\r\n                const c = (m.get(v) || 0) + dir;\r\n                if (!c) { m.delete(v); } else { m.set(v, c); }\r\n            }\r\n        \r\n            for (let i=0; i < a.length; i++) {\r\n                if (a[i] === b[i]) { continue; }\r\n                if (sameIndex) { return false; }\r\n                wr(a[i], 1);\r\n                wr(b[i], -1);\r\n            }\r\n        \r\n            return !m.size;\r\n        },\r\n        sliceMap:(arr, size, callback)=>{\r\n            if (!jet.isRunnable(callback)) { callback = _=>_; }\r\n            size = Math.max(1, size) || 1;\r\n            const r = [];\r\n            if (!Array.isArray(arr)) { return r; }\r\n            for (let k = 0; k < arr.length; k += size) { r.push(callback(arr.slice(k, k + size), r.length, size, arr.length)); }\r\n            return r;\r\n        }\r\n    }\r\n});", "import jet from \"../../defs\";\r\n\r\njet.define(\"Boolean\", Boolean, {\r\n    create:Boolean,\r\n    rnd:(trueRatio=.5)=>Math.random() < trueRatio,\r\n    to:{\r\n        Function:bol=>_=>bol\r\n    }\r\n});\r\n\r\n", "import jet from \"../../defs\";\r\n\r\njet.define(\"Date\", Date, {\r\n    create:x=>!x ? new Date() : new Date(x),\r\n    rnd:(from, to)=>new Date(Number.jet.rnd((new Date(from)).getTime(), to ? (new Date(to)).getTime() : Date.now()*2)),\r\n    to:{\r\n        Function:date=>_=>date\r\n    }\r\n});", "import jet from \"../../defs\";\r\n\r\njet.define(\"Error\", Error, {\r\n    create:Error,\r\n    rnd:(...a)=>new Error(jet.rnd.String(...a)),\r\n    to:{\r\n        Function:err=>_=>err\r\n    }\r\n});\r\n", "import jet from \"../../defs\";\r\n\r\njet.define(\"Function\", Function, {\r\n    create: Function,\r\n    copy: x => Object.defineProperties(({ [x.name]: (...a) => x(...a) })[x.name], Object.getOwnPropertyDescriptors(x)),\r\n    extend: {\r\n        benchmark: (fces, inputs, iterations=100) => {\r\n            const results = [];\r\n            const args = [];\r\n            for (let i=0; i<iterations; i++) { args[i] = inputs.map(f=>f()); }\r\n\r\n            for (const key in fces) {\r\n                const fce = fces[key];\r\n                if (typeof fce !== 'function') { continue; }\r\n                const log = [];\r\n                const startTime = performance.now();\r\n                for (let i=0; i<iterations; i++) { log.push({inputs:args[i], output:fce(...args[i])}); }\r\n                const endTime = performance.now();\r\n                const duration = endTime - startTime;\r\n                results.push({ name:fce.name || key, duration, log });\r\n            }\r\n\r\n            return results.sort((a, b) => a.duration - b.duration);\r\n        }\r\n    },\r\n    to: {\r\n        \"*\": (fce, ...args) => fce(...args),\r\n        Promise: async (fce, ...args) => await fce(...args),\r\n    },\r\n});", "import jet from \"../../defs\";\r\n\r\njet.define(\"Map\", Map, {\r\n    copy:x=>new Map(x),\r\n    keys:x=>[...x.keys()],\r\n    vals:x=>[...x.values()],\r\n    entries:x=>[...x.entries()],\r\n    get:(x,k)=>x.get(k),\r\n    set:(x,k,v)=>x.set(k,v),\r\n    rem:(x,k)=>x.delete(k),\r\n    to:{\r\n        Function:map=>_=>map\r\n    }\r\n});", "import jet from \"../../defs\";\r\n\r\njet.define(\"NaN\", Number, {\r\n    create:_=>NaN,\r\n    is:isNaN,\r\n    extend:false,\r\n    to:_=>undefined\r\n});", "import jet from \"../../defs\";\r\n\r\nconst filter = (obj, callback)=>{\r\n    const r = {};\r\n    for (let i in obj) { if (callback(obj[i], i)) { r[i] = obj[i]; } }\r\n    return r;\r\n}\r\n\r\njet.define(\"Object\", Object, {\r\n    create:Object,\r\n    copy:x=>Object.defineProperties({}, Object.getOwnPropertyDescriptors(x)),\r\n    keys:x=>Object.keys(x),\r\n    vals:x=>Object.values(x),\r\n    entries:x=>Object.entries(x),\r\n    extend:{\r\n        filter,\r\n        exclude:(obj, mask=[])=>filter(obj, (v, k)=>!mask.includes(k)),\r\n        extract:(obj, mask=[])=>filter(obj, (v, k)=>mask.includes(k)),\r\n    },\r\n    to:{\r\n        Function:obj=>_=>obj,\r\n        Symbol:obj=>Symbol(jet.json.to(obj)),\r\n        Boolean:obj=>jet.isFull.Object(obj),\r\n        Number:obj=>Object.values(obj),\r\n        Array:obj=>Object.values(obj),\r\n        String:obj=>(obj.toString && obj.toString !== Object.prototype.toString) ? obj.toString() : jet.json.to(obj),\r\n        Promise:async obj=>obj,\r\n        Error:obj=>jet.json.to(obj),\r\n        RegExp:(obj, comma)=>jet.melt(obj, comma != null ? comma : \"|\")\r\n    }\r\n});\r\n", "import jet from \"../../defs\";\r\n\r\njet.define(\"Promise\", Promise, {\r\n    create:x=>new Promise(jet.only.Function(x, e=>e()))\r\n});", "import jet from \"../../defs\";\r\n\r\njet.define(\"RegExp\", RegExp, {\r\n    create:RegExp,\r\n    copy:x=>RegExp(x.source),\r\n    extend:{\r\n        lib:{\r\n            line:/[^\\n\\r]+/g, \r\n            number:/-?(\\d+(\\s+\\d+)*)*[,.]?\\d+/, \r\n            word:/[^\\s\\n\\r]+/g,\r\n            num:/-?[0-9]*[.,]?[0-9]+/,\r\n            email: /(?:[a-z0-9!#$%&'*+/=?^_{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/i,\r\n            ip:/((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))/i,\r\n            domain: /([a-z0-9]+\\.)+(cz|de|sk|au|com|eu|info|org|[a-z]+)/i,\r\n            hexadecimal: /[0-9a-fA-F]{6,6}/,\r\n        }\r\n    },\r\n    to:{\r\n        Function:regex=>_=>regex,\r\n        String:regex=>regex.source\r\n    }\r\n});", "import jet from \"../../defs\";\r\n\r\njet.define(\"Set\", Set, {\r\n    copy:x=>new Set(x),\r\n    keys:x=>[...x.keys()],\r\n    vals:x=>[...x.values()],\r\n    entries:x=>[...x.entries()],\r\n    get:(x,k)=>x.has(k)?k:undefined,\r\n    set:(x,k,v)=>x.add(v)?v:undefined,\r\n    rem:(x,k)=>x.delete(k),\r\n    to:{\r\n        \"*\":set=>Array.from(set),\r\n        Function:set=>_=>set,\r\n        Boolean:set=>Set.jet.isFull(set),\r\n        Object:set=>jet.merge(set),\r\n        Promise:async set=>set,\r\n    }\r\n});", "import jet from \"../../defs\";\r\n\r\nconst hidePats = {\r\n    point:\"\u2022\", cross:\"\u00D7\", flake:\"\u2600\", draft:\"\u232D\", power:\"\u26A1\", star:\"\u2605\", skull:\"\u2620\", card:\"\u2660\u2665\u2666\u2663\", notes:\"\u2669\u266A\u266B\u266C\u266D\u266E\u266F\", chess:\"\u2654\u2655\u2656\u2657\u2658\u2659\u265A\u265B\u265C\u265D\u265E\u265F\",\r\n    block:\"\u2596\u2597\u2598\u2599\u259A\u259B\u259C\u259D\u259E\u259F\", bar:\"\u2502\u2551 \u258C\u2590\u2588\", iting:\"\u2630\u2631\u2632\u2633\u2634\u2635\u2636\u2637\", astro:\"\u2648\u2649\u264A\u264B\u264C\u264D\u264E\u264F\u2650\u2651\u2652\u2653\", die:\"\u2680\u2681\u2682\u2683\u2684\u2685\",\r\n    runic:\"\u16A0\u16A1\u16A2\u16A3\u16A4\u16A5\u16A6\u16A7\u16A8\u16A9\u16AA\u16AB\u16AC\u16AD\u16AE\u16AF\u16B0\u16B1\u16B3\u16B4\u16B5\u16B6\u16B7\u16B8\u16B9\u16BA\u16BB\u16BC\u16BD\u16BE\u16BF\u16C0\u16C1\u16C2\u16C3\u16C4\u16C5\u16C6\u16C7\u16C8\u16C9\u16CA\u16CB\u16CF\u16D0\u16D1\u16D2\u16D3\u16D4\u16D5\u16D6\u16D7\u16D8\u16D9\u16DA\u16DB\u16DC\u16DD\u16DE\u16DF\u16E0\u16E1\u16E2\u16E3\u16E4\u16E5\u16E6\u16E8\u16E9\u16EA\u16EE\u16EF\u16F0\",\r\n    dots:\"\u2800\u2801\u2802\u2803\u2804\u2805\u2806\u2807\u2808\u2809\u280A\u280B\u280C\u280D\u280E\u280F\u2810\u2811\u2812\u2813\u2814\u2815\u2816\u2817\u2818\u2819\u281A\u281B\u281C\u281D\u281E\u281F\u2820\u2821\u2822\u2823\u2824\u2825\u2826\u2827\u2828\u2829\u282A\u282B\u282C\u282D\u282E\u282F\u2830\u2831\u2832\u2833\u2834\u2835\u2836\u2837\u2838\u2839\u283A\u283B\u283C\u283D\u283E\u283F\u2840\u2841\u2842\u2843\u2844\u2845\u2846\u2847\u2848\u2849\u284A\u284B\u284C\u284D\u284E\u284F\u2850\u2851\u2852\u2853\u2854\u2855\u2856\u2857\u2858\u2859\u285A\u285B\u285C\u285D\u285E\u285F\u2860\u2861\u2862\u2863\u2864\u2865\u2866\u2867\u2868\u2869\u286A\u286B\u286C\u286D\u286E\u286F\u2870\u2871\u2872\u2873\u2874\u2875\u2876\u2877\u2878\u2879\u287A\u287B\u287C\u287D\u287E\u287F\u2880\u2881\u2882\u2883\u2884\u2885\u2886\u2887\u2888\u2889\u288A\u288B\u288C\u288D\u288E\u288F\u2890\u2891\u2892\u2893\u2894\u2895\u2896\u2897\u2898\u2899\u289A\u289B\u289C\u289D\u289E\u289F\u28A0\u28A1\u28A2\u28A3\u28A4\u28A5\u28A6\u28A7\u28A8\u28A9\u28AA\u28AB\u28AC\u28AD\u28AE\u28AF\u28B0\u28B1\u28B2\u28B3\u28B4\u28B5\u28B6\u28B7\u28B8\u28B9\u28BA\u28BB\u28BC\u28BD\u28BE\u28BF\u28C0\u28C1\u28C2\u28C3\u28C4\u28C5\u28C6\u28C7\u28C8\u28C9\u28CA\u28CB\u28CC\u28CD\u28CE\u28CF\u28D0\u28D1\u28D2\u28D3\u28D4\u28D5\u28D6\u28D7\u28D8\u28D9\u28DA\u28DB\u28DC\u28DD\u28DE\u28DF\u28E0\u28E1\u28E2\u28E3\u28E4\u28E5\u28E6\u28E7\u28E8\u28E9\u28EA\u28EB\u28EC\u28ED\u28EE\u28EF\u28F0\u28F1\u28F2\u28F3\u28F4\u28F5\u28F6\u28F7\u28F8\u28F9\u28FA\u28FB\u28FC\u28FD\u28FE\u28FF\"\r\n}\r\n\r\nconst deloneMap = {\r\n    to:\"aaccdeeillnooorstuuuyrzzAACCDEEILLNOOORSTUUUYRZZ\",\r\n    from:\"\u00E1\u00E4\u010D\u0107\u010F\u00E9\u011B\u00ED\u013A\u013E\u0148\u00F3\u00F4\u00F6\u0155\u0161\u0165\u00FA\u016F\u00FC\u00FD\u0159\u017E\u017A\u00C1\u00C4\u010C\u0106\u010E\u00C9\u011A\u00CD\u0139\u013D\u0147\u00D3\u00D4\u00D6\u0154\u0160\u0164\u00DA\u016E\u00DC\u00DD\u0158\u017D\u0179\"\r\n};\r\n\r\nconst fight = (str1, str2)=>{\r\n    str1 = str1 == null ? \"\" : String(str1), str2 = str2 == null ? \"\" : String(str2);\r\n    for (let i=0; true; i++) {\r\n        const s1 = str1[i], s2 = str2[i];\r\n        if (!s1 || !s2) { return !s1; } else if (s1 === s2) { continue; }\r\n        const d1 = String.jet.delone(s1), d2 = String.jet.delone(s2);\r\n        if (d1 === d2) { return (s1.charCodeAt(0) || 0) < (s2.charCodeAt(0) || 0); }\r\n        const l1 = d1.toLowerCase(), l2 = d2.toLowerCase();\r\n        if (l1 === l2) { return (d1.charCodeAt(0) || 0) < (d2.charCodeAt(0) || 0); }\r\n        return (l1.charCodeAt(0) || 0) < (l2.charCodeAt(0) || 0);\r\n    }\r\n}\r\n\r\njet.define(\"String\", String, {\r\n    create:any=>any == null ? \"\" : String(any),\r\n    rnd:(min, max, sqr)=>{ //HOW TO GENERATE GREAT RANDOM STRING???\r\n        const c = [\"bcdfghjklmnpqrstvwxz\", \"aeiouy\"], p = c[0].length/(c[0].length+c[1].length);\r\n        const l = Number.jet.rnd(Math.max(min, 2), max, sqr);\r\n        let s = Boolean.jet.rnd(p), r = \"\";\r\n        while (r.length < l) {r += jet.getRND(c[+(s = !s)]);}\r\n        return r;\r\n    },\r\n    to:{\r\n        Function:str=>_=>str,\r\n        Boolean:str=>![\"0\", \"false\", \"null\", \"undefined\", \"NaN\"].includes(str.toLowerCase()),\r\n        Array:(str, comma)=>str ? str.split(comma) : [],\r\n        Object:str=>jet.json.from(str),\r\n        Promise:async str=>str,\r\n        Number:(str, strict)=>{\r\n            if (!str) { return 0; } else if (strict) { return Number(str); }\r\n            const match = String(str).replace(/\\u00A0/g, ' ').match(RegExp.jet.lib.number);\r\n            if (!match || !match[0]) { return 0; }\r\n            return Number(match[0].replaceAll(\" \", \"\").replace(\",\", \".\")) || 0;\r\n        }\r\n    },\r\n    extend:{\r\n        isNumeric: str=>!isNaN(Number(str)),\r\n        lower: str=>str.toLowerCase(),\r\n        upper: str=>str.toUpperCase(),\r\n        capitalize: str=>str.charAt(0).toUpperCase() + str.slice(1),\r\n        camelCase: str=>str.replace(/[^a-zA-Z0-9]+/g, \" \").trim().split(\" \").map((s, i)=>i ? String.jet.capitalize(s) : s).join(\"\"),\r\n        pascalCase: str=>str.replace(/[^a-zA-Z0-9]+/g, \" \").trim().split(\" \").map(s=>String.jet.capitalize(s)).join(\"\"),\r\n        snakeCase:str=>str.replace(/[^a-zA-Z0-9]+/g, \" \").trim().replaceAll(\" \", \"_\"),\r\n        delone: str=>{\r\n            let r = \"\";\r\n            for (let v of str) { let x = deloneMap.from.indexOf(v); r += (x >= 0 ? deloneMap.to[x] : v); }\r\n            return r;\r\n        },\r\n        efface: (str, remove)=>str.replaceAll(remove, \"\").replace(/[\\s\\n\\r]+/g, \" \").trim(),\r\n        simplify: (str, remove)=>String.jet.delone(String.jet.efface(str, remove)).toLowerCase(),\r\n        fight: (str1, str2, asc=true)=>(fight(str1, str2) === asc) ? str1 : str2,\r\n        carret: (str, pos)=>Number.jet.frame(Number.jet.tap(pos, str.length), 0, str.length),\r\n        quote: (str, quoteLeft=\"'\", quoteRight=\"'\")=>str ? quoteLeft+str+quoteRight : \"\",\r\n        splice: (str, index, howmany, ...strs)=>{\r\n            const s = String.jet.carret(str, index), m = Number.jet.frame(howmany, 0, str.length-s); \r\n            return str.slice(0, s) + String.jet.to(strs, \"\") + str.slice(s+m);\r\n        },\r\n        hide: (str, pat, whitespace)=>{\r\n            if (!str) { return str; } var r = \"\", s = str, p = hidePats[pat] || pat || \"\u2022\", w = (whitespace === false);\r\n            for (var i = 0; i < str.length; i++) { r += (w && (s[i] === \"\\n\" || s[i] === \" \")) ? s[i] : p.length - 1 ? jet.getRND(p) : p; }\r\n            return r;\r\n        },\r\n        bite: (str, separator)=>{\r\n            const x = str.indexOf(separator);\r\n            return x <= 0 ? [\"\", str] : [str.slice(0, x), str.slice(x + separator.length)];\r\n        },\r\n        levenshtein: (s0, s1, blend)=>{\r\n            var s = ((blend === false) ? [s0, s1] : [String.jet.simplify(s0, blend), String.jet.simplify(s1, blend)]);\r\n            if (s[0] === s[1]) { return 1; } else if (!s[0] || !s[1]) { return 0; }\r\n            var l = [s[0].length, s[1].length], c = []; if (l[1] > l[0]) { l.reverse(); s.reverse(); }\r\n            for (var i = 0; i <= l[0]; i++) {\r\n                var oV = i; for (var j = 0; j <= l[1]; j++) {\r\n                    if (i === 0) { c[j] = j; } else if (j > 0) {\r\n                        var nV = c[j - 1];\r\n                        if (s[0].charAt(i - 1) !== s[1].charAt(j - 1)) { nV = Math.min(Math.min(nV, oV), c[j]) + 1; } c[j - 1] = oV; oV = nV;\r\n                    }\r\n                } if (i > 0) { c[l[1]] = oV; }\r\n            }\r\n            return (l[0] - c[l[1]]) / parseFloat(l[0]);\r\n        },\r\n        mutate: (str, factor)=>{\r\n            var r = [], n = str.length / 2, m = str.length * 2, f = Math.abs(1000 * (factor || 1));\r\n            while (r.length < f) { var s = String.jet.rnd(n, m); r.push([s, String.jet.levenshtein(s, str)]); }\r\n            return r.sort((a, b)=>b[1] - a[1])[0][0];\r\n        }\r\n    }\r\n});", "import jet from \"../../defs\";\r\n\r\nconst to = sym=>String(sym).slice(7, -1);\r\n\r\njet.define(\"Symbol\", Symbol, {\r\n    create:Symbol,\r\n    copy:x=>Symbol(to(x)),\r\n    rnd:(...a)=>Symbol(jet.rnd.String(...a)),\r\n    to:{\r\n        Function:sym=>_=>sym\r\n    }\r\n});", "import jet from \"../../defs\";\r\n\r\njet.define(\"WeakMap\", WeakMap, {\r\n    copy:x=>new WeakMap(),\r\n    get:(x,k)=>x.get(k),\r\n    set:(x,k,v)=>x.set(k,v),\r\n    rem:(x,k)=>x.delete(k),\r\n    to:{\r\n        Function:map=>_=>map\r\n    }\r\n});", "import jet from \"./defs\";\r\n\r\nimport \"./class/native/Number\";\r\nimport \"./class/native/*\";\r\n\r\nexport default jet;", "import jet from \"@randajan/jet-core\";\r\n\r\nconst { solid, cached } = jet.prop;\r\n\r\nexport const vault = new WeakMap();\r\n\r\nconst eventsWhen = [\"before\", \"after\"];\r\nexport const events = cached.all({}, {}, {\r\n    primitive:_=>[].concat(\r\n        ...eventsWhen.map(w=>[\"set\", \"update\", \"remove\"].map(c=>[w, c, w+String.jet.capitalize(c)]))\r\n    ),\r\n    extra:_=>[].concat(\r\n        ...eventsWhen.map(w=>[\"change\", \"save\"].map(c=>[w, c, w+String.jet.capitalize(c)]))\r\n    )\r\n});\r\n\r\n\r\n\r\nexport const formatKey = (key, def)=>key != null ? String(key) : def;\r\nexport const numberPositive = (num, def=0)=>num == null ? def : Math.max(0, Number.jet.to(num));\r\nexport const functionOrNull = val=>val == null ? undefined : Function.jet.to(val);\r\nexport const boolDef = (val, def)=>val == null ? def : !!val;\r\n\r\n\r\nconst _sortBy = (colName, descending=false, list=[])=>{\r\n    const _sb = (colName, descending)=>_sortBy(colName, descending, list);\r\n    solid(_sb, \"list\", list);\r\n    list.push([colName, Boolean.jet.to(descending)]);\r\n    return _sb;\r\n}\r\n\r\nexport const sortBy = (colName, descending=false)=>_sortBy(colName, descending);\r\n\r\nexport const fcePass = v=>v;\r\nexport const fceNone = ()=>{};\r\nexport const fceTrue = _=>true;", "var __defProp = Object.defineProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\n\nexport {\n  __export\n};\n//# sourceMappingURL=chunk-JC4IRQUL.js.map\n", "// src/props/solid.js\nvar solid = (obj, name, value, enumerable = true, configurable = false) => {\n  return Object.defineProperty(obj, name, { enumerable, value, configurable });\n};\nvar solids = (obj, namedValues, enumerable = true, configurable = false) => {\n  for (const name in namedValues) {\n    const value = namedValues[name];\n    solid(obj, name, value, enumerable, configurable);\n  }\n  return obj;\n};\n\n// src/props/virtual.js\nvar virtual = (obj, name, get, enumerable = true, configurable = false) => {\n  return Object.defineProperty(obj, name, { enumerable, get, configurable });\n};\nvar virtuals = (obj, namedGets, enumerable = true, configurable = false) => {\n  for (const name in namedGets) {\n    const get = namedGets[name];\n    virtual(obj, name, get, enumerable, configurable);\n  }\n  return obj;\n};\n\n// src/props/safe.js\nvar safe = (obj, priv, name, set, get, enumerable = true, configurable = false) => {\n  return Object.defineProperty(obj, name, {\n    set: set ? (v) => priv[name] = set(v, priv[name], name) : void 0,\n    get: get ? (_) => get(priv[name], name) : (_) => priv[name],\n    enumerable,\n    configurable\n  });\n};\nvar safes = (obj, priv, namedSetsAndGets, enumerable = true, configurable = false) => {\n  for (const name in namedSetsAndGets) {\n    const setGet = namedSetsAndGets[name];\n    let set, get;\n    if (typeof setGet !== \"object\") {\n      set = setGet;\n    } else {\n      set = setGet.set || setGet[0];\n      get = setGet.get || setGet[1];\n    }\n    safe(obj, priv, name, set, get, enumerable, configurable);\n  }\n  return obj;\n};\n\n// src/props/cached.js\nvar cached = (obj, priv, name, reset, get, enumerable = true, configurable = false) => {\n  const setAndGet = (v) => {\n    if (!priv.hasOwnProperty(name)) {\n      v = priv[name] = reset(name);\n    }\n    return get ? get(v, name) : v;\n  };\n  return safe(obj, priv, name, null, setAndGet, enumerable, configurable);\n};\nvar cacheds = (obj, priv, namedResetsAndGets, enumerable = true) => {\n  for (const name in namedResetsAndGets) {\n    const resetGet = namedResetsAndGets[name];\n    let reset, get;\n    if (typeof resetGet !== \"object\") {\n      reset = resetGet;\n    } else {\n      reset = resetGet.reset || resetGet[0];\n      get = resetGet.get || resetGet[1];\n    }\n    cached(obj, priv, name, reset, get, enumerable);\n  }\n  return obj;\n};\nexport {\n  cached,\n  cacheds,\n  safe,\n  safes,\n  solid,\n  solids,\n  virtual,\n  virtuals\n};\n//# sourceMappingURL=index.js.map\n", "\r\n\r\nexport const unbracket = (str, br=\"()\")=>{\r\n    if (!str) { return str; }\r\n    if (!str.startsWith(br[0])) { return str; }\r\n    if (!str.endsWith(br[1])) { return; }\r\n    return str.slice(1, -1).trim();\r\n}\r\n\r\nconst splitCommon = fstr=>{\r\n    const lba = fstr.indexOf(\"(\");\r\n    if (lba < 0) { throw Error( \"Parsing common function - arguments are missing left bracket '('\" ); }\r\n    fstr = fstr.slice(lba);\r\n\r\n    const rba = fstr.indexOf(\")\")+1;\r\n    if (rba <= 0) { throw Error( \"Parsing common function - arguments are missing right bracket ')'\" ); }\r\n\r\n    const args = fstr.slice(0, rba).trim();\r\n    const body = fstr.slice(rba).trim();\r\n\r\n    if (!body.startsWith(\"{\") || !body.endsWith(\"}\")) {\r\n        throw Error( \"Parsing common function - body missing brackets '{...}'\" );\r\n    }\r\n\r\n    return [args, body.slice(1, -1).trim()];\r\n}\r\n\r\nconst splitArrow = fstr=>{\r\n    const frags = fstr.split(\"=>\");\r\n    if (frags.length <= 1) {\r\n        throw Error( \"Parsing arrow function - missing the arrow '=>'\" );\r\n    }\r\n\r\n    const args = frags.shift().trim();\r\n    let body = frags.join(\"=>\").trim();\r\n\r\n    if (!body.startsWith(\"{\")) { body = `return ${body}`; }\r\n    else if (!body.endsWith(\"}\")) {\r\n        throw Error( \"Parsing arrow function - body missing right bracket '}'\" );\r\n    }\r\n    else { body = body.slice(1, -1).trim(); }\r\n\r\n    return [args, body];\r\n}\r\n\r\nexport const split = fstr=>{\r\n    fstr = fstr.trim().replace(/\\s+/g, \" \");\r\n    return fstr.startsWith(\"function\") ? splitCommon(fstr) : splitArrow(fstr);\r\n}", "import { unbracket } from \"./_tools\";\r\n\r\nexport const argRegExp = /^[a-zA-Z_$][a-zA-Z_$0-9]*$/;\r\nexport const parseArgs = (args, to=[])=>{\r\n    if (args == null) { throw Error(\"Parsing arguments - missing\"); }\r\n    args = unbracket(args.trim());\r\n\r\n    if (args) {\r\n        for (let a of args.split(\",\")) {\r\n            a = a.trim();\r\n            if (!argRegExp.test(a)) { throw Error(\"Parsing arguments - malformatted\"); }\r\n            to.push(a);\r\n        }\r\n    }\r\n\r\n    return to;\r\n}", "import { unbracket, split } from \"./_tools\";\r\nimport { argRegExp } from \"./arguments\";\r\n\r\n\r\nexport const fnToStr = fn=>{\r\n    const t = typeof fn;\r\n    if (t !== \"function\") { throw Error(\"Stringify function - not a function\"); }\r\n\r\n    const f = split(fn.toString());\r\n\r\n    let args = unbracket(f[0]);\r\n    if (!args || !argRegExp.test(args)) { args = `(${args})`; }\r\n\r\n    let body = f[1];\r\n    if (!body.startsWith(\"return\")) { body = `{${body}}`; }\r\n    else {\r\n        body = body.slice(6).trim().replace(/;[\\s\\S]*$/, \"\");\r\n        if (!body) { body = \"{}\"; }\r\n        else if (body.startsWith(\"{\")) { body = \"(\"+body+\")\"; }\r\n    }\r\n\r\n    return `${args}=>${body}`;\r\n    \r\n}", "import { split } from \"./_tools\";\r\nimport { parseArgs } from \"./arguments\";\r\n\r\nconst fromStr = (str, injectScope)=>{\r\n    const f = split(str);\r\n    const args = parseArgs(f[0]);\r\n    const body = f[1];\r\n    const origin = new Function(args, body);\r\n\r\n    if (!injectScope) { return origin; }\r\n\r\n    const keys = Object.keys(injectScope);\r\n    const vals = Object.values(injectScope);\r\n\r\n\r\n    const injected = new Function([...keys, ...args], body);\r\n    const binded = (...a)=>injected(...vals, ...a);\r\n\r\n    return Object.defineProperty(binded, \"toString\", { value:_=>origin.toString() });\r\n}   \r\n\r\nconst fromAny = (any, type=\"string\")=>{\r\n    let body;\r\n    if (any === undefined) { return new Function(); }\r\n\r\n    if (type === \"string\" || type === \"number\" || type === \"boolean\" || type === \"bigint\") { body = `${any}`; }\r\n    else if (type === \"symbol\") { throw Error(\"Creating function - symbol is not supported\"); }\r\n    else if (any instanceof Date) { body = `new Date('${any}')`; }\r\n    else if (type === \"object\") {\r\n        try { body = `(${JSON.stringify(any)})`; }\r\n        catch(e) { throw Error(\"Creating function - object replication failed\"); }\r\n    }\r\n    \r\n    if (!body) { throw Error(\"Creating function - unknown input\"); }\r\n    return new Function(`return ${body}`);\r\n}\r\n\r\nexport const anyToFn = (any, injectScope)=>{\r\n    const type = typeof any;\r\n    return (type !== \"string\" || any.startsWith(\"'\")) ? fromAny(any, type) : fromStr(any, injectScope);\r\n}\r\n\r\nexport const strToFn = (str, injectScope)=>{\r\n    const t = typeof str;\r\n    if (t !== \"string\") { throw Error(\"Stringify function - not a string\"); }\r\n\r\n    return fromStr(str, injectScope);\r\n}", "\r\n\r\nexport const toRefId = ref=>(typeof ref !== \"string\") ? ref?.id : ref;\r\n\r\nexport const isNull = v=>(v == null || (typeof v === \"number\" && isNaN(v)));\r\n\r\nexport const isFce = fce=>typeof fce === \"function\";\r\nexport const isArr = Array.isArray;\r\nexport const isSet = any=>any instanceof Set;\r\nexport const toFce = (fce, defReturn)=>isFce(fce) ? fce : ()=>defReturn;\r\nexport const wrapFce = (wrap, what)=>(...args)=>wrap(what(...args));\r\n\r\nexport const toStr = (any, def)=>isNull(any) ? def : String(any);\r\nexport const toArr = (any)=>any instanceof Array ? any : [any];\r\nexport const toSet = (any)=>isSet(any) ? any : new Set(any);\r\n\r\nexport const toNum = (val, min, max, dec)=>{\r\n    val = Number(val);\r\n    if (isNaN(val)) { return val; }\r\n    if (!isNull(max)) { val = Math.min(val, max); }\r\n    if (!isNull(min)) { val = Math.max(val, min); }\r\n    if (dec == 0) { val = Math.round(val); }\r\n    else if (dec > 0) {\r\n        const pow = Math.pow(10, dec);\r\n        val = Math.round(val*pow)/pow;\r\n    }\r\n    return val;\r\n}\r\n\r\nexport const toDate = (val, min, max)=>{\r\n    if (!(val instanceof Date)) { val = Date.parse(val); }\r\n    if (isNull(min) && isNull(max)) { return val; }\r\n    return new Date(toNum(x.getTime(), min, max));\r\n}\r\n\r\nexport const reArray = (val, trait)=>{\r\n    \r\n    if (isNull(val)) { return; }\r\n    if (!Array.isArray(val)) {\r\n        const r = trait(val);\r\n        return !isNull(r) ? [r] : undefined;\r\n    }\r\n\r\n    const res = [];\r\n    for (const v of val) {\r\n        const r = trait(v);\r\n        if (!isNull(r)) { res.push(r); }\r\n    }\r\n\r\n    if (res.length) { return res; }\r\n}", "import { vault } from \"../../../components/uni/consts\";\r\n\r\nimport { isFce, toFce, toStr, wrapFce } from \"../../../components/uni/formats\";\r\nimport { solids, virtuals } from \"@randajan/props\";\r\nimport { fail } from \"../../tools/traits/uni\";\r\n\r\nimport { _chopGetAllRecs, _chopGetRec, _chopGetRecs, _chopSyncIn } from \"./static/sync\";\r\nimport { toBoolean } from \"../../tools/traits/booleans\";\r\nimport { SuperMap } from \"../SuperMap/SuperMap\";\r\nimport { Effects } from \"../Effects/Effects\";\r\nimport { Fits } from \"../Effects/Fits\";\r\n\r\n\r\nexport class Chop {\r\n\r\n    constructor(id, opt={}) {\r\n        id = toStr(id);\r\n        if (!id) { fail(\"missing id\"); }\r\n\r\n        const { parent, init } = opt;\r\n\r\n        const isMultiGroup = toBoolean(opt.isMultiGroup);\r\n        const filter = toFce(opt.filter, true);\r\n        const getId = isFce(opt.getId) ? opt.getId : (r=>r.id);\r\n        const getGroup = !isMultiGroup ? toFce(opt.getGroup) : wrapFce(toArr, toFce(opt.getGroup, [undefined]));\r\n\r\n        const _p = {\r\n            getId,\r\n            getGroup,\r\n            isMultiGroup,\r\n            fits:new Fits(),\r\n            effects:new Effects(),\r\n            childs:new Set(),\r\n            init:toFce(init),\r\n            byRec:new Map(),\r\n            byGroup:new SuperMap(),\r\n            filter,\r\n        }\r\n\r\n        solids(this, {\r\n            id,\r\n            db:parent?.db || this,\r\n            parent\r\n        }, false);\r\n\r\n        virtuals(this, {\r\n            size:_=>_p.byRec.size,\r\n            childs:_=>[..._p.childs],\r\n            isMultiGroup:_=>_p.isMultiGroup,\r\n        });\r\n\r\n        vault.set(this, _p);\r\n\r\n    }\r\n\r\n    fit(callback) { return vault.get(this).fits.add(callback); }\r\n    effect(callback) { return vault.get(this).effects.add(callback); }\r\n\r\n    isIn(groupId, rec) {\r\n        const { getGroup, isMultiGroup } = vault.get(this);\r\n        const group = getGroup(rec);\r\n        return isMultiGroup ? group.includes(groupId) : (group === groupId);\r\n    }\r\n\r\n    get(groupId, recId, throwError = false) {\r\n        return _chopGetRec(this, groupId, recId, throwError);\r\n    }\r\n\r\n    getMap(groupId, throwError = false) {\r\n        const recs = _chopGetRecs(this, groupId, throwError);\r\n        return recs ? new Map(recs) : new Map(); \r\n    }\r\n\r\n    getList(groupId, throwError = false) {\r\n        const recs = _chopGetRecs(this, groupId, throwError);\r\n        return recs ? Array.from(recs.values()) : []; \r\n    }\r\n\r\n    getSize(groupId, throwError=false) {\r\n        return _chopGetRecs(this, groupId, throwError)?.size || 0;\r\n    }\r\n\r\n    map(callback) {\r\n        const result = [];\r\n        const recs = _chopGetAllRecs(this);\r\n        for (const [rec] of recs) {\r\n            const r = callback(rec);\r\n            if (r !== undefined) { result.push(r); }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    chop(id, opt={}) {\r\n        const { byRec, childs } = vault.get(this);\r\n\r\n        const filter = toFce(opt.filter, true);\r\n\r\n        opt.parent = this;\r\n        opt.filter = rec=>(this.isIn(id, rec) && filter(rec));\r\n        \r\n        const child = new Chop(id, opt);\r\n\r\n        for (const [rec] of byRec) { _chopSyncIn(child, rec); }\r\n\r\n        childs.add(child);\r\n\r\n        return child;\r\n\r\n    }\r\n}", "\r\nimport { Major, Minor } from \"../../class/Task/Fails\";\r\nimport { toString } from \"./strings\";\r\n\r\nexport const toId = ref=>(typeof ref !== \"string\") ? ref?.id : ref;\r\n\r\nexport const isEmpty = any=>{\r\n    if (any == null) { return true; }\r\n\r\n    const t = typeof any;\r\n    if (t === \"string\") { return !any; }\r\n    if (t === \"number\") { return isNaN(any); }\r\n    if (t === \"object\") {\r\n        if (any instanceof Date) { return isNaN(any.getTime()); }\r\n        if (any instanceof Array) { return !any.length; }\r\n        if (any instanceof Set || any instanceof Map) { return !any.size; }\r\n        for (let i in any) { return false; }\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nexport const join = (separator, ...vals)=>{\r\n    let s = \"\";\r\n    for (let v of vals) {\r\n        v = toString(v);\r\n        if (!v) { continue; }\r\n        s += (!s ? \"\" : separator) + v;\r\n    }\r\n    return s;\r\n}\r\n\r\nexport const fail = (message, ...infos)=>{\r\n    throw Major.fail(message).addInfos(infos);\r\n}\r\n\r\nexport const warn = (message, ...infos)=>{\r\n    throw Minor.fail(message).addInfos(infos);\r\n}\r\n", "\r\nexport class Fail extends Error {\r\n    constructor(severity, reason, cause) {\r\n        super(undefined, { cause });\r\n        this.name = this.constructor.name;\r\n        this.reason = reason;\r\n        this.severity = severity;\r\n    }\r\n\r\n    addInfo(key, value) {\r\n        const info = (this.info || (this.info = []));\r\n        info.unshift([key, value]);\r\n        return this;\r\n    }\r\n\r\n    addInfos(keyValuePairs=[]) {\r\n        for (let [key, value] of keyValuePairs) { this.addInfo(key, value); }\r\n        return this;\r\n    }\r\n\r\n    get message() {\r\n        let msg = `${this.reason}`;\r\n\r\n        if (this.info) {\r\n            const metaStr = this.info.map(([k, v]) => `${k} ${JSON.stringify(v)}`).join(\", \");\r\n            msg += ` ${metaStr}`;\r\n        }\r\n\r\n        if (this.cause?.message) {\r\n            msg += ` | cause: ${this.cause.message}`;\r\n        }\r\n\r\n        return msg;\r\n    }\r\n}\r\n\r\n\r\nexport class Minor extends Fail {\r\n    static fail(reason, cause) { return new Minor(reason, cause); }\r\n    constructor(reason, cause) { super(\"minor\", reason, cause); }\r\n}\r\n\r\nexport class Major extends Fail {\r\n    static fail(reason, cause) { return new Major(reason, cause); }\r\n    constructor(reason, cause) { super(\"major\", reason, cause); }\r\n}\r\n\r\nexport class Critical extends Fail {\r\n    static fail(reason, cause) { return new Critical(reason, cause); }\r\n    constructor(reason, cause) { super(\"critical\", reason, cause); }\r\n}\r\n\r\nexport const toFail = (err, infos=[]) => {\r\n    let fail;\r\n    if (err instanceof Fail) { fail = err; }\r\n    else if (err instanceof Error) { fail = Critical.fail(err.constructor.name, err); }\r\n    else { fail = Critical.fail(err); }\r\n    return fail.addInfos(infos);\r\n};\r\n\r\n", "\r\nimport { fnToStr } from \"@randajan/function-parser\";\r\nimport { fail } from \"./uni\";\r\n\r\nexport const toString = (any, opt={})=>{\r\n    const t = typeof any;\r\n\r\n    let str;\r\n    if (any == null) { str = \"\"; }\r\n    else if (t === \"string\") { str = any; }\r\n    else if (t === \"function\") { str = fnToStr(any); }\r\n    else { str = String(any); }\r\n\r\n    \r\n    if (str === '[object Object]') {\r\n        try { str = JSON.stringify(any); }\r\n        catch(e) { fail(\"unparseable\"); }\r\n    }\r\n\r\n    const { min, max } = opt;\r\n\r\n    if (min != null && str.length < min) { fail(\"too short\", min); }\r\n    if (max != null && str.length > max) { str = str.substring(0, max); }\r\n\r\n    return str;\r\n}\r\n\r\n", "import { solid } from \"@randajan/props\";\r\nimport { vault } from \"../../../../components/uni/consts\";\r\n\r\nimport { toSet } from \"../../../../components/uni/formats\";\r\nimport { fail } from \"../../../tools/traits/uni\";\r\n\r\nexport const _chopGetAllRecs = chop=>vault.get(chop).byRec;\r\nexport const _chopGetRecs = (chop, groupId)=>vault.get(chop).byGroup.getAll(groupId);\r\nexport const _chopGetRec = (chop, groupId, recId)=>vault.get(chop).byGroup.get(groupId, recId);\r\n\r\nconst pushSingleGroup = (_chop, rec, id, from, to)=>{\r\n    const { byRec, byGroup } = _chop;\r\n\r\n    if (from === to) { return; } //no change\r\n\r\n    if (to == null) { byRec.delete(rec); } //remove\r\n    else {\r\n        const current = byGroup.get(to, id);\r\n        if (current && current !== rec) { fail(`Duplicate index '${id}' at '${to}'`); }\r\n        byGroup.set(to, id, rec);\r\n        byRec.set(rec, to);\r\n    }\r\n\r\n    //cleanup\r\n    byGroup.delete(from, id);\r\n}\r\n\r\nconst pushMultiGroup = (_chop, rec, id, from, to)=>{\r\n    const { byRec, byGroup } = _chop;\r\n\r\n    if (from === to) { return; }\r\n\r\n    if (to == null) { byRec.delete(rec); } //remove\r\n    else {\r\n        let isChange;\r\n        to = toSet(to);\r\n\r\n        for (const groupId of to) {\r\n            if (from?.has(groupId)) { from.delete(groupId); continue; } //already correct\r\n            isChange = true;\r\n\r\n            const current = byGroup.get(groupId, id);\r\n            if (current && current !== rec) { fail(`Duplicate index '${id}' at '${groupId}'`); }\r\n\r\n            byGroup.set(groupId, id, rec); //add new\r\n        }\r\n        if (!isChange) { return; }\r\n        byRec.set(rec, to);\r\n    } \r\n\r\n    if (from != null) {\r\n        for (const groupId of from) {\r\n            byGroup.delete(groupId, id); //remove old\r\n        }\r\n    }\r\n}\r\n\r\nconst pushRecursive = (inc, chop, rec, task)=>{\r\n    const _chop = vault.get(chop);\r\n    const { byRec, childs, getId, getGroup, filter, fits, effects, isMultiGroup } = _chop;\r\n\r\n    inc = (inc && filter(rec));\r\n    const has = byRec.has(rec);\r\n\r\n    if (!inc && !has) { return; } //nothing gona change\r\n\r\n    const id = getId(rec);\r\n    const from = byRec.get(rec);\r\n    const to = inc ? getGroup(rec) : null; //removed by filter\r\n\r\n    const event = !has ? \"add\" : !inc ? \"remove\" : \"update\";\r\n    const push = isMultiGroup ? pushMultiGroup : pushSingleGroup;\r\n\r\n    //fits\r\n    if (!task) { push(_chop, rec, id, from, to); }\r\n    else { fits.run(_=>push(_chop, rec, id, from, to), event, task.echo); }\r\n\r\n    for (const child of childs) { pushRecursive(inc, child, rec, task); }\r\n\r\n    if (task) { task.effect(_=>effects.run(event, task.echo)); }\r\n\r\n}\r\n\r\nconst pushInit = (inc, chop, record, task)=>{\r\n    if (task) { task.assign({record}); }\r\n    pushRecursive(inc, chop, record, task);\r\n}\r\n\r\nexport const _chopSyncIn = (chop, record, task)=>pushInit(true, chop, record, task);\r\nexport const _chopSyncOut = (chop, record, task)=>pushInit(false, chop, record, task);", "const _bols = /^(0|f|n|no|not|off|false)$/i;\r\n\r\nexport const toBoolean = (any)=>typeof any !== \"string\" ? !!any : !_bols.test(any);", "\r\n\r\n\r\nexport class SuperMap extends Map {\r\n\r\n    keys(groupId) { return super.get(groupId)?.keys(); }\r\n    values(groupId) { return super.get(groupId)?.values(); }\r\n\r\n    getAll(groupId) { return super.get(groupId); }\r\n    get(groupId, keyId) { return super.get(groupId)?.get(keyId); }\r\n\r\n    has(groupId, keyId) {\r\n        const sub = super.get(groupId);\r\n        return (sub && sub.has(keyId));\r\n    }\r\n\r\n    set(groupId, keyId, obj) {\r\n        let sub = super.get(groupId);\r\n\r\n        if (!sub) { super.set(groupId, sub = new Map()); }\r\n        sub.set(keyId, obj);\r\n    }\r\n\r\n    delete(groupId, keyId) {\r\n        const sub = super.get(groupId);\r\n\r\n        if (!sub) { return; }\r\n        else if (sub.size <= 1) { super.delete(groupId); }\r\n        else { sub.delete(keyId); }\r\n    }\r\n\r\n}\r\n\r\n\r\n", "import { solid } from \"@randajan/props\";\r\nimport { isFce } from \"../../../components/uni/formats\";\r\nimport { fail } from \"../../tools/traits/uni\";\r\n\r\n\r\nexport class Effects extends Array {\r\n\r\n    constructor(onError) {\r\n        super();\r\n        solid(this, \"onError\", isFce(onError) ? onError : console.warn);\r\n    }\r\n\r\n    remove(callback) {\r\n        const x = this.indexOf(callback);\r\n        if (x >= 0) { this.splice(x, 1); }\r\n        return callback;\r\n    }\r\n\r\n    add(callback) {\r\n        if (!isFce(callback)) { fail(`callback must be a function`); }\r\n    \r\n        this.unshift(callback);\r\n    \r\n        return _ =>this.remove(callback);\r\n    }\r\n\r\n    run(...args) {\r\n        for (let i = this.length - 1; i >= 0; i--) {\r\n            if (!this[i]) { return; }\r\n            try { this[i](...args); }\r\n            catch(err) { this.onError(err); }\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this.length = 0;\r\n    }\r\n\r\n}", "import { Effects } from \"./Effects\";\r\n\r\n\r\nexport class Fits extends Effects {\r\n\r\n    run(zenit, ...args) {\r\n        let i = this.length-1, res;\r\n        const next = ()=>{\r\n            const fit = this[i--];\r\n            if (fit) { fit(next, ...args); }\r\n            else if (zenit) { res = zenit(); }\r\n            return res;\r\n        }\r\n        return next();\r\n    }\r\n}", "import { fail } from \"../../tools/traits/uni\";\r\nimport { _chopGetRec } from \"../Chop/static/sync\";\r\n\r\n\r\nconst _records = new WeakMap();\r\n\r\nexport const recReg = _rec=>_records.set(_rec.current, _rec);\r\nexport const recUnreg = _rec=>_records.delete(_rec.current);\r\n\r\nexport const _recIs = (db, rec)=>{\r\n    const _p = _records.get(rec);\r\n    return (_p && _p.db === db);\r\n}\r\n\r\nexport const _recGetPriv = (db, rec, throwError=true)=>{\r\n    const _p = _records.get(rec);\r\n    if (_p && _p.db === db) { return _p; }\r\n    if (throwError) { fail(\"is not record\"); };\r\n}\r\n\r\nexport function createRecord(_rec, isCurrent) {\r\n\r\n    const get = p=>_rec.getCol(p, isCurrent);\r\n    const id = _=>get(\"id\");\r\n    const json = _=>_rec.export();\r\n    \r\n    const handler = {\r\n        get:(_, p)=>(p === \"toString\") ? id : p === \"toJSON\" ? json : get(p),\r\n        has:(_, p)=>_rec.hasCol(p),\r\n        set:(_, p, value)=>_rec.db.update(proxy, {[p]:value}),\r\n        deleteProperty:(_, p)=>_rec.db.update(proxy, {[p]:null}),\r\n        ownKeys:_=>[..._rec.getColsNames()],\r\n        getOwnPropertyDescriptor: (_, p) => ({\r\n            enumerable: true,\r\n            configurable: true,\r\n            value: get(p)\r\n        })\r\n    };\r\n\r\n    const proxy = new Proxy({}, handler);\r\n    return proxy;\r\n}", "import { solids, virtuals } from \"@randajan/props\";\r\nimport { Effects } from \"../Effects/Effects\";\r\nimport { toFail } from \"./Fails\";\r\nimport { vault } from \"../../../components/uni/consts\";\r\n\r\n\r\nexport class Task {\r\n\r\n    static is(any) { return any instanceof Task; }\r\n    static create(db) { return new Task(db); }\r\n\r\n    constructor(parent) {\r\n\r\n        if (!Task.is(parent)) {\r\n            this.db = parent;\r\n            this.subs = [];\r\n            this.effects = new Effects();\r\n        } else {\r\n            this.db = parent.db;\r\n            this.parent = parent;\r\n            parent.subs.push(this);\r\n        }\r\n\r\n        this.isDone = false;\r\n        this.isOk = true;\r\n\r\n        this.echo = {};\r\n        solids(this.echo, {\r\n            db:this.db,\r\n            parent:this.parent?.echo\r\n        }, false);\r\n\r\n        virtuals(this.echo, {\r\n            isOk:_=>this.isOk,\r\n            isDone:_=>this.isDone,\r\n            error:_=>this.error,\r\n            warnings:_=>!this.warnings ? undefined : [...this.warnings],\r\n            subs:_=>!this.subs ? undefined : this.subs.map(c=>c.echo),\r\n            context:_=>this.context,\r\n            record:_=>this.record,\r\n            changes:_=>!this.changes ? undefined : new Set(this.changes),\r\n        });\r\n    }\r\n\r\n    sub() { return new Task(this); }\r\n\r\n    assign(obj) { Object.assign(this, obj); return this; }\r\n    unsign(...props) {\r\n        for (const prop of props) { delete this[prop]; }\r\n    }\r\n\r\n    effect(callback) {\r\n        const { parent, effects } = this;\r\n        if (effects) { return effects.add(callback); }\r\n        return parent.effect(callback);     \r\n    }\r\n\r\n    catch(err, nonMinorThrow=false, infos=[]) {\r\n        const fail = toFail(err, infos);\r\n\r\n        if (fail.severity === \"minor\") {\r\n            (this.warnings || (this.warnings = [])).push(fail);\r\n        } else {\r\n            const { parent } = this;\r\n            this.isOk = false;\r\n            this.error = fail;\r\n            if (parent) {\r\n                parent.isOk = false;\r\n                parent.error = fail;\r\n            }\r\n            if (nonMinorThrow) { throw fail; }\r\n        }\r\n        \r\n        return fail;\r\n    }\r\n\r\n    catchAll(err, infos=[]) { return this.catch(err, false, infos); }\r\n    catchMinor(err, infos=[]) { return this.catch(err, true, infos); }\r\n\r\n    doRoll() {\r\n        const { effects, roll, subs, result } = this;\r\n        this.isOk = true;\r\n\r\n        if (subs) {\r\n            for (let i=subs.length-1; i>=0; i--) { subs[i].doRoll(); }\r\n        }\r\n\r\n        if (roll) { roll(this, result); }\r\n        effects?.run();\r\n    }\r\n\r\n    doRollback() {\r\n        const { subs, rollback, result } = this;\r\n        this.isOk = false;\r\n\r\n        if (subs) {\r\n            for (let i=subs.length-1; i>=0; i--) { subs[i].doRollback(); }\r\n        }\r\n        \r\n        if (rollback) { rollback(this, result); }\r\n    }\r\n\r\n    finish(throwError=false) {\r\n        const { isOk, error, echo } = this;\r\n\r\n        if (isOk) { this.doRoll(); }\r\n        else { this.doRollback(); }\r\n\r\n        if (throwError && !isOk) { throw error; }\r\n\r\n        return echo;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const taskWrap = (exe, roll, rollback)=>{\r\n    return (db, args, throwError=false, context=null)=>{\r\n\r\n        const _db = vault.get(db);\r\n        const parent = _db.task;\r\n    \r\n        const task = parent ? parent.sub() : Task.create(db);\r\n        task.assign({context, roll, rollback});\r\n        \r\n        if (!parent) { _db.task = task; }\r\n        \r\n        try { task.result = exe(task, ...args); }\r\n        catch(err) { task.catch(err); }\r\n\r\n        task.isDone = true;\r\n        if (parent) { return task.echo; }\r\n\r\n        delete _db.task;\r\n        return task.finish(throwError);\r\n    }\r\n}", "import { solids } from \"@randajan/props\";\r\nimport { isMetaEnt } from \"../../metaData/methods\";\r\nimport { Turn } from \"../Turn/Turn\";\r\nimport { _colSet } from \"./static/_columns\";\r\nimport { _recGetPriv, _recIs, recReg } from \"./Record\";\r\nimport { createRecord } from \"./Record\";\r\nimport { fail, toId } from \"../../tools/traits/uni\";\r\nimport { _chopSyncIn, _chopSyncOut } from \"../Chop/static/sync\";\r\nimport { vault } from \"../../../components/uni/consts\";\r\n\r\n\r\nexport class RecordPrivate {\r\n\r\n    constructor(db, values) {\r\n\r\n        this.state = \"pending\"; //created, pending, ready, removed;\r\n        const v = this.values = Object.assign({}, values);\r\n\r\n        v._ent = toId(v._ent);\r\n        if (v._ent === \"_cols\") { v.ent = toId(v.ent); }\r\n\r\n        this.meta = isMetaEnt(v._ent) ? v.meta : 0;\r\n        \r\n        solids(this, {\r\n            _db:vault.get(db),\r\n            db,\r\n            current: createRecord(this, true),\r\n            before: createRecord(this, false)\r\n        });\r\n\r\n        recReg(this);\r\n    }\r\n\r\n    fail(reason, ...infos) {\r\n        const { id, _ent } = this.values;\r\n        return fail(reason, [\"entity\", _ent], [\"record\", id], ...infos);\r\n    }\r\n\r\n    init(task) {\r\n        const { state, values } = this;\r\n        if (state !== \"pending\") { this.fail(\"not pending\"); }\r\n        Turn.attach(task, this, values, true);\r\n        this.state = \"init\";\r\n        return this;\r\n    }\r\n\r\n    ready() {\r\n        const { db, state, current, turn, task } = this;\r\n        if (state !== \"init\") { this.fail(\"not init\"); }\r\n\r\n        turn.execute();\r\n        this.state = \"ready\";\r\n        _chopSyncIn(db, current, task);\r\n\r\n        return this;\r\n    }\r\n\r\n    update(task, values, isSet=false) {\r\n        const { state, db, current } = this;\r\n        if (state !== \"ready\") { this.fail(\"not ready\"); }\r\n\r\n        Turn.attach(task, this, values, isSet).execute();\r\n        _chopSyncIn(db, current, task);\r\n\r\n        return this;\r\n    }\r\n\r\n    export() {\r\n        const r = {};\r\n        for (const _col of this.getCols()) {\r\n            const { name, type:{ saver } } = _col.current;\r\n            let value = this.getCol(name, true);\r\n            if (value == null) { continue; }\r\n            r[name] = saver ? saver(value) : value;\r\n        }\r\n        return r;\r\n    }\r\n\r\n    getColsNames() { return this._db.colsByEnt.keys(this.values._ent); }\r\n    getCols() { return this._db.colsByEnt.values(this.values._ent); }\r\n\r\n    getCol(colName, isCurrent=true) {\r\n        const { _db, turn, current, before, values, state } = this;\r\n        const value = values[colName];\r\n\r\n        const _col = _db.colsByEnt.get(values._ent, colName);\r\n        if (!_col) { return state === \"ready\" ? undefined : value; }\r\n\r\n        const t = _col.traits;\r\n\r\n        if (!isCurrent) { return t.getter(value, current, before); }\r\n\r\n        const { isVirtual } = (_col === this) ? values : _col.current;\r\n    \r\n        if (!isVirtual) { return t.getter(turn ? turn.pull(_col) : value, current, before); }\r\n\r\n        return t.getter(t.setter(value, current, state === \"ready\" ? before : undefined, values), current, before); \r\n\r\n    }\r\n\r\n    hasCol(colName) {\r\n        const { _db, values } = this;\r\n        return _db.colsByEnt.has(values._ent, colName);\r\n    }\r\n\r\n}", "import { anyToFn } from \"@randajan/function-parser\";\r\nimport { tools } from \"..\";\r\n\r\n\r\nexport const toFunction = any=>typeof any === \"function\" ? any : anyToFn(any, tools);\r\n\r\n\r\n", "import { solids } from \"@randajan/props\";\r\nimport * as files from \"./traits/*\";\r\n\r\nexport const tools = {};\r\n\r\nfor (const file of files.default) { solids(tools, file); }", "import { fail } from \"./uni\";\r\n\r\nexport const toDate = (any, opt={})=>{\r\n    let date = (any instanceof Date) ? any : new Date(any);\r\n    let num = date.getTime();\r\n\r\n    if (isNaN(num)) { fail(\"not a date\"); }\r\n\r\n    const { min, max } = opt;\r\n    if (min == null && max == null) { return date; }\r\n    if (max != null) { num = Math.min(num, max); }\r\n    if (min != null) { num = Math.max(num, min); }\r\n\r\n    return new Date(num);\r\n}", "import { fail } from \"./uni\";\r\n\r\nconst _nums = /-?(\\d+(\\s+\\d+)*)*[,.]?\\d+/;\r\nconst strToNum = str=>{\r\n    const match = String(str).replace(/\\u00A0/g, ' ').match(_nums);\r\n    if (!match || !match[0]) { return NaN; }\r\n    const res = Number(match[0].replaceAll(\" \", \"\").replace(\",\", \".\"));\r\n    return res;\r\n}\r\n\r\n\r\nexport const toNumber = (any, opt={})=>{\r\n    const t = typeof any;\r\n\r\n    let num;\r\n    if (t === \"number\") { num = any; }\r\n    if (t === \"string\") { num = strToNum(any); }\r\n    else { num = Number(any); }\r\n\r\n    const { min, max, dec } = opt;\r\n\r\n    if (isNaN(num)) { fail(\"not a number\"); }\r\n    if (max != null) { num = Math.min(num, max); }\r\n    if (min != null) { num = Math.max(num, min); }\r\n\r\n    if (dec == 0) { num = Math.round(num); }\r\n    else if (dec > 0) {\r\n        const pow = Math.pow(10, dec);\r\n        num = Math.round(num*pow)/pow;\r\n    }\r\n\r\n    return num;\r\n}", "import { fail } from \"./uni\";\r\n\r\n\r\n\r\nexport const toObject = obj=>{\r\n    const t = typeof obj;\r\n    if (t === \"object\") { return obj; }\r\n    if (t !== \"string\") { fail(\"unparseable\"); }\r\n    try { return JSON.parse(obj); }\r\n    catch(e) { fail(\"unparseable\"); }\r\n    \r\n}", "\r\nimport parseRegExp from \"regex-parser\";\r\n\r\n\r\nexport const toRegExp = any=>{\r\n    if (any instanceof RegExp) { return any; }\r\n    \r\n    if (typeof any != \"string\") { fail(\"not a regexp\"); }\r\n\r\n    try { return parseRegExp(any);}\r\n    catch(err) { fail(\"unparseable\"); }\r\n}", "\n        import * as module0 from './traits/booleans.js';import * as module1 from './traits/dates.js';import * as module2 from './traits/functions.js';import * as module3 from './traits/numbers.js';import * as module4 from './traits/objects.js';import * as module5 from './traits/regexp.js';import * as module6 from './traits/strings.js';import * as module7 from './traits/uni.js'\n\n        const modules = [module0,module1,module2,module3,module4,module5,module6,module7];\n\n        export default modules;\n        export const filenames = ['./traits/booleans.js','./traits/dates.js','./traits/functions.js','./traits/numbers.js','./traits/objects.js','./traits/regexp.js','./traits/strings.js','./traits/uni.js']\n      ", "import { fcePass, fceTrue } from \"../../components/uni/consts\";\r\n\r\nimport { toFunction } from \"../tools/traits/functions\";\r\nimport { toRegExp } from \"../tools/traits/regexp\";\r\nimport { toBoolean } from \"../tools/traits/booleans\";\r\nimport { toNumber } from \"../tools/traits/numbers\";\r\nimport { toString } from \"../tools/traits/strings\";\r\nimport { toObject } from \"../tools/traits/objects\";\r\nimport { toDate } from \"../tools/traits/dates\";\r\nimport { join, toId } from \"../tools/traits/uni\";\r\n\r\nconst getter = fcePass;\r\nconst setter = fcePass;\r\nconst isRequired = fceTrue;\r\nconst isReadonly = fceTrue;\r\n\r\nexport const metaEnts = [ \"_ents\", \"_types\", \"_cols\" ];\r\n\r\nexport const metaData = {\r\n    \"_ents\":{\r\n        \"_ents\":{ meta:3 },\r\n        \"_cols\":{ meta:3 },\r\n        \"_types\":{ meta:3 }\r\n    },\r\n    \"_types\":{\r\n        \"string\":{ meta:3, setter:(v, c)=>toString(v, c), getter },\r\n        \"boolean\":{ meta:3, setter:(v, c)=>toBoolean(v, c), getter },\r\n        \"number\":{ meta:3, setter:(v, c)=>toNumber(v, c), getter },\r\n        \"datetime\":{ meta:3, setter:(v, c)=>toDate(v, c), getter },\r\n        \"duration\":{ meta:3, setter:(v, c)=>toNumber(v, c), getter },\r\n        \"function\":{ meta:3, setter:(v, c)=>toFunction(v, c), getter, saver:v=>toString(v) },\r\n        \"regexp\":{ meta:3, setter:(v, c)=>toRegExp(v, c), getter },\r\n        \"object\":{ meta:3, setter:(v, c)=>toObject(v, c), getter, saver:v=>toString(v) },\r\n        \"ref\":{ meta:3, setter:(v, c)=>toId(v, c), getter, saver:v=>toId(v) },\r\n        \"nref\":{ meta:3, setter, getter },\r\n    },\r\n    \"_cols\":{\r\n        \"_ents-_ent\":{ meta:3, ent:\"_ents\", name:\"_ent\", type:\"ref\", ref:\"_ents\", isReadonly, isRequired },\r\n        \"_ents-id\":{ meta:3, ent:\"_ents\", name:\"id\", type:\"string\", isReadonly, isRequired },\r\n        \"_ents-meta\":{ meta:3, ent:\"_ents\", name:\"meta\", type:\"string\", isReadonly },\r\n        // \"_ents-cols\":{\r\n        //     meta:3, ent:\"_ents\", name:\"cols\", type:\"ref\", ref:\"_cols\", parent:\"_cols-ent\", isList:true, noCache:true,\r\n        //     store:(c, db)=>{\r\n        //         const { ref, parent:{ name, isList }} = c;\r\n        //         return db.chop(ref.id, {\r\n        //             group:r=>r[name],\r\n        //             isMultiGroup:isList\r\n        //         })\r\n        //     },\r\n        //     formula:(r, b, s)=>s.getList(r, false)\r\n        // },\r\n        // \"_ents-size\":{\r\n        //     meta:3, ent:\"_ents\", name:\"size\", type:\"number\", noCache:true,\r\n        //     store:(c, db)=>db,\r\n        //     formula:(r, b, s)=>s.getSize(r.id, false)\r\n        // },\r\n\r\n        //_types\r\n        \"_types-_ent\":{ meta:3, ent:\"_types\", name:\"_ent\", type:\"ref\", ref:\"_ents\", isReadonly, isRequired },\r\n        \"_types-id\":{ meta:3, ent:\"_types\", name:\"id\", type:\"string\", isReadonly, isRequired },\r\n        \"_types-meta\":{ meta:3, ent:\"_types\", name:\"meta\", type:\"string\", isReadonly },\r\n        \"_types-setter\":{ meta:3, ent:\"_types\", name:\"setter\", type:\"function\", isReadonly, fallback:_=>v=>v },\r\n        \"_types-getter\":{ meta:3, ent:\"_types\", name:\"getter\", type:\"function\", isReadonly, fallback:_=>v=>v },\r\n        \"_types-saver\":{ meta:3, ent:\"_types\", name:\"saver\", type:\"function\", isReadonly },\r\n        \"_types-loader\":{ meta:3, ent:\"_types\", name:\"loader\", type:\"function\", isReadonly},\r\n\r\n        //_cols\r\n        \"_cols-_ent\":{ meta:3, ent:\"_cols\", name:\"_ent\", type:\"ref\", ref:\"_ents\", isReadonly, isRequired },\r\n        \"_cols-id\":{ meta:3, ent:\"_cols\", name:\"id\", type:\"string\", isReadonly, isRequired, formula:r=>join(\"-\", r.ent?.id, r.name) },\r\n        \"_cols-meta\":{ meta:3, ent:\"_cols\", name:\"meta\", type:\"string\", isReadonly },\r\n        \"_cols-ent\":{ meta:3, ent:\"_cols\", name:\"ent\", type:\"ref\", ref:\"_ents\", isReadonly, isRequired },\r\n        \"_cols-name\":{ meta:3, ent:\"_cols\", name:\"name\", type:\"string\", isReadonly, isRequired },\r\n        \"_cols-type\":{ meta:3, ent:\"_cols\", name:\"type\", type:\"ref\", ref:\"_types\", fallback:_=>\"string\" },\r\n        \"_cols-ref\":{ meta:3, ent:\"_cols\", name:\"ref\", type:\"ref\", ref:\"_ents\" },\r\n        \"_cols-parent\":{ meta:3, ent:\"_cols\", name:\"parent\", type:\"ref\", ref:\"_cols\" },\r\n        \"_cols-store\":{ meta:3, ent:\"_cols\", name:\"store\", type:\"function\" },\r\n        \"_cols-isList\":{ meta:3, ent:\"_cols\", name:\"isList\", type:\"boolean\" },\r\n        \"_cols-isReadonly\":{ meta:3, ent:\"_cols\", name:\"isReadonly\", type:\"function\" },\r\n        \"_cols-isRequired\":{ meta:3, ent:\"_cols\", name:\"isRequired\", type:\"function\" },\r\n        \"_cols-resetIf\":{ meta:3, ent:\"_cols\", name:\"resetIf\", type:\"function\" },\r\n        \"_cols-init\":{ meta:2, ent:\"_cols\", name:\"init\", type:\"function\" }, //Type should be defined as a function\r\n        \"_cols-fallback\":{ meta:2, ent:\"_cols\", name:\"fallback\", type:\"function\" }, //Type should be defined as a function\r\n        \"_cols-validator\":{ meta:2, ent:\"_cols\", name:\"validator\", type:\"function\" },\r\n        \"_cols-decimal\":{ meta:2, ent:\"_cols\", name:\"decimal\", type:\"number\", decimal:0, min:0 },\r\n        \"_cols-min\":{ meta:2, ent:\"_cols\", name:\"min\", type:\"number\" }, //decimal should be defined as a function\r\n        \"_cols-max\":{ meta:2, ent:\"_cols\", name:\"max\", type:\"number\" }, //decimal:_=>r.decimal //decimal should be defined as a function\r\n        \"_cols-formula\":{ meta:2, ent:\"_cols\", name:\"formula\", type:\"function\" },\r\n        \"_cols-isVirtual\":{ meta:3, ent:\"_cols\", name:\"isVirtual\", type:\"boolean\" },\r\n        \"_cols-omitChange\":{ meta:3, ent:\"_cols\", name:\"omitChange\", type:\"boolean\" },\r\n    }\r\n}", "import { metaData, metaEnts } from \"./interface\";\r\n\r\n\r\n\r\n\r\nexport const isMetaEnt = _ent=>metaEnts.includes(_ent);\r\n\r\nexport const getMetaRow = (_ent, id)=>{\r\n    if (isMetaEnt(_ent)) { return metaData[_ent][id]; }\r\n}\r\n\r\nexport const rowMetaMerge = (_ent, id, rawRow)=>{\r\n    const meta = getMetaRow(_ent, id);\r\n    const row = { ...rawRow, _ent, id };\r\n    if (!meta) { return row; }\r\n\r\n    for (const colName in metaData._cols) {\r\n        const col = metaData._cols[colName];\r\n        if (col._ent !== _ent) { continue; }\r\n        if (col.meta < 2 && row.hasOwnProperty(colName)) { continue; }\r\n        row[colName] = meta[colName];\r\n    }\r\n\r\n    return row;\r\n}", "import { solids } from \"@randajan/props\";\r\nimport { warn } from \"../../tools/traits/uni\";\r\n\r\n\r\nexport class Turn {\r\n\r\n    static attach(task, _rec, input, force=false) {\r\n        return _rec.turn = new Turn(task, _rec, input, force);\r\n    }\r\n\r\n    constructor(task, _rec, input, force=false) {\r\n\r\n        this.task = task;\r\n        this._rec = _rec;\r\n\r\n        this.isChange = _rec.state === \"pending\";\r\n        \r\n        solids(this, {\r\n            force,\r\n            input,\r\n            output:{},\r\n            changes:new Set(),\r\n            pendings:new Set(),\r\n        });\r\n\r\n        this._prepare();\r\n    }\r\n\r\n    _prepare() {\r\n        const { _rec, task, pendings } = this;\r\n        const { values, state } = _rec;\r\n\r\n        if (!values._ent) { throw _rec.fail(\"required\", [\"column\", \"_ent\"]); }\r\n\r\n        const _cols = _rec.getCols();\r\n        if (!_cols) { throw _rec.fail(\"invalid\", [\"column\", \"_ent\"]); }\r\n\r\n        for (const _col of _cols) {\r\n            try { this._prepareCol(_col); } catch(err) {\r\n                task.catchMinor(err, [[\"column\", _col.values.name]]);\r\n            }\r\n        }\r\n\r\n        if (state !== \"ready\" || pendings.size > 0) { return; }\r\n\r\n        _rec.fail(\"blank\", [\"values\", values]);\r\n    }\r\n\r\n    _prepareCol(_col) {\r\n        const { _rec, force, input, output, pendings } = this;\r\n        const { meta:metaRec, values, state } = _rec;\r\n        const { meta:metaCol, values:{ name, formula, resetIf, isVirtual } } = _col;\r\n\r\n        const isReal = input.hasOwnProperty(name);\r\n        const isMeta = (metaRec + metaCol) > 3;\r\n\r\n        output[name] = values[name]; //default output is value without change\r\n\r\n        //fail quick\r\n        if (isReal && state === \"ready\") {\r\n            if (isMeta) { warn(\"meta\"); }\r\n            if (formula) { warn(`formula`); }\r\n        }\r\n\r\n        if (isVirtual) { return; }\r\n        if (formula) { pendings.add(_col); return; }\r\n        if (isMeta && state === \"pending\") { return; } //meta records should never pending\r\n        \r\n        if (force || isReal) { pendings.add(_col); return; }\r\n        if (resetIf) { input[name] = values[name]; pendings.add(_col); return; } //default input \r\n    }\r\n\r\n    execute() {\r\n        const { pendings } = this;\r\n        for (const _col of pendings) { this.pull(_col); }\r\n        return this;\r\n    }\r\n\r\n    pull(_col) {\r\n        const { task, _rec, pendings, output, input, changes } = this;\r\n        const { state, current, before } = _rec;\r\n        const { name, omitChange } = _col.values;\r\n        \r\n        if (pendings.has(_col)) {\r\n            const { setter } = _col.traits;\r\n\r\n            //because computed value of column can reference itself\r\n            pendings.delete(_col);\r\n\r\n            try {\r\n                setter(input[name], current, state === \"ready\" ? before : undefined, output);\r\n            } catch(err) {\r\n                task.catchMinor(err, [[\"column\", name]]); //record fail\r\n            }\r\n            \r\n            //detect changes\r\n            if (output[name] !== _rec.values[name]) {\r\n                changes.add(name);\r\n                if (!omitChange) { this.isChange = true; }\r\n            }\r\n\r\n        }\r\n\r\n        return output[name];\r\n    }\r\n\r\n    detach(isOk) {\r\n        const { _rec, output } = this;\r\n        if (isOk) { _rec.values = output; }\r\n        delete this._rec;\r\n        delete _rec.turn;\r\n    }\r\n\r\n}", "import { isNull, reArray } from \"../../../../components/uni/formats\";\r\nimport { metaData } from \"../../../metaData/interface\";\r\nimport { _chopGetRecs } from \"../../Chop/static/sync\";\r\nimport { cacheds, solid } from \"@randajan/props\";\r\nimport { fail, toId, warn } from \"../../../tools/traits/uni\";\r\n\r\n\r\nconst blackList = [\r\n    \"constructor\",           // Object konstruktor\r\n    \"__proto__\",             // p\u0159\u00EDm\u00FD p\u0159\u00EDstup k prototype chain\r\n    \"hasOwnProperty\",        // d\u016Fle\u017Eit\u00E1 metoda pro pr\u00E1ci s vlastnostmi\r\n    \"isPrototypeOf\",         // pou\u017E\u00EDv\u00E1 se v d\u011Bdi\u010Dnosti\r\n    \"propertyIsEnumerable\",  // zji\u0161\u0165uje, zda je vlastnost v\u00FD\u010Dtov\u00E1\r\n    \"toLocaleString\",        // p\u0159evod pro lokalizaci\r\n    \"toString\",              // p\u0159evod na \u0159et\u011Bzec\r\n    \"valueOf\",               // p\u0159evod na primitivn\u00ED hodnotu\r\n    \"toJSON\"                 // v\u00FDstup p\u0159i JSON.stringify()\r\n];\r\n\r\nconst createStored = (traits, _col)=>{\r\n    const { db, current: col } = _col;\r\n\r\n    const { store } = col;\r\n    return store ? store(col, db) : null;\r\n}\r\n\r\nconst createGetter = (traits, _col) => {\r\n    const { db, current: col, values: v } = _col;\r\n\r\n    //const { fallback } = col;\r\n    const { getter } = (metaData._types[v.type] || col.type);\r\n\r\n    const typize = v.type == \"ref\" ? from => db.get(v.ref, from, false) : v => getter(v, col);\r\n    const n = !v.isList ? typize : f => reArray(f, typize);\r\n    \r\n    return (from, current, before)=>{\r\n        from = n(from);\r\n        //if (fallback && isNull(from)) { from = n(fallback(current, before, traits.stored)); }\r\n        return from;\r\n    }\r\n}\r\n\r\nconst createSetter = (traits, _col) => {\r\n    const { current: col, values: v } = _col;\r\n\r\n    const { name, formula, validator, isReadonly, resetIf, init, isRequired, isList } = col;\r\n    const { setter } = (metaData._types[v.type] || col.type);\r\n\r\n    const typize = t => isNull(t) ? undefined : setter(t, col);\r\n    const n = !isList ? typize : t => isNull(t) ? undefined : reArray(t, typize);\r\n\r\n    return (to, current, before, output) => {\r\n        const stored = traits.stored;\r\n        if (formula) { to = output[name] = n(formula(current, before, stored)); }\r\n        else {\r\n            if (isReadonly && isReadonly(current, before, stored)) {\r\n                if (before) { warn(`readonly`, [\"valueFrom\", before], [\"valueTo\", to]); }\r\n            } else {\r\n                to = output[name] = n(to);\r\n                if (validator && !validator(current, before, stored)) {\r\n                    fail(\"invalid\", [\"valueTo\", to]);\r\n                }\r\n            }\r\n\r\n            if ((!before && isNull(to)) || (resetIf && resetIf(current, before, stored))) {\r\n                to = output[name] = !init ? undefined : n(init(current, before, stored));\r\n            }\r\n        }\r\n\r\n        if (isRequired && isNull(to) && isRequired(current, before, stored)) { fail(\"required\"); }\r\n\r\n        return output[name];\r\n    }\r\n}\r\n\r\nconst createTraits = _col => {\r\n    const traits = {};\r\n    return cacheds(traits, {}, {\r\n        stored:_=>createStored(traits, _col),\r\n        getter:_=>createGetter(traits, _col),\r\n        setter:_=>createSetter(traits, _col)\r\n    });\r\n}\r\n\r\nexport const _colSet = (_rec) => {\r\n    const { _db, values: { _ent, ent, name } } = _rec;\r\n    if (_ent !== \"_cols\") { return; }\r\n\r\n    if (blackList.includes(name)) {\r\n        throw fail(`blacklist`, [\"column\", \"name\"], [\"valueTo\", name]);\r\n    }\r\n\r\n    _db.colsByEnt.set(toId(ent), name, _rec);\r\n\r\n    solid(_rec, \"traits\", createTraits(_rec), true, true);\r\n}\r\n\r\nexport const _colRem = (_rec) => {\r\n    const { _db, values: { _ent, ent, name } } = _rec;\r\n    if (_ent !== \"_cols\") { return; }\r\n\r\n    _db.colsByEnt.delete(toId(ent), name);\r\n}\r\n\r\n", "import { taskWrap } from \"../../Task/Task\";\r\nimport { RecordPrivate } from \"../RecordPrivate\";\r\nimport { _chopSyncIn } from \"../../Chop/static/sync\";\r\nimport { _recGetPriv, recUnreg } from \"../Record\";\r\n\r\nconst exe = (task, values)=>{\r\n    const { db } = task;\r\n\r\n    const _rec = new RecordPrivate(db, values);\r\n    _rec.init(task).ready();\r\n\r\n    return _rec;\r\n}\r\n\r\nconst roll = (task, _rec)=>{\r\n    const { changes } = _rec.turn;\r\n    task.assign({ changes });\r\n    _rec.turn.detach(true);\r\n}\r\n\r\nconst rollback = (task, _rec)=>{\r\n    const { db } = task;\r\n    if (!_rec) { return; }\r\n    \r\n    _chopSyncOut(db, _rec.current);\r\n    _rec.task.detach(false);\r\n    task.unsign(\"record\");\r\n    recUnreg(_rec);\r\n}\r\n\r\n\r\nexport const _recAdd = taskWrap(exe, roll, rollback);", "import { taskWrap } from \"../../Task/Task\";\r\nimport { RecordPrivate } from \"../RecordPrivate\";\r\nimport { _chopGetRec, _chopSyncIn } from \"../../Chop/static/sync\";\r\nimport { _recGetPriv, recUnreg } from \"../Record\";\r\nimport { toId } from \"../../../tools/traits/uni\";\r\n\r\n\r\nconst exe = (isSet, task, values)=>{\r\n    const { db } = task;\r\n    \r\n    let _rec = new RecordPrivate(db, values).init(task);\r\n    const { _ent, id } = _rec.current;\r\n\r\n    const brother = _chopGetRec(db, toId(_ent), id);\r\n\r\n    if (!brother) {\r\n        _rec.ready();\r\n        return [_rec, true];\r\n    } else {\r\n        recUnreg(_rec);\r\n        _rec = _recGetPriv(db, brother);\r\n        _rec.update(task, values, isSet);\r\n        return [_rec, false];\r\n    }\r\n}\r\n\r\nconst roll = (task, [_rec, isAdd])=>{\r\n    const { changes } = _rec.turn;\r\n    task.assign({ changes });\r\n    _rec.turn.detach(true);\r\n}\r\n\r\nconst rollback = (task, res)=>{\r\n    if (!res) { return; }\r\n    const [_rec, isAdd] = res;\r\n    \r\n    if (isAdd) { _chopSyncOut(db, _rec.current); }\r\n    \r\n    _rec.task.detach(false);\r\n    task.unsign(\"record\");\r\n\r\n    if (isAdd) { recUnreg(_rec); }\r\n    else { _chopSyncIn(db, _rec.current); }\r\n}\r\n\r\n\r\nconst exeSet = (...a)=>exe(true, ...a);\r\nconst exeUpdate = (...a)=>exe(false, ...a);\r\n\r\nexport const _recAddOrSet = taskWrap(exeSet, roll, rollback);\r\nexport const _recAddOrUpdate = taskWrap(exeUpdate, roll, rollback);", "import { _chopSyncIn } from \"../../Chop/static/sync\";\r\nimport { taskWrap } from \"../../Task/Task\";\r\nimport { _recGetPriv } from \"../Record\";\r\n\r\nconst exe = (isSet, task, record, values)=>{\r\n    const { db } = task;\r\n    const _rec = _recGetPriv(db, record);\r\n\r\n    _rec.update(task, values, isSet);\r\n\r\n    return _rec;\r\n}\r\n\r\nconst roll = (task, _rec)=>{\r\n    const { changes } = _rec.turn;\r\n    task.assign({ changes });\r\n    _rec.turn.detach(true);\r\n}\r\n\r\nconst rollback = (task, _rec)=>{\r\n    const { db } = task;\r\n    if (!_rec) { return; }\r\n    \r\n    _rec.turn.detach(false);\r\n    task.unsign(\"record\");\r\n    _chopSyncIn(db, _rec.current);\r\n}\r\n\r\n\r\nconst exeUpdate = (...a)=>exe(false, ...a);\r\nconst exeSet = (...a)=>exe(true, ...a);\r\n\r\nexport const _recSet = taskWrap(exeSet, roll, rollback);\r\nexport const _recUpdate = taskWrap(exeUpdate, roll, rollback);\r\n", "import { taskWrap } from \"../../Task/Task\";\r\nimport { _chopSyncIn, _chopSyncOut } from \"../../Chop/static/sync\";\r\nimport { _recGetPriv, recUnreg } from \"../Record\";\r\n\r\n\r\n\r\nconst exe = (task, record, force=false)=>{\r\n    const { db } = task;\r\n    const _rec = _recGetPriv(db, record);\r\n\r\n    if (!force && _rec.meta) { _rec.fail(\"is meta\"); }\r\n    \r\n    _chopSyncOut(db, record, task);\r\n    \r\n    return _rec;\r\n}\r\n\r\nconst roll = (task, _rec)=>{\r\n    recUnreg(_rec);\r\n}\r\n\r\nconst rollback = (task, _rec)=>{\r\n    const { db } = task;\r\n    if (!_rec) { return; }\r\n    _chopSyncIn(db, _rec.current);\r\n}\r\n\r\nconst exeRemoveForce = (task, record)=>exe(task, record, true);\r\nconst exeRemove = (task, record)=>exe(task, record, false);\r\n\r\n\r\nexport const _recRemove = taskWrap(exeRemove, roll, rollback);\r\nexport const _recRemoveForce = taskWrap(exeRemoveForce, roll, rollback);", "import { fceTrue } from \"../../../../components/uni/consts\";\r\nimport { _recRemoveForce } from \"./remove\";\r\n\r\nexport const _entAdd = (task, _rec)=>{\r\n    const { db, values:{ _ent, id } } = _rec;\r\n    if (_ent !== \"_ents\") { return; }\r\n\r\n    db.add({_ent:\"_cols\", ent:id, name:\"_ent\", type:\"ref\", ref:\"_ents\", meta:3, isReadonly:fceTrue, isRequired:fceTrue}, task.context);\r\n    db.add({_ent:\"_cols\", ent:id, name:\"id\", type:\"string\", meta:1, isReadonly:fceTrue, isRequired:fceTrue}, task.context);\r\n}\r\n\r\nexport const _entRem = (task, _rec)=>{\r\n    const { _db, db, values:{ _ent, id } } = _rec;\r\n    if (_ent !== \"_ents\") { return; }\r\n\r\n    for (const _col of _db.colsByEnt.values(id)) { _recRemoveForce(db, [_col.current], task.context); };\r\n}", "\r\nimport { metaData } from \"../../metaData/interface\";\r\nimport { _recGetPriv } from \"../Record/Record\";\r\nimport { vault } from \"../../../components/uni/consts\";\r\nimport { _colRem, _colSet } from \"../Record/static/_columns\";\r\n\r\nimport { RecordPrivate } from \"../Record/RecordPrivate\";\r\n\r\nimport { _entAdd, _entRem } from \"../Record/static/_ents\";\r\nimport { _chopGetAllRecs, _chopGetRecs, _chopSyncIn } from \"../Chop/static/sync\";\r\nimport { rowMetaMerge } from \"../../metaData/methods\";\r\n\r\nexport const _dbInit = (db, task, data, save)=>{\r\n    const loaded = new Set();\r\n\r\n    const loadRecs = (_ent, recsRaw)=>{\r\n        loaded.add(_ent);\r\n        for (const id in recsRaw) {\r\n            const _rec = new RecordPrivate(db, rowMetaMerge(_ent, id, recsRaw[id]));\r\n            _chopSyncIn(db, _rec.current);\r\n        };\r\n    }\r\n\r\n    loadRecs(\"_ents\", ({...metaData._ents, ...(data._ents || {})}));\r\n    loadRecs(\"_types\", ({...metaData._types, ...(data._types || {})}));\r\n    loadRecs(\"_cols\", ({...metaData._cols, ...(data._cols || {})}));\r\n\r\n    //load all _ents\r\n    for (const [_ent] of _chopGetRecs(db, \"_ents\")) {\r\n        if (!loaded.has(_ent)) { loadRecs(_ent, data[_ent]); }\r\n    }\r\n\r\n    //set columns definitions\r\n    for (const [_, rec] of _chopGetRecs(db, \"_cols\")) {\r\n        const _rec = _recGetPriv(db, rec);\r\n        _colSet(_rec);\r\n    }\r\n\r\n    //prepare columns for rows\r\n    const _recs = [];\r\n    for (const [rec] of _chopGetAllRecs(db)) {\r\n        const _rec = _recGetPriv(db, rec);\r\n        if (_rec.state === \"pending\") { _recs.push(_rec.init(task)); }\r\n    }\r\n    \r\n    //set columns for rows\r\n    for (const _rec of _recs) { _rec.ready(); }\r\n\r\n    db.fit((next, event, task)=>{\r\n        const { record } = task;\r\n        next();\r\n\r\n        const _rec = _recGetPriv(db, record);\r\n\r\n        if (event === \"add\") {\r\n            _entAdd(task, _rec);\r\n            _colSet(_rec);\r\n        }\r\n        else if (event === \"update\") {\r\n            _colSet(_rec);\r\n        }\r\n        else if (event === \"remove\") {\r\n            _entRem(task, _rec);\r\n            _colRem(_rec);\r\n        }\r\n\r\n    });\r\n\r\n    db.effect((event, task)=>{\r\n        const { record } = task;\r\n\r\n        const ex = record.toJSON();\r\n        const { _ent, id } = ex;\r\n        delete ex._ent;\r\n        delete ex.id;\r\n\r\n        save(_ent, id, event === \"remove\" ? undefined  : ex);\r\n        \r\n    });\r\n\r\n};", "\r\nimport { Chop } from \"../Chop/Chop\";\r\n\r\nimport { _recGetPriv } from \"../Record/Record\";\r\nimport { vault } from \"../../../components/uni/consts\";\r\nimport { toId } from \"../../tools/traits/uni\";\r\n\r\n\r\nimport { _recAdd } from \"../Record/static/add\";\r\nimport { _recAddOrSet, _recAddOrUpdate } from \"../Record/static/addOr\";\r\nimport { _recSet, _recUpdate } from \"../Record/static/update\";\r\nimport { _recRemove } from \"../Record/static/remove\";\r\nimport { SuperMap } from \"../SuperMap/SuperMap\";\r\nimport { _dbInit } from \"./dbInit\";\r\nimport { Task } from \"../Task/Task\";\r\n\r\nexport class DB extends Chop {\r\n\r\n    constructor(id, opt={}) {\r\n\r\n        const { data, save } = opt;\r\n\r\n        super(id, {\r\n            getId:rec=>toId(rec.id),\r\n            getGroup:rec=>toId(rec._ent),\r\n        });\r\n\r\n        const _p = vault.get(this);\r\n        _p.colsByEnt = new SuperMap();\r\n\r\n        _dbInit(this, Task.create(this), data, save);\r\n\r\n    }\r\n\r\n    isRecord(any, throwError=false) { return !!_recGetPriv(any, throwError); }\r\n\r\n    add(values, throwError=false, context=null) { return _recAdd(this, arguments, throwError, context); }\r\n\r\n    addOrSet(values, throwError=false, context=null) { return _recAddOrSet(this, arguments, throwError, context); }\r\n    addOrUpdate(values, throwError=false, context=null) { return _recAddOrUpdate(this, arguments, throwError, context); }\r\n\r\n    set(record, values, throwError=false, context=null) { return _recSet(this, arguments, throwError, context); }\r\n    update(record, values, throwError=false, context=null) { return _recUpdate(this, arguments, throwError, context); }\r\n\r\n    remove(record, throwError=false, context=null) { return _recRemove(this, arguments, throwError, context); }\r\n\r\n    setBy(groupId, recId, values, throwError = false, context=null) {\r\n        return this.set(this.get(groupId, recId, throwError), values, throwError, context);\r\n    }\r\n\r\n    updateBy(groupId, recId, values, throwError = false, context=null) {\r\n        return this.update(this.get(groupId, recId, throwError), values, throwError, context);\r\n    }\r\n\r\n    removeBy(groupId, recId, throwError = false, context=null) {\r\n        return this.remove(this.get(groupId, recId, throwError), throwError, context);\r\n    }\r\n\r\n}"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA,mCAAC,UAAW,OAAM,SAAU,OAAM,MAAO,oBAAmB,aAAc,qBAAoB,SAAU,SAAQ,QAAS,EAAC,MAAO,aAAY,OAAQ,qBAAoB,KAAM,wCAAuC,GAAE,KAAM,eAAc,MAAO,OAAM,MAAO,MAAK,KAAM,EAAC,MAAO,wBAAuB,MAAO,qBAAoB,EAAC;AAAA;AAAA;;;ACAtU;AAAA;AAAA;AAAA;AAYA,UAAI,cAAc,OAAO,UAAU,SAAU,OAAO;AAEhD,YAAI,OAAO,UAAU,UAAU;AAC3B,gBAAM,IAAI,MAAM,uCAAuC;AAAA,QAC3D;AAGA,YAAI,IAAI,MAAM,MAAM,sBAAsB;AAG1C,YAAI,CAAC,GAAG;AACJ,gBAAM,IAAI,MAAM,oCAAoC;AAAA,QACxD;AAGA,YAAI,aAAa,MAAM,KAAK,IAAI,IAAI,EAAE,CAAC,CAAC,CAAC,EAAE,OAAO,SAAU,MAAM;AAC9D,iBAAO,SAAS,SAAS,IAAI;AAAA,QACjC,CAAC,EAAE,KAAK,EAAE;AAGV,eAAO,IAAI,OAAO,EAAE,CAAC,GAAG,UAAU;AAAA,MACtC;AAAA;AAAA;;;ACjCA;;;;;;;;;ACAA;;;ACAA;AAAA,MAAM,yBAAyB;AAE/B,MAAM,aAAa,CAAC,SAAS,MAAM,UAAQ,QAAU,OAAO;AAE5D,MAAM,cAAc,CAAC,SAAS,MAAM,UAAQ,QAAU,KAAK,YAAY;AAEvE,MAAM,cAAc,CAAC,SAAS,MAAM,CAAC,KAAK,OAAO,SAAS,QAAU,KAAK,YAAY,OAAO,SAAS;AAErG,MAAM,SAAS;AAAA,IACd,UAAU;AAAA,MACT,OAAO,CAAC,GAAG,CAAC;AAAA;AAAA,MAEZ,MAAM,CAAC,GAAG,EAAE;AAAA,MACZ,KAAK,CAAC,GAAG,EAAE;AAAA,MACX,QAAQ,CAAC,GAAG,EAAE;AAAA,MACd,WAAW,CAAC,GAAG,EAAE;AAAA,MACjB,UAAU,CAAC,IAAI,EAAE;AAAA,MACjB,SAAS,CAAC,GAAG,EAAE;AAAA,MACf,QAAQ,CAAC,GAAG,EAAE;AAAA,MACd,eAAe,CAAC,GAAG,EAAE;AAAA,IACtB;AAAA,IACA,OAAO;AAAA,MACN,OAAO,CAAC,IAAI,EAAE;AAAA,MACd,KAAK,CAAC,IAAI,EAAE;AAAA,MACZ,OAAO,CAAC,IAAI,EAAE;AAAA,MACd,QAAQ,CAAC,IAAI,EAAE;AAAA,MACf,MAAM,CAAC,IAAI,EAAE;AAAA,MACb,SAAS,CAAC,IAAI,EAAE;AAAA,MAChB,MAAM,CAAC,IAAI,EAAE;AAAA,MACb,OAAO,CAAC,IAAI,EAAE;AAAA;AAAA,MAGd,aAAa,CAAC,IAAI,EAAE;AAAA,MACpB,MAAM,CAAC,IAAI,EAAE;AAAA;AAAA,MACb,MAAM,CAAC,IAAI,EAAE;AAAA;AAAA,MACb,WAAW,CAAC,IAAI,EAAE;AAAA,MAClB,aAAa,CAAC,IAAI,EAAE;AAAA,MACpB,cAAc,CAAC,IAAI,EAAE;AAAA,MACrB,YAAY,CAAC,IAAI,EAAE;AAAA,MACnB,eAAe,CAAC,IAAI,EAAE;AAAA,MACtB,YAAY,CAAC,IAAI,EAAE;AAAA,MACnB,aAAa,CAAC,IAAI,EAAE;AAAA,IACrB;AAAA,IACA,SAAS;AAAA,MACR,SAAS,CAAC,IAAI,EAAE;AAAA,MAChB,OAAO,CAAC,IAAI,EAAE;AAAA,MACd,SAAS,CAAC,IAAI,EAAE;AAAA,MAChB,UAAU,CAAC,IAAI,EAAE;AAAA,MACjB,QAAQ,CAAC,IAAI,EAAE;AAAA,MACf,WAAW,CAAC,IAAI,EAAE;AAAA,MAClB,QAAQ,CAAC,IAAI,EAAE;AAAA,MACf,SAAS,CAAC,IAAI,EAAE;AAAA;AAAA,MAGhB,eAAe,CAAC,KAAK,EAAE;AAAA,MACvB,QAAQ,CAAC,KAAK,EAAE;AAAA;AAAA,MAChB,QAAQ,CAAC,KAAK,EAAE;AAAA;AAAA,MAChB,aAAa,CAAC,KAAK,EAAE;AAAA,MACrB,eAAe,CAAC,KAAK,EAAE;AAAA,MACvB,gBAAgB,CAAC,KAAK,EAAE;AAAA,MACxB,cAAc,CAAC,KAAK,EAAE;AAAA,MACtB,iBAAiB,CAAC,KAAK,EAAE;AAAA,MACzB,cAAc,CAAC,KAAK,EAAE;AAAA,MACtB,eAAe,CAAC,KAAK,EAAE;AAAA,IACxB;AAAA,EACD;AAEO,MAAM,gBAAgB,OAAO,KAAK,OAAO,QAAQ;AACjD,MAAM,uBAAuB,OAAO,KAAK,OAAO,KAAK;AACrD,MAAM,uBAAuB,OAAO,KAAK,OAAO,OAAO;AACvD,MAAM,aAAa,CAAC,GAAG,sBAAsB,GAAG,oBAAoB;AAE3E,WAAS,iBAAiB;AACzB,UAAM,QAAQ,oBAAI,IAAI;AAEtB,eAAW,CAAC,WAAW,KAAK,KAAK,OAAO,QAAQ,MAAM,GAAG;AACxD,iBAAW,CAAC,WAAW,KAAK,KAAK,OAAO,QAAQ,KAAK,GAAG;AACvD,eAAO,SAAS,IAAI;AAAA,UACnB,MAAM,QAAU,MAAM,CAAC;AAAA,UACvB,OAAO,QAAU,MAAM,CAAC;AAAA,QACzB;AAEA,cAAM,SAAS,IAAI,OAAO,SAAS;AAEnC,cAAM,IAAI,MAAM,CAAC,GAAG,MAAM,CAAC,CAAC;AAAA,MAC7B;AAEA,aAAO,eAAe,QAAQ,WAAW;AAAA,QACxC,OAAO;AAAA,QACP,YAAY;AAAA,MACb,CAAC;AAAA,IACF;AAEA,WAAO,eAAe,QAAQ,SAAS;AAAA,MACtC,OAAO;AAAA,MACP,YAAY;AAAA,IACb,CAAC;AAED,WAAO,MAAM,QAAQ;AACrB,WAAO,QAAQ,QAAQ;AAEvB,WAAO,MAAM,OAAO,WAAW;AAC/B,WAAO,MAAM,UAAU,YAAY;AACnC,WAAO,MAAM,UAAU,YAAY;AACnC,WAAO,QAAQ,OAAO,WAAW,sBAAsB;AACvD,WAAO,QAAQ,UAAU,YAAY,sBAAsB;AAC3D,WAAO,QAAQ,UAAU,YAAY,sBAAsB;AAG3D,WAAO,iBAAiB,QAAQ;AAAA,MAC/B,cAAc;AAAA,QACb,MAAM,KAAK,OAAO,MAAM;AAGvB,cAAI,QAAQ,SAAS,UAAU,MAAM;AACpC,gBAAI,MAAM,GAAG;AACZ,qBAAO;AAAA,YACR;AAEA,gBAAI,MAAM,KAAK;AACd,qBAAO;AAAA,YACR;AAEA,mBAAO,KAAK,OAAQ,MAAM,KAAK,MAAO,EAAE,IAAI;AAAA,UAC7C;AAEA,iBAAO,KACH,KAAK,KAAK,MAAM,MAAM,MAAM,CAAC,IAC7B,IAAI,KAAK,MAAM,QAAQ,MAAM,CAAC,IAC/B,KAAK,MAAM,OAAO,MAAM,CAAC;AAAA,QAC7B;AAAA,QACA,YAAY;AAAA,MACb;AAAA,MACA,UAAU;AAAA,QACT,MAAM,KAAK;AACV,gBAAM,UAAU,yBAAyB,KAAK,IAAI,SAAS,EAAE,CAAC;AAC9D,cAAI,CAAC,SAAS;AACb,mBAAO,CAAC,GAAG,GAAG,CAAC;AAAA,UAChB;AAEA,cAAI,CAAC,WAAW,IAAI;AAEpB,cAAI,YAAY,WAAW,GAAG;AAC7B,0BAAc,CAAC,GAAG,WAAW,EAAE,IAAI,eAAa,YAAY,SAAS,EAAE,KAAK,EAAE;AAAA,UAC/E;AAEA,gBAAM,UAAU,OAAO,SAAS,aAAa,EAAE;AAE/C,iBAAO;AAAA;AAAA,YAEL,WAAW,KAAM;AAAA,YACjB,WAAW,IAAK;AAAA,YACjB,UAAU;AAAA;AAAA,UAEX;AAAA,QACD;AAAA,QACA,YAAY;AAAA,MACb;AAAA,MACA,cAAc;AAAA,QACb,OAAO,SAAO,OAAO,aAAa,GAAG,OAAO,SAAS,GAAG,CAAC;AAAA,QACzD,YAAY;AAAA,MACb;AAAA,MACA,eAAe;AAAA,QACd,MAAM,MAAM;AACX,cAAI,OAAO,GAAG;AACb,mBAAO,KAAK;AAAA,UACb;AAEA,cAAI,OAAO,IAAI;AACd,mBAAO,MAAM,OAAO;AAAA,UACrB;AAEA,cAAI;AACJ,cAAI;AACJ,cAAI;AAEJ,cAAI,QAAQ,KAAK;AAChB,oBAAS,OAAO,OAAO,KAAM,KAAK;AAClC,oBAAQ;AACR,mBAAO;AAAA,UACR,OAAO;AACN,oBAAQ;AAER,kBAAM,YAAY,OAAO;AAEzB,kBAAM,KAAK,MAAM,OAAO,EAAE,IAAI;AAC9B,oBAAQ,KAAK,MAAM,YAAY,CAAC,IAAI;AACpC,mBAAQ,YAAY,IAAK;AAAA,UAC1B;AAEA,gBAAMA,SAAQ,KAAK,IAAI,KAAK,OAAO,IAAI,IAAI;AAE3C,cAAIA,WAAU,GAAG;AAChB,mBAAO;AAAA,UACR;AAGA,cAAI,SAAS,MAAO,KAAK,MAAM,IAAI,KAAK,IAAM,KAAK,MAAM,KAAK,KAAK,IAAK,KAAK,MAAM,GAAG;AAEtF,cAAIA,WAAU,GAAG;AAChB,sBAAU;AAAA,UACX;AAEA,iBAAO;AAAA,QACR;AAAA,QACA,YAAY;AAAA,MACb;AAAA,MACA,WAAW;AAAA,QACV,OAAO,CAAC,KAAK,OAAO,SAAS,OAAO,cAAc,OAAO,aAAa,KAAK,OAAO,IAAI,CAAC;AAAA,QACvF,YAAY;AAAA,MACb;AAAA,MACA,WAAW;AAAA,QACV,OAAO,SAAO,OAAO,cAAc,OAAO,aAAa,GAAG,CAAC;AAAA,QAC3D,YAAY;AAAA,MACb;AAAA,IACD,CAAC;AAED,WAAO;AAAA,EACR;AAEA,MAAM,aAAa,eAAe;AAElC,MAAO,sBAAQ;;;AC9Nf;AAEA,MAAM,SAAS,MAAM;AACpB,QAAI,UAAU,eAAe;AAC5B,YAAM,QAAQ,UAAU,cAAc,OAAO,KAAK,CAAC,EAAC,OAAAC,OAAK,MAAMA,WAAU,UAAU;AACnF,UAAI,SAAS,MAAM,UAAU,IAAI;AAChC,eAAO;AAAA,MACR;AAAA,IACD;AAEA,QAAI,wBAAwB,KAAK,UAAU,SAAS,GAAG;AACtD,aAAO;AAAA,IACR;AAEA,WAAO;AAAA,EACR,GAAG;AAEH,MAAM,eAAe,UAAU,KAAK;AAAA,IACnC;AAAA,IACA,UAAU;AAAA,IACV,QAAQ,SAAS;AAAA,IACjB,QAAQ,SAAS;AAAA,EAClB;AAEA,MAAM,gBAAgB;AAAA,IACrB,QAAQ;AAAA,IACR,QAAQ;AAAA,EACT;AAEA,MAAO,kBAAQ;;;AC7Bf;AACO,WAAS,iBAAiB,QAAQ,WAAW,UAAU;AAC7D,QAAI,QAAQ,OAAO,QAAQ,SAAS;AACpC,QAAI,UAAU,IAAI;AACjB,aAAO;AAAA,IACR;AAEA,UAAM,kBAAkB,UAAU;AAClC,QAAI,WAAW;AACf,QAAI,cAAc;AAClB,OAAG;AACF,qBAAe,OAAO,MAAM,UAAU,KAAK,IAAI,YAAY;AAC3D,iBAAW,QAAQ;AACnB,cAAQ,OAAO,QAAQ,WAAW,QAAQ;AAAA,IAC3C,SAAS,UAAU;AAEnB,mBAAe,OAAO,MAAM,QAAQ;AACpC,WAAO;AAAA,EACR;AAEO,WAAS,+BAA+B,QAAQ,QAAQ,SAAS,OAAO;AAC9E,QAAI,WAAW;AACf,QAAI,cAAc;AAClB,OAAG;AACF,YAAM,QAAQ,OAAO,QAAQ,CAAC,MAAM;AACpC,qBAAe,OAAO,MAAM,UAAW,QAAQ,QAAQ,IAAI,KAAM,IAAI,UAAU,QAAQ,SAAS,QAAQ;AACxG,iBAAW,QAAQ;AACnB,cAAQ,OAAO,QAAQ,MAAM,QAAQ;AAAA,IACtC,SAAS,UAAU;AAEnB,mBAAe,OAAO,MAAM,QAAQ;AACpC,WAAO;AAAA,EACR;;;AHzBA,MAAM,EAAC,QAAQ,aAAa,QAAQ,YAAW,IAAI;AAEnD,MAAM,YAAY,OAAO,WAAW;AACpC,MAAM,SAAS,OAAO,QAAQ;AAC9B,MAAM,WAAW,OAAO,UAAU;AAGlC,MAAM,eAAe;AAAA,IACpB;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACD;AAEA,MAAMC,UAAS,uBAAO,OAAO,IAAI;AAEjC,MAAM,eAAe,CAAC,QAAQ,UAAU,CAAC,MAAM;AAC9C,QAAI,QAAQ,SAAS,EAAE,OAAO,UAAU,QAAQ,KAAK,KAAK,QAAQ,SAAS,KAAK,QAAQ,SAAS,IAAI;AACpG,YAAM,IAAI,MAAM,qDAAqD;AAAA,IACtE;AAGA,UAAM,aAAa,cAAc,YAAY,QAAQ;AACrD,WAAO,QAAQ,QAAQ,UAAU,SAAY,aAAa,QAAQ;AAAA,EACnE;AASA,MAAM,eAAe,aAAW;AAC/B,UAAMC,SAAQ,IAAI,YAAY,QAAQ,KAAK,GAAG;AAC9C,iBAAaA,QAAO,OAAO;AAE3B,WAAO,eAAeA,QAAO,YAAY,SAAS;AAElD,WAAOA;AAAA,EACR;AAEA,WAAS,YAAY,SAAS;AAC7B,WAAO,aAAa,OAAO;AAAA,EAC5B;AAEA,SAAO,eAAe,YAAY,WAAW,SAAS,SAAS;AAE/D,aAAW,CAAC,WAAW,KAAK,KAAK,OAAO,QAAQ,mBAAU,GAAG;AAC5D,IAAAC,QAAO,SAAS,IAAI;AAAA,MACnB,MAAM;AACL,cAAM,UAAU,cAAc,MAAM,aAAa,MAAM,MAAM,MAAM,OAAO,KAAK,MAAM,CAAC,GAAG,KAAK,QAAQ,CAAC;AACvG,eAAO,eAAe,MAAM,WAAW,EAAC,OAAO,QAAO,CAAC;AACvD,eAAO;AAAA,MACR;AAAA,IACD;AAAA,EACD;AAEA,EAAAA,QAAO,UAAU;AAAA,IAChB,MAAM;AACL,YAAM,UAAU,cAAc,MAAM,KAAK,MAAM,GAAG,IAAI;AACtD,aAAO,eAAe,MAAM,WAAW,EAAC,OAAO,QAAO,CAAC;AACvD,aAAO;AAAA,IACR;AAAA,EACD;AAEA,MAAM,eAAe,CAAC,OAAOC,QAAO,SAAS,eAAe;AAC3D,QAAI,UAAU,OAAO;AACpB,UAAIA,WAAU,WAAW;AACxB,eAAO,oBAAW,IAAI,EAAE,QAAQ,GAAG,UAAU;AAAA,MAC9C;AAEA,UAAIA,WAAU,WAAW;AACxB,eAAO,oBAAW,IAAI,EAAE,QAAQ,oBAAW,aAAa,GAAG,UAAU,CAAC;AAAA,MACvE;AAEA,aAAO,oBAAW,IAAI,EAAE,KAAK,oBAAW,UAAU,GAAG,UAAU,CAAC;AAAA,IACjE;AAEA,QAAI,UAAU,OAAO;AACpB,aAAO,aAAa,OAAOA,QAAO,MAAM,GAAG,oBAAW,SAAS,GAAG,UAAU,CAAC;AAAA,IAC9E;AAEA,WAAO,oBAAW,IAAI,EAAE,KAAK,EAAE,GAAG,UAAU;AAAA,EAC7C;AAEA,MAAM,aAAa,CAAC,OAAO,OAAO,SAAS;AAE3C,aAAW,SAAS,YAAY;AAC/B,IAAAD,QAAO,KAAK,IAAI;AAAA,MACf,MAAM;AACL,cAAM,EAAC,OAAAC,OAAK,IAAI;AAChB,eAAO,YAAa,YAAY;AAC/B,gBAAM,SAAS,aAAa,aAAa,OAAO,aAAaA,MAAK,GAAG,SAAS,GAAG,UAAU,GAAG,oBAAW,MAAM,OAAO,KAAK,MAAM,CAAC;AAClI,iBAAO,cAAc,MAAM,QAAQ,KAAK,QAAQ,CAAC;AAAA,QAClD;AAAA,MACD;AAAA,IACD;AAEA,UAAM,UAAU,OAAO,MAAM,CAAC,EAAE,YAAY,IAAI,MAAM,MAAM,CAAC;AAC7D,IAAAD,QAAO,OAAO,IAAI;AAAA,MACjB,MAAM;AACL,cAAM,EAAC,OAAAC,OAAK,IAAI;AAChB,eAAO,YAAa,YAAY;AAC/B,gBAAM,SAAS,aAAa,aAAa,OAAO,aAAaA,MAAK,GAAG,WAAW,GAAG,UAAU,GAAG,oBAAW,QAAQ,OAAO,KAAK,MAAM,CAAC;AACtI,iBAAO,cAAc,MAAM,QAAQ,KAAK,QAAQ,CAAC;AAAA,QAClD;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAEA,MAAM,QAAQ,OAAO,iBAAiB,MAAM;AAAA,EAAC,GAAG;AAAA,IAC/C,GAAGD;AAAA,IACH,OAAO;AAAA,MACN,YAAY;AAAA,MACZ,MAAM;AACL,eAAO,KAAK,SAAS,EAAE;AAAA,MACxB;AAAA,MACA,IAAIC,QAAO;AACV,aAAK,SAAS,EAAE,QAAQA;AAAA,MACzB;AAAA,IACD;AAAA,EACD,CAAC;AAED,MAAM,eAAe,CAAC,MAAM,OAAO,WAAW;AAC7C,QAAI;AACJ,QAAI;AACJ,QAAI,WAAW,QAAW;AACzB,gBAAU;AACV,iBAAW;AAAA,IACZ,OAAO;AACN,gBAAU,OAAO,UAAU;AAC3B,iBAAW,QAAQ,OAAO;AAAA,IAC3B;AAEA,WAAO;AAAA,MACN;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACD;AAAA,EACD;AAEA,MAAM,gBAAgB,CAACC,OAAM,SAAS,aAAa;AAGlD,UAAM,UAAU,IAAI,eAAe,WAAW,SAAU,WAAW,WAAW,IAAM,KAAK,WAAW,CAAC,IAAK,WAAW,KAAK,GAAG,CAAC;AAI9H,WAAO,eAAe,SAAS,KAAK;AAEpC,YAAQ,SAAS,IAAIA;AACrB,YAAQ,MAAM,IAAI;AAClB,YAAQ,QAAQ,IAAI;AAEpB,WAAO;AAAA,EACR;AAEA,MAAM,aAAa,CAACA,OAAM,WAAW;AACpC,QAAIA,MAAK,SAAS,KAAK,CAAC,QAAQ;AAC/B,aAAOA,MAAK,QAAQ,IAAI,KAAK;AAAA,IAC9B;AAEA,QAAI,SAASA,MAAK,MAAM;AAExB,QAAI,WAAW,QAAW;AACzB,aAAO;AAAA,IACR;AAEA,UAAM,EAAC,SAAS,SAAQ,IAAI;AAC5B,QAAI,OAAO,SAAS,MAAQ,GAAG;AAC9B,aAAO,WAAW,QAAW;AAI5B,iBAAS,iBAAiB,QAAQ,OAAO,OAAO,OAAO,IAAI;AAE3D,iBAAS,OAAO;AAAA,MACjB;AAAA,IACD;AAKA,UAAM,UAAU,OAAO,QAAQ,IAAI;AACnC,QAAI,YAAY,IAAI;AACnB,eAAS,+BAA+B,QAAQ,UAAU,SAAS,OAAO;AAAA,IAC3E;AAEA,WAAO,UAAU,SAAS;AAAA,EAC3B;AAEA,SAAO,iBAAiB,YAAY,WAAWF,OAAM;AAErD,MAAM,QAAQ,YAAY;AACnB,MAAM,cAAc,YAAY,EAAC,OAAO,cAAc,YAAY,QAAQ,EAAC,CAAC;AAoBnF,MAAO,iBAAQ;;;AI9Nf,MAAM,aAAa,OAAO,oBAAoB,OAAO,eAAe,cAAW,CAAC,EAAE,OAAO,CAAA,MAAG,MAAI,aAAa;AAE7G,MAAM,SAAN,cAAqB,SAAS;IAC1B,YAAY,UAAU,WAAW;AAC7B,YAAM;AACN,YAAMG,SAAQ,aAAW;AAEzB,YAAMC,OAAM,IAAI,SAAO;AAAE,gBAAQ,IAAID,OAAM,SAAS,IAAI,CAAC,CAAC;MAAG;AAC7D,YAAME,QAAO,OAAO,eAAeD,KAAI,KAAK,GAAG,WAAW,SAAS;AAEnE,iBAAW,QAAQ,YAAY;AAC3B,eAAO,eAAeC,OAAM,MAAM,EAAE,KAAK,CAAA,MAAG,IAAI,OAAO,UAAUF,OAAM,IAAI,CAAC,GAAG,YAAW,MAAM,CAAC;MACrG;AAEA,aAAOE;IACX;EACJ;AAEO,MAAM,SAAS,IAAI,aAAW;AACjC,UAAM,MAAM,CAAA,MAAI,IAAI,KAAK,EAAG,mBAAmB,OAAO;AACtD,eAAW,SAAS,OAAO,CAAA,MAAG,CAAC,CAAC,CAAC,EAAE,KAAK,GAAG;AAE3C,WAAO,IAAI,OAAO,CAAA,SAAM,GAAG,cAAc,IAAI,OAAO,KAAK,KAAK,GAAG,GAAG;EACxE;;;;ACzBA,MAAM,aAAa;AACnB,MAAM,aAAa,CAAA,MAAG;AAClB,QAAI,OAAO,MAAM,UAAU;AAAE,aAAO;IAAG;AAEvC,UAAM,IAAI,CAAC;AACX,eAAW,KAAK,GAAG;AACf,YAAM,aAAa,EAAE,WAAW;AAChC,UAAI,MAAM,EAAE,CAAC;AACb,UAAI,eAAe,OAAO;AAAE,mBAAW,MAAM,CAAA,MAAG,CAAC,GAAG,GAAG;MAAG,OACrD;AAAE,mBAAW,QAAQ,WAAW,GAAG;MAAG;AAC3C,aAAO,eAAe,GAAG,GAAG,UAAU;IAC1C;AAEA,WAAO;EACX;AAEO,MAAM,OAAO,WAAW,wBAAW;;;ACXnC,MAAM,MAAM,OAAO,KAAK,MAAM,KAAK,SAAS,KAAK,GAAG;;;ACL3D;;;ACAA;;;ACAA;;;ACAA;;;ACAA;;;ACAA;;;ACAA;;;ACAA;;;ACAA;;;ACAA;;;ACAA;AAAA,MAAM,eAAe,uBAAO,OAAO,IAAI;AACvC,eAAa,MAAM,IAAI;AACvB,eAAa,OAAO,IAAI;AACxB,eAAa,MAAM,IAAI;AACvB,eAAa,MAAM,IAAI;AACvB,eAAa,SAAS,IAAI;AAC1B,eAAa,SAAS,IAAI;AAC1B,eAAa,MAAM,IAAI;AACvB,MAAM,uBAAuB,uBAAO,OAAO,IAAI;AAC/C,SAAO,KAAK,YAAY,EAAE,QAAQ,CAAC,QAAQ;AACvC,yBAAqB,aAAa,GAAG,CAAC,IAAI;AAAA,EAC9C,CAAC;AACD,MAAM,eAAe,EAAE,MAAM,SAAS,MAAM,eAAe;;;ADX3D,MAAM,iBAAiB,OAAO,SAAS,cAClC,OAAO,SAAS,eACb,OAAO,UAAU,SAAS,KAAK,IAAI,MAAM;AACjD,MAAM,wBAAwB,OAAO,gBAAgB;AAErD,MAAM,SAAS,CAAC,QAAQ;AACpB,WAAO,OAAO,YAAY,WAAW,aAC/B,YAAY,OAAO,GAAG,IACtB,OAAO,IAAI,kBAAkB;AAAA,EACvC;AACA,MAAM,eAAe,CAAC,EAAE,MAAM,KAAK,GAAG,gBAAgB,aAAa;AAC/D,QAAI,kBAAkB,gBAAgB,MAAM;AACxC,UAAI,gBAAgB;AAChB,eAAO,SAAS,IAAI;AAAA,MACxB,OACK;AACD,eAAO,mBAAmB,MAAM,QAAQ;AAAA,MAC5C;AAAA,IACJ,WACS,0BACJ,gBAAgB,eAAe,OAAO,IAAI,IAAI;AAC/C,UAAI,gBAAgB;AAChB,eAAO,SAAS,IAAI;AAAA,MACxB,OACK;AACD,eAAO,mBAAmB,IAAI,KAAK,CAAC,IAAI,CAAC,GAAG,QAAQ;AAAA,MACxD;AAAA,IACJ;AAEA,WAAO,SAAS,aAAa,IAAI,KAAK,QAAQ,GAAG;AAAA,EACrD;AACA,MAAM,qBAAqB,CAAC,MAAM,aAAa;AAC3C,UAAM,aAAa,IAAI,WAAW;AAClC,eAAW,SAAS,WAAY;AAC5B,YAAM,UAAU,WAAW,OAAO,MAAM,GAAG,EAAE,CAAC;AAC9C,eAAS,OAAO,WAAW,GAAG;AAAA,IAClC;AACA,WAAO,WAAW,cAAc,IAAI;AAAA,EACxC;AACA,WAAS,QAAQ,MAAM;AACnB,QAAI,gBAAgB,YAAY;AAC5B,aAAO;AAAA,IACX,WACS,gBAAgB,aAAa;AAClC,aAAO,IAAI,WAAW,IAAI;AAAA,IAC9B,OACK;AACD,aAAO,IAAI,WAAW,KAAK,QAAQ,KAAK,YAAY,KAAK,UAAU;AAAA,IACvE;AAAA,EACJ;AACA,MAAI;AACG,WAAS,qBAAqB,QAAQ,UAAU;AACnD,QAAI,kBAAkB,OAAO,gBAAgB,MAAM;AAC/C,aAAO,OAAO,KAAK,YAAY,EAAE,KAAK,OAAO,EAAE,KAAK,QAAQ;AAAA,IAChE,WACS,0BACJ,OAAO,gBAAgB,eAAe,OAAO,OAAO,IAAI,IAAI;AAC7D,aAAO,SAAS,QAAQ,OAAO,IAAI,CAAC;AAAA,IACxC;AACA,iBAAa,QAAQ,OAAO,CAAC,YAAY;AACrC,UAAI,CAAC,cAAc;AACf,uBAAe,IAAI,YAAY;AAAA,MACnC;AACA,eAAS,aAAa,OAAO,OAAO,CAAC;AAAA,IACzC,CAAC;AAAA,EACL;;;AElEA;;;ACAA;AACA,MAAM,QAAQ;AAEd,MAAM,SAAS,OAAO,eAAe,cAAc,CAAC,IAAI,IAAI,WAAW,GAAG;AAC1E,WAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK;AACnC,WAAO,MAAM,WAAW,CAAC,CAAC,IAAI;AAAA,EAClC;AAiBO,MAAM,SAAS,CAAC,WAAW;AAC9B,QAAI,eAAe,OAAO,SAAS,MAAM,MAAM,OAAO,QAAQ,GAAG,IAAI,GAAG,UAAU,UAAU,UAAU;AACtG,QAAI,OAAO,OAAO,SAAS,CAAC,MAAM,KAAK;AACnC;AACA,UAAI,OAAO,OAAO,SAAS,CAAC,MAAM,KAAK;AACnC;AAAA,MACJ;AAAA,IACJ;AACA,UAAM,cAAc,IAAI,YAAY,YAAY,GAAG,QAAQ,IAAI,WAAW,WAAW;AACrF,SAAK,IAAI,GAAG,IAAI,KAAK,KAAK,GAAG;AACzB,iBAAW,OAAO,OAAO,WAAW,CAAC,CAAC;AACtC,iBAAW,OAAO,OAAO,WAAW,IAAI,CAAC,CAAC;AAC1C,iBAAW,OAAO,OAAO,WAAW,IAAI,CAAC,CAAC;AAC1C,iBAAW,OAAO,OAAO,WAAW,IAAI,CAAC,CAAC;AAC1C,YAAM,GAAG,IAAK,YAAY,IAAM,YAAY;AAC5C,YAAM,GAAG,KAAM,WAAW,OAAO,IAAM,YAAY;AACnD,YAAM,GAAG,KAAM,WAAW,MAAM,IAAM,WAAW;AAAA,IACrD;AACA,WAAO;AAAA,EACX;;;ADxCA,MAAMC,yBAAwB,OAAO,gBAAgB;AAC9C,MAAM,eAAe,CAAC,eAAe,eAAe;AACvD,QAAI,OAAO,kBAAkB,UAAU;AACnC,aAAO;AAAA,QACH,MAAM;AAAA,QACN,MAAM,UAAU,eAAe,UAAU;AAAA,MAC7C;AAAA,IACJ;AACA,UAAM,OAAO,cAAc,OAAO,CAAC;AACnC,QAAI,SAAS,KAAK;AACd,aAAO;AAAA,QACH,MAAM;AAAA,QACN,MAAM,mBAAmB,cAAc,UAAU,CAAC,GAAG,UAAU;AAAA,MACnE;AAAA,IACJ;AACA,UAAM,aAAa,qBAAqB,IAAI;AAC5C,QAAI,CAAC,YAAY;AACb,aAAO;AAAA,IACX;AACA,WAAO,cAAc,SAAS,IACxB;AAAA,MACE,MAAM,qBAAqB,IAAI;AAAA,MAC/B,MAAM,cAAc,UAAU,CAAC;AAAA,IACnC,IACE;AAAA,MACE,MAAM,qBAAqB,IAAI;AAAA,IACnC;AAAA,EACR;AACA,MAAM,qBAAqB,CAAC,MAAM,eAAe;AAC7C,QAAIA,wBAAuB;AACvB,YAAM,UAAU,OAAO,IAAI;AAC3B,aAAO,UAAU,SAAS,UAAU;AAAA,IACxC,OACK;AACD,aAAO,EAAE,QAAQ,MAAM,KAAK;AAAA,IAChC;AAAA,EACJ;AACA,MAAM,YAAY,CAAC,MAAM,eAAe;AACpC,YAAQ,YAAY;AAAA,MAChB,KAAK;AACD,YAAI,gBAAgB,MAAM;AAEtB,iBAAO;AAAA,QACX,OACK;AAED,iBAAO,IAAI,KAAK,CAAC,IAAI,CAAC;AAAA,QAC1B;AAAA,MACJ,KAAK;AAAA,MACL;AACI,YAAI,gBAAgB,aAAa;AAE7B,iBAAO;AAAA,QACX,OACK;AAED,iBAAO,KAAK;AAAA,QAChB;AAAA,IACR;AAAA,EACJ;;;AH1DA,MAAM,YAAY,OAAO,aAAa,EAAE;AACxC,MAAM,gBAAgB,CAAC,SAAS,aAAa;AAEzC,UAAM,SAAS,QAAQ;AACvB,UAAM,iBAAiB,IAAI,MAAM,MAAM;AACvC,QAAI,QAAQ;AACZ,YAAQ,QAAQ,CAAC,QAAQ,MAAM;AAE3B,mBAAa,QAAQ,OAAO,CAAC,kBAAkB;AAC3C,uBAAe,CAAC,IAAI;AACpB,YAAI,EAAE,UAAU,QAAQ;AACpB,mBAAS,eAAe,KAAK,SAAS,CAAC;AAAA,QAC3C;AAAA,MACJ,CAAC;AAAA,IACL,CAAC;AAAA,EACL;AACA,MAAM,gBAAgB,CAAC,gBAAgB,eAAe;AAClD,UAAM,iBAAiB,eAAe,MAAM,SAAS;AACrD,UAAM,UAAU,CAAC;AACjB,aAAS,IAAI,GAAG,IAAI,eAAe,QAAQ,KAAK;AAC5C,YAAM,gBAAgB,aAAa,eAAe,CAAC,GAAG,UAAU;AAChE,cAAQ,KAAK,aAAa;AAC1B,UAAI,cAAc,SAAS,SAAS;AAChC;AAAA,MACJ;AAAA,IACJ;AACA,WAAO;AAAA,EACX;AACO,WAAS,4BAA4B;AACxC,WAAO,IAAI,gBAAgB;AAAA,MACvB,UAAU,QAAQ,YAAY;AAC1B,6BAAqB,QAAQ,CAAC,kBAAkB;AAC5C,gBAAM,gBAAgB,cAAc;AACpC,cAAI;AAEJ,cAAI,gBAAgB,KAAK;AACrB,qBAAS,IAAI,WAAW,CAAC;AACzB,gBAAI,SAAS,OAAO,MAAM,EAAE,SAAS,GAAG,aAAa;AAAA,UACzD,WACS,gBAAgB,OAAO;AAC5B,qBAAS,IAAI,WAAW,CAAC;AACzB,kBAAM,OAAO,IAAI,SAAS,OAAO,MAAM;AACvC,iBAAK,SAAS,GAAG,GAAG;AACpB,iBAAK,UAAU,GAAG,aAAa;AAAA,UACnC,OACK;AACD,qBAAS,IAAI,WAAW,CAAC;AACzB,kBAAM,OAAO,IAAI,SAAS,OAAO,MAAM;AACvC,iBAAK,SAAS,GAAG,GAAG;AACpB,iBAAK,aAAa,GAAG,OAAO,aAAa,CAAC;AAAA,UAC9C;AAEA,cAAI,OAAO,QAAQ,OAAO,OAAO,SAAS,UAAU;AAChD,mBAAO,CAAC,KAAK;AAAA,UACjB;AACA,qBAAW,QAAQ,MAAM;AACzB,qBAAW,QAAQ,aAAa;AAAA,QACpC,CAAC;AAAA,MACL;AAAA,IACJ,CAAC;AAAA,EACL;AACA,MAAI;AACJ,WAAS,YAAY,QAAQ;AACzB,WAAO,OAAO,OAAO,CAAC,KAAK,UAAU,MAAM,MAAM,QAAQ,CAAC;AAAA,EAC9D;AACA,WAAS,aAAa,QAAQ,MAAM;AAChC,QAAI,OAAO,CAAC,EAAE,WAAW,MAAM;AAC3B,aAAO,OAAO,MAAM;AAAA,IACxB;AACA,UAAM,SAAS,IAAI,WAAW,IAAI;AAClC,QAAI,IAAI;AACR,aAAS,IAAI,GAAG,IAAI,MAAM,KAAK;AAC3B,aAAO,CAAC,IAAI,OAAO,CAAC,EAAE,GAAG;AACzB,UAAI,MAAM,OAAO,CAAC,EAAE,QAAQ;AACxB,eAAO,MAAM;AACb,YAAI;AAAA,MACR;AAAA,IACJ;AACA,QAAI,OAAO,UAAU,IAAI,OAAO,CAAC,EAAE,QAAQ;AACvC,aAAO,CAAC,IAAI,OAAO,CAAC,EAAE,MAAM,CAAC;AAAA,IACjC;AACA,WAAO;AAAA,EACX;AACO,WAAS,0BAA0B,YAAY,YAAY;AAC9D,QAAI,CAAC,cAAc;AACf,qBAAe,IAAI,YAAY;AAAA,IACnC;AACA,UAAM,SAAS,CAAC;AAChB,QAAI,QAAQ;AACZ,QAAI,iBAAiB;AACrB,QAAIC,YAAW;AACf,WAAO,IAAI,gBAAgB;AAAA,MACvB,UAAU,OAAO,YAAY;AACzB,eAAO,KAAK,KAAK;AACjB,eAAO,MAAM;AACT,cAAI,UAAU,GAA2B;AACrC,gBAAI,YAAY,MAAM,IAAI,GAAG;AACzB;AAAA,YACJ;AACA,kBAAM,SAAS,aAAa,QAAQ,CAAC;AACrC,YAAAA,aAAY,OAAO,CAAC,IAAI,SAAU;AAClC,6BAAiB,OAAO,CAAC,IAAI;AAC7B,gBAAI,iBAAiB,KAAK;AACtB,sBAAQ;AAAA,YACZ,WACS,mBAAmB,KAAK;AAC7B,sBAAQ;AAAA,YACZ,OACK;AACD,sBAAQ;AAAA,YACZ;AAAA,UACJ,WACS,UAAU,GAAuC;AACtD,gBAAI,YAAY,MAAM,IAAI,GAAG;AACzB;AAAA,YACJ;AACA,kBAAM,cAAc,aAAa,QAAQ,CAAC;AAC1C,6BAAiB,IAAI,SAAS,YAAY,QAAQ,YAAY,YAAY,YAAY,MAAM,EAAE,UAAU,CAAC;AACzG,oBAAQ;AAAA,UACZ,WACS,UAAU,GAAuC;AACtD,gBAAI,YAAY,MAAM,IAAI,GAAG;AACzB;AAAA,YACJ;AACA,kBAAM,cAAc,aAAa,QAAQ,CAAC;AAC1C,kBAAM,OAAO,IAAI,SAAS,YAAY,QAAQ,YAAY,YAAY,YAAY,MAAM;AACxF,kBAAM,IAAI,KAAK,UAAU,CAAC;AAC1B,gBAAI,IAAI,KAAK,IAAI,GAAG,KAAK,EAAE,IAAI,GAAG;AAE9B,yBAAW,QAAQ,YAAY;AAC/B;AAAA,YACJ;AACA,6BAAiB,IAAI,KAAK,IAAI,GAAG,EAAE,IAAI,KAAK,UAAU,CAAC;AACvD,oBAAQ;AAAA,UACZ,OACK;AACD,gBAAI,YAAY,MAAM,IAAI,gBAAgB;AACtC;AAAA,YACJ;AACA,kBAAM,OAAO,aAAa,QAAQ,cAAc;AAChD,uBAAW,QAAQ,aAAaA,YAAW,OAAO,aAAa,OAAO,IAAI,GAAG,UAAU,CAAC;AACxF,oBAAQ;AAAA,UACZ;AACA,cAAI,mBAAmB,KAAK,iBAAiB,YAAY;AACrD,uBAAW,QAAQ,YAAY;AAC/B;AAAA,UACJ;AAAA,QACJ;AAAA,MACJ;AAAA,IACJ,CAAC;AAAA,EACL;AACO,MAAM,WAAW;;;AK1JxB;AAMO,WAAS,QAAQ,KAAK;AAC3B,QAAI;AAAK,aAAO,MAAM,GAAG;AAAA,EAC3B;AAUA,WAAS,MAAM,KAAK;AAClB,aAAS,OAAO,QAAQ,WAAW;AACjC,UAAI,GAAG,IAAI,QAAQ,UAAU,GAAG;AAAA,IAClC;AACA,WAAO;AAAA,EACT;AAWA,UAAQ,UAAU,KAClB,QAAQ,UAAU,mBAAmB,SAAS,OAAO,IAAG;AACtD,SAAK,aAAa,KAAK,cAAc,CAAC;AACtC,KAAC,KAAK,WAAW,MAAM,KAAK,IAAI,KAAK,WAAW,MAAM,KAAK,KAAK,CAAC,GAC9D,KAAK,EAAE;AACV,WAAO;AAAA,EACT;AAYA,UAAQ,UAAU,OAAO,SAAS,OAAO,IAAG;AAC1C,aAASC,MAAK;AACZ,WAAK,IAAI,OAAOA,GAAE;AAClB,SAAG,MAAM,MAAM,SAAS;AAAA,IAC1B;AAEA,IAAAA,IAAG,KAAK;AACR,SAAK,GAAG,OAAOA,GAAE;AACjB,WAAO;AAAA,EACT;AAYA,UAAQ,UAAU,MAClB,QAAQ,UAAU,iBAClB,QAAQ,UAAU,qBAClB,QAAQ,UAAU,sBAAsB,SAAS,OAAO,IAAG;AACzD,SAAK,aAAa,KAAK,cAAc,CAAC;AAGtC,QAAI,KAAK,UAAU,QAAQ;AACzB,WAAK,aAAa,CAAC;AACnB,aAAO;AAAA,IACT;AAGA,QAAI,YAAY,KAAK,WAAW,MAAM,KAAK;AAC3C,QAAI,CAAC;AAAW,aAAO;AAGvB,QAAI,KAAK,UAAU,QAAQ;AACzB,aAAO,KAAK,WAAW,MAAM,KAAK;AAClC,aAAO;AAAA,IACT;AAGA,QAAI;AACJ,aAAS,IAAI,GAAG,IAAI,UAAU,QAAQ,KAAK;AACzC,WAAK,UAAU,CAAC;AAChB,UAAI,OAAO,MAAM,GAAG,OAAO,IAAI;AAC7B,kBAAU,OAAO,GAAG,CAAC;AACrB;AAAA,MACF;AAAA,IACF;AAIA,QAAI,UAAU,WAAW,GAAG;AAC1B,aAAO,KAAK,WAAW,MAAM,KAAK;AAAA,IACpC;AAEA,WAAO;AAAA,EACT;AAUA,UAAQ,UAAU,OAAO,SAAS,OAAM;AACtC,SAAK,aAAa,KAAK,cAAc,CAAC;AAEtC,QAAI,OAAO,IAAI,MAAM,UAAU,SAAS,CAAC,GACrC,YAAY,KAAK,WAAW,MAAM,KAAK;AAE3C,aAAS,IAAI,GAAG,IAAI,UAAU,QAAQ,KAAK;AACzC,WAAK,IAAI,CAAC,IAAI,UAAU,CAAC;AAAA,IAC3B;AAEA,QAAI,WAAW;AACb,kBAAY,UAAU,MAAM,CAAC;AAC7B,eAAS,IAAI,GAAG,MAAM,UAAU,QAAQ,IAAI,KAAK,EAAE,GAAG;AACpD,kBAAU,CAAC,EAAE,MAAM,MAAM,IAAI;AAAA,MAC/B;AAAA,IACF;AAEA,WAAO;AAAA,EACT;AAGA,UAAQ,UAAU,eAAe,QAAQ,UAAU;AAUnD,UAAQ,UAAU,YAAY,SAAS,OAAM;AAC3C,SAAK,aAAa,KAAK,cAAc,CAAC;AACtC,WAAO,KAAK,WAAW,MAAM,KAAK,KAAK,CAAC;AAAA,EAC1C;AAUA,UAAQ,UAAU,eAAe,SAAS,OAAM;AAC9C,WAAO,CAAC,CAAE,KAAK,UAAU,KAAK,EAAE;AAAA,EAClC;;;ACxKA;;;ACAA;AAAO,MAAM,YAAY,MAAM;AAC3B,UAAM,qBAAqB,OAAO,YAAY,cAAc,OAAO,QAAQ,YAAY;AACvF,QAAI,oBAAoB;AACpB,aAAO,CAAC,OAAO,QAAQ,QAAQ,EAAE,KAAK,EAAE;AAAA,IAC5C,OACK;AACD,aAAO,CAAC,IAAI,iBAAiB,aAAa,IAAI,CAAC;AAAA,IACnD;AAAA,EACJ,GAAG;AACI,MAAM,kBAAkB,MAAM;AACjC,QAAI,OAAO,SAAS,aAAa;AAC7B,aAAO;AAAA,IACX,WACS,OAAO,WAAW,aAAa;AACpC,aAAO;AAAA,IACX,OACK;AACD,aAAO,SAAS,aAAa,EAAE;AAAA,IACnC;AAAA,EACJ,GAAG;AACI,MAAM,oBAAoB;AAC1B,WAAS,kBAAkB;AAAA,EAAE;;;ADpB7B,WAAS,KAAK,QAAQ,MAAM;AAC/B,WAAO,KAAK,OAAO,CAAC,KAAK,MAAM;AAC3B,UAAI,IAAI,eAAe,CAAC,GAAG;AACvB,YAAI,CAAC,IAAI,IAAI,CAAC;AAAA,MAClB;AACA,aAAO;AAAA,IACX,GAAG,CAAC,CAAC;AAAA,EACT;AAEA,MAAM,qBAAqB,eAAW;AACtC,MAAM,uBAAuB,eAAW;AACjC,WAAS,sBAAsB,KAAK,MAAM;AAC7C,QAAI,KAAK,iBAAiB;AACtB,UAAI,eAAe,mBAAmB,KAAK,cAAU;AACrD,UAAI,iBAAiB,qBAAqB,KAAK,cAAU;AAAA,IAC7D,OACK;AACD,UAAI,eAAe,eAAW,WAAW,KAAK,cAAU;AACxD,UAAI,iBAAiB,eAAW,aAAa,KAAK,cAAU;AAAA,IAChE;AAAA,EACJ;AAEA,MAAM,kBAAkB;AAEjB,WAAS,WAAW,KAAK;AAC5B,QAAI,OAAO,QAAQ,UAAU;AACzB,aAAO,WAAW,GAAG;AAAA,IACzB;AAEA,WAAO,KAAK,MAAM,IAAI,cAAc,IAAI,QAAQ,eAAe;AAAA,EACnE;AACA,WAAS,WAAW,KAAK;AACrB,QAAI,IAAI,GAAG,SAAS;AACpB,aAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,IAAI,GAAG,KAAK;AACxC,UAAI,IAAI,WAAW,CAAC;AACpB,UAAI,IAAI,KAAM;AACV,kBAAU;AAAA,MACd,WACS,IAAI,MAAO;AAChB,kBAAU;AAAA,MACd,WACS,IAAI,SAAU,KAAK,OAAQ;AAChC,kBAAU;AAAA,MACd,OACK;AACD;AACA,kBAAU;AAAA,MACd;AAAA,IACJ;AACA,WAAO;AAAA,EACX;AAIO,WAAS,eAAe;AAC3B,WAAQ,KAAK,IAAI,EAAE,SAAS,EAAE,EAAE,UAAU,CAAC,IACvC,KAAK,OAAO,EAAE,SAAS,EAAE,EAAE,UAAU,GAAG,CAAC;AAAA,EACjD;;;AE1DA;AAQO,WAAS,OAAO,KAAK;AACxB,QAAI,MAAM;AACV,aAAS,KAAK,KAAK;AACf,UAAI,IAAI,eAAe,CAAC,GAAG;AACvB,YAAI,IAAI;AACJ,iBAAO;AACX,eAAO,mBAAmB,CAAC,IAAI,MAAM,mBAAmB,IAAI,CAAC,CAAC;AAAA,MAClE;AAAA,IACJ;AACA,WAAO;AAAA,EACX;AAOO,WAASC,QAAO,IAAI;AACvB,QAAI,MAAM,CAAC;AACX,QAAI,QAAQ,GAAG,MAAM,GAAG;AACxB,aAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,IAAI,GAAG,KAAK;AAC1C,UAAI,OAAO,MAAM,CAAC,EAAE,MAAM,GAAG;AAC7B,UAAI,mBAAmB,KAAK,CAAC,CAAC,CAAC,IAAI,mBAAmB,KAAK,CAAC,CAAC;AAAA,IACjE;AACA,WAAO;AAAA,EACX;;;AT7BO,MAAM,iBAAN,cAA6B,MAAM;AAAA,IACtC,YAAY,QAAQ,aAAa,SAAS;AACtC,YAAM,MAAM;AACZ,WAAK,cAAc;AACnB,WAAK,UAAU;AACf,WAAK,OAAO;AAAA,IAChB;AAAA,EACJ;AACO,MAAM,YAAN,cAAwB,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOnC,YAAY,MAAM;AACd,YAAM;AACN,WAAK,WAAW;AAChB,4BAAsB,MAAM,IAAI;AAChC,WAAK,OAAO;AACZ,WAAK,QAAQ,KAAK;AAClB,WAAK,SAAS,KAAK;AACnB,WAAK,iBAAiB,CAAC,KAAK;AAAA,IAChC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUA,QAAQ,QAAQ,aAAa,SAAS;AAClC,YAAM,aAAa,SAAS,IAAI,eAAe,QAAQ,aAAa,OAAO,CAAC;AAC5E,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA,IAIA,OAAO;AACH,WAAK,aAAa;AAClB,WAAK,OAAO;AACZ,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA,IAIA,QAAQ;AACJ,UAAI,KAAK,eAAe,aAAa,KAAK,eAAe,QAAQ;AAC7D,aAAK,QAAQ;AACb,aAAK,QAAQ;AAAA,MACjB;AACA,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,KAAK,SAAS;AACV,UAAI,KAAK,eAAe,QAAQ;AAC5B,aAAK,MAAM,OAAO;AAAA,MACtB,OACK;AAAA,MAEL;AAAA,IACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,SAAS;AACL,WAAK,aAAa;AAClB,WAAK,WAAW;AAChB,YAAM,aAAa,MAAM;AAAA,IAC7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,OAAO,MAAM;AACT,YAAM,SAAS,aAAa,MAAM,KAAK,OAAO,UAAU;AACxD,WAAK,SAAS,MAAM;AAAA,IACxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,SAAS,QAAQ;AACb,YAAM,aAAa,UAAU,MAAM;AAAA,IACvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,QAAQ,SAAS;AACb,WAAK,aAAa;AAClB,YAAM,aAAa,SAAS,OAAO;AAAA,IACvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,MAAM,SAAS;AAAA,IAAE;AAAA,IACjB,UAAU,QAAQ,QAAQ,CAAC,GAAG;AAC1B,aAAQ,SACJ,QACA,KAAK,UAAU,IACf,KAAK,MAAM,IACX,KAAK,KAAK,OACV,KAAK,OAAO,KAAK;AAAA,IACzB;AAAA,IACA,YAAY;AACR,YAAM,WAAW,KAAK,KAAK;AAC3B,aAAO,SAAS,QAAQ,GAAG,MAAM,KAAK,WAAW,MAAM,WAAW;AAAA,IACtE;AAAA,IACA,QAAQ;AACJ,UAAI,KAAK,KAAK,SACR,KAAK,KAAK,UAAU,OAAO,KAAK,KAAK,SAAS,GAAG,KAC9C,CAAC,KAAK,KAAK,UAAU,OAAO,KAAK,KAAK,IAAI,MAAM,KAAM;AAC3D,eAAO,MAAM,KAAK,KAAK;AAAA,MAC3B,OACK;AACD,eAAO;AAAA,MACX;AAAA,IACJ;AAAA,IACA,OAAO,OAAO;AACV,YAAM,eAAe,OAAO,KAAK;AACjC,aAAO,aAAa,SAAS,MAAM,eAAe;AAAA,IACtD;AAAA,EACJ;;;AD1IO,MAAM,UAAN,cAAsB,UAAU;AAAA,IACnC,cAAc;AACV,YAAM,GAAG,SAAS;AAClB,WAAK,WAAW;AAAA,IACpB;AAAA,IACA,IAAI,OAAO;AACP,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,SAAS;AACL,WAAK,MAAM;AAAA,IACf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,MAAM,SAAS;AACX,WAAK,aAAa;AAClB,YAAM,QAAQ,MAAM;AAChB,aAAK,aAAa;AAClB,gBAAQ;AAAA,MACZ;AACA,UAAI,KAAK,YAAY,CAAC,KAAK,UAAU;AACjC,YAAI,QAAQ;AACZ,YAAI,KAAK,UAAU;AACf;AACA,eAAK,KAAK,gBAAgB,WAAY;AAClC,cAAE,SAAS,MAAM;AAAA,UACrB,CAAC;AAAA,QACL;AACA,YAAI,CAAC,KAAK,UAAU;AAChB;AACA,eAAK,KAAK,SAAS,WAAY;AAC3B,cAAE,SAAS,MAAM;AAAA,UACrB,CAAC;AAAA,QACL;AAAA,MACJ,OACK;AACD,cAAM;AAAA,MACV;AAAA,IACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,QAAQ;AACJ,WAAK,WAAW;AAChB,WAAK,OAAO;AACZ,WAAK,aAAa,MAAM;AAAA,IAC5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,OAAO,MAAM;AACT,YAAM,WAAW,CAAC,WAAW;AAEzB,YAAI,cAAc,KAAK,cAAc,OAAO,SAAS,QAAQ;AACzD,eAAK,OAAO;AAAA,QAChB;AAEA,YAAI,YAAY,OAAO,MAAM;AACzB,eAAK,QAAQ,EAAE,aAAa,iCAAiC,CAAC;AAC9D,iBAAO;AAAA,QACX;AAEA,aAAK,SAAS,MAAM;AAAA,MACxB;AAEA,oBAAc,MAAM,KAAK,OAAO,UAAU,EAAE,QAAQ,QAAQ;AAE5D,UAAI,aAAa,KAAK,YAAY;AAE9B,aAAK,WAAW;AAChB,aAAK,aAAa,cAAc;AAChC,YAAI,WAAW,KAAK,YAAY;AAC5B,eAAK,MAAM;AAAA,QACf,OACK;AAAA,QACL;AAAA,MACJ;AAAA,IACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,UAAU;AACN,YAAM,QAAQ,MAAM;AAChB,aAAK,MAAM,CAAC,EAAE,MAAM,QAAQ,CAAC,CAAC;AAAA,MAClC;AACA,UAAI,WAAW,KAAK,YAAY;AAC5B,cAAM;AAAA,MACV,OACK;AAGD,aAAK,KAAK,QAAQ,KAAK;AAAA,MAC3B;AAAA,IACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,MAAM,SAAS;AACX,WAAK,WAAW;AAChB,oBAAc,SAAS,CAAC,SAAS;AAC7B,aAAK,QAAQ,MAAM,MAAM;AACrB,eAAK,WAAW;AAChB,eAAK,aAAa,OAAO;AAAA,QAC7B,CAAC;AAAA,MACL,CAAC;AAAA,IACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,MAAM;AACF,YAAM,SAAS,KAAK,KAAK,SAAS,UAAU;AAC5C,YAAM,QAAQ,KAAK,SAAS,CAAC;AAE7B,UAAI,UAAU,KAAK,KAAK,mBAAmB;AACvC,cAAM,KAAK,KAAK,cAAc,IAAI,aAAa;AAAA,MACnD;AACA,UAAI,CAAC,KAAK,kBAAkB,CAAC,MAAM,KAAK;AACpC,cAAM,MAAM;AAAA,MAChB;AACA,aAAO,KAAK,UAAU,QAAQ,KAAK;AAAA,IACvC;AAAA,EACJ;;;AWhJA;AACA,MAAI,QAAQ;AACZ,MAAI;AACA,YAAQ,OAAO,mBAAmB,eAC9B,qBAAqB,IAAI,eAAe;AAAA,EAChD,SACO,KAAP;AAAA,EAGA;AACO,MAAM,UAAU;;;AZLvB,WAAS,QAAQ;AAAA,EAAE;AACZ,MAAM,UAAN,cAAsB,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOjC,YAAY,MAAM;AACd,YAAM,IAAI;AACV,UAAI,OAAO,aAAa,aAAa;AACjC,cAAM,QAAQ,aAAa,SAAS;AACpC,YAAI,OAAO,SAAS;AAEpB,YAAI,CAAC,MAAM;AACP,iBAAO,QAAQ,QAAQ;AAAA,QAC3B;AACA,aAAK,KACA,OAAO,aAAa,eACjB,KAAK,aAAa,SAAS,YAC3B,SAAS,KAAK;AAAA,MAC1B;AAAA,IACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQA,QAAQ,MAAM,IAAI;AACd,YAAM,MAAM,KAAK,QAAQ;AAAA,QACrB,QAAQ;AAAA,QACR;AAAA,MACJ,CAAC;AACD,UAAI,GAAG,WAAW,EAAE;AACpB,UAAI,GAAG,SAAS,CAAC,WAAW,YAAY;AACpC,aAAK,QAAQ,kBAAkB,WAAW,OAAO;AAAA,MACrD,CAAC;AAAA,IACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,SAAS;AACL,YAAM,MAAM,KAAK,QAAQ;AACzB,UAAI,GAAG,QAAQ,KAAK,OAAO,KAAK,IAAI,CAAC;AACrC,UAAI,GAAG,SAAS,CAAC,WAAW,YAAY;AACpC,aAAK,QAAQ,kBAAkB,WAAW,OAAO;AAAA,MACrD,CAAC;AACD,WAAK,UAAU;AAAA,IACnB;AAAA,EACJ;AACO,MAAM,UAAN,cAAsB,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOjC,YAAY,eAAe,KAAK,MAAM;AAClC,YAAM;AACN,WAAK,gBAAgB;AACrB,4BAAsB,MAAM,IAAI;AAChC,WAAK,QAAQ;AACb,WAAK,UAAU,KAAK,UAAU;AAC9B,WAAK,OAAO;AACZ,WAAK,QAAQ,WAAc,KAAK,OAAO,KAAK,OAAO;AACnD,WAAK,QAAQ;AAAA,IACjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,UAAU;AACN,UAAI;AACJ,YAAM,OAAO,KAAK,KAAK,OAAO,SAAS,OAAO,OAAO,cAAc,QAAQ,MAAM,WAAW,sBAAsB,WAAW;AAC7H,WAAK,UAAU,CAAC,CAAC,KAAK,MAAM;AAC5B,YAAM,MAAO,KAAK,OAAO,KAAK,cAAc,IAAI;AAChD,UAAI;AACA,YAAI,KAAK,KAAK,SAAS,KAAK,MAAM,IAAI;AACtC,YAAI;AACA,cAAI,KAAK,MAAM,cAAc;AAEzB,gBAAI,yBAAyB,IAAI,sBAAsB,IAAI;AAC3D,qBAAS,KAAK,KAAK,MAAM,cAAc;AACnC,kBAAI,KAAK,MAAM,aAAa,eAAe,CAAC,GAAG;AAC3C,oBAAI,iBAAiB,GAAG,KAAK,MAAM,aAAa,CAAC,CAAC;AAAA,cACtD;AAAA,YACJ;AAAA,UACJ;AAAA,QACJ,SACO,GAAP;AAAA,QAAY;AACZ,YAAI,WAAW,KAAK,SAAS;AACzB,cAAI;AACA,gBAAI,iBAAiB,gBAAgB,0BAA0B;AAAA,UACnE,SACO,GAAP;AAAA,UAAY;AAAA,QAChB;AACA,YAAI;AACA,cAAI,iBAAiB,UAAU,KAAK;AAAA,QACxC,SACO,GAAP;AAAA,QAAY;AACZ,SAAC,KAAK,KAAK,MAAM,eAAe,QAAQ,OAAO,SAAS,SAAS,GAAG,WAAW,GAAG;AAElF,YAAI,qBAAqB,KAAK;AAC1B,cAAI,kBAAkB,KAAK,MAAM;AAAA,QACrC;AACA,YAAI,KAAK,MAAM,gBAAgB;AAC3B,cAAI,UAAU,KAAK,MAAM;AAAA,QAC7B;AACA,YAAI,qBAAqB,MAAM;AAC3B,cAAIC;AACJ,cAAI,IAAI,eAAe,GAAG;AACtB,aAACA,MAAK,KAAK,MAAM,eAAe,QAAQA,QAAO,SAAS,SAASA,IAAG;AAAA;AAAA,cAEpE,IAAI,kBAAkB,YAAY;AAAA,YAAC;AAAA,UACvC;AACA,cAAI,MAAM,IAAI;AACV;AACJ,cAAI,QAAQ,IAAI,UAAU,SAAS,IAAI,QAAQ;AAC3C,iBAAK,QAAQ;AAAA,UACjB,OACK;AAGD,iBAAK,aAAa,MAAM;AACpB,mBAAK,SAAS,OAAO,IAAI,WAAW,WAAW,IAAI,SAAS,CAAC;AAAA,YACjE,GAAG,CAAC;AAAA,UACR;AAAA,QACJ;AACA,YAAI,KAAK,KAAK,KAAK;AAAA,MACvB,SACO,GAAP;AAII,aAAK,aAAa,MAAM;AACpB,eAAK,SAAS,CAAC;AAAA,QACnB,GAAG,CAAC;AACJ;AAAA,MACJ;AACA,UAAI,OAAO,aAAa,aAAa;AACjC,aAAK,SAAS,QAAQ;AACtB,gBAAQ,SAAS,KAAK,MAAM,IAAI;AAAA,MACpC;AAAA,IACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,SAAS,KAAK;AACV,WAAK,aAAa,SAAS,KAAK,KAAK,IAAI;AACzC,WAAK,SAAS,IAAI;AAAA,IACtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,SAAS,WAAW;AAChB,UAAI,gBAAgB,OAAO,KAAK,QAAQ,SAAS,KAAK,MAAM;AACxD;AAAA,MACJ;AACA,WAAK,KAAK,qBAAqB;AAC/B,UAAI,WAAW;AACX,YAAI;AACA,eAAK,KAAK,MAAM;AAAA,QACpB,SACO,GAAP;AAAA,QAAY;AAAA,MAChB;AACA,UAAI,OAAO,aAAa,aAAa;AACjC,eAAO,QAAQ,SAAS,KAAK,MAAM;AAAA,MACvC;AACA,WAAK,OAAO;AAAA,IAChB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,UAAU;AACN,YAAM,OAAO,KAAK,KAAK;AACvB,UAAI,SAAS,MAAM;AACf,aAAK,aAAa,QAAQ,IAAI;AAC9B,aAAK,aAAa,SAAS;AAC3B,aAAK,SAAS;AAAA,MAClB;AAAA,IACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,QAAQ;AACJ,WAAK,SAAS;AAAA,IAClB;AAAA,EACJ;AACA,UAAQ,gBAAgB;AACxB,UAAQ,WAAW,CAAC;AAMpB,MAAI,OAAO,aAAa,aAAa;AAEjC,QAAI,OAAO,gBAAgB,YAAY;AAEnC,kBAAY,YAAY,aAAa;AAAA,IACzC,WACS,OAAO,qBAAqB,YAAY;AAC7C,YAAM,mBAAmB,gBAAgB,iBAAa,aAAa;AACnE,uBAAiB,kBAAkB,eAAe,KAAK;AAAA,IAC3D;AAAA,EACJ;AACA,WAAS,gBAAgB;AACrB,aAAS,KAAK,QAAQ,UAAU;AAC5B,UAAI,QAAQ,SAAS,eAAe,CAAC,GAAG;AACpC,gBAAQ,SAAS,CAAC,EAAE,MAAM;AAAA,MAC9B;AAAA,IACJ;AAAA,EACJ;AACA,MAAM,UAAW,WAAY;AACzB,UAAM,MAAM,WAAW;AAAA,MACnB,SAAS;AAAA,IACb,CAAC;AACD,WAAO,OAAO,IAAI,iBAAiB;AAAA,EACvC,EAAG;AAQI,MAAM,MAAN,cAAkB,QAAQ;AAAA,IAC7B,YAAY,MAAM;AACd,YAAM,IAAI;AACV,YAAM,cAAc,QAAQ,KAAK;AACjC,WAAK,iBAAiB,WAAW,CAAC;AAAA,IACtC;AAAA,IACA,QAAQ,OAAO,CAAC,GAAG;AACf,aAAO,OAAO,MAAM,EAAE,IAAI,KAAK,GAAG,GAAG,KAAK,IAAI;AAC9C,aAAO,IAAI,QAAQ,YAAY,KAAK,IAAI,GAAG,IAAI;AAAA,IACnD;AAAA,EACJ;AACA,WAAS,WAAW,MAAM;AACtB,UAAM,UAAU,KAAK;AAErB,QAAI;AACA,UAAI,gBAAgB,OAAO,mBAAmB,CAAC,WAAW,UAAU;AAChE,eAAO,IAAI,eAAe;AAAA,MAC9B;AAAA,IACJ,SACO,GAAP;AAAA,IAAY;AACZ,QAAI,CAAC,SAAS;AACV,UAAI;AACA,eAAO,IAAI,eAAW,CAAC,QAAQ,EAAE,OAAO,QAAQ,EAAE,KAAK,GAAG,CAAC,EAAE,mBAAmB;AAAA,MACpF,SACO,GAAP;AAAA,MAAY;AAAA,IAChB;AAAA,EACJ;;;Aa9QA;AAKA,MAAM,gBAAgB,OAAO,cAAc,eACvC,OAAO,UAAU,YAAY,YAC7B,UAAU,QAAQ,YAAY,MAAM;AACjC,MAAM,SAAN,cAAqB,UAAU;AAAA,IAClC,IAAI,OAAO;AACP,aAAO;AAAA,IACX;AAAA,IACA,SAAS;AACL,YAAM,MAAM,KAAK,IAAI;AACrB,YAAM,YAAY,KAAK,KAAK;AAE5B,YAAM,OAAO,gBACP,CAAC,IACD,KAAK,KAAK,MAAM,SAAS,qBAAqB,OAAO,OAAO,cAAc,QAAQ,MAAM,WAAW,sBAAsB,gBAAgB,mBAAmB,UAAU,cAAc,UAAU,qBAAqB;AACzN,UAAI,KAAK,KAAK,cAAc;AACxB,aAAK,UAAU,KAAK,KAAK;AAAA,MAC7B;AACA,UAAI;AACA,aAAK,KAAK,KAAK,aAAa,KAAK,WAAW,IAAI;AAAA,MACpD,SACO,KAAP;AACI,eAAO,KAAK,aAAa,SAAS,GAAG;AAAA,MACzC;AACA,WAAK,GAAG,aAAa,KAAK,OAAO;AACjC,WAAK,kBAAkB;AAAA,IAC3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,oBAAoB;AAChB,WAAK,GAAG,SAAS,MAAM;AACnB,YAAI,KAAK,KAAK,WAAW;AACrB,eAAK,GAAG,QAAQ,MAAM;AAAA,QAC1B;AACA,aAAK,OAAO;AAAA,MAChB;AACA,WAAK,GAAG,UAAU,CAAC,eAAe,KAAK,QAAQ;AAAA,QAC3C,aAAa;AAAA,QACb,SAAS;AAAA,MACb,CAAC;AACD,WAAK,GAAG,YAAY,CAAC,OAAO,KAAK,OAAO,GAAG,IAAI;AAC/C,WAAK,GAAG,UAAU,CAAC,MAAM,KAAK,QAAQ,mBAAmB,CAAC;AAAA,IAC9D;AAAA,IACA,MAAM,SAAS;AACX,WAAK,WAAW;AAGhB,eAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,KAAK;AACrC,cAAM,SAAS,QAAQ,CAAC;AACxB,cAAM,aAAa,MAAM,QAAQ,SAAS;AAC1C,qBAAa,QAAQ,KAAK,gBAAgB,CAAC,SAAS;AAIhD,cAAI;AACA,iBAAK,QAAQ,QAAQ,IAAI;AAAA,UAC7B,SACO,GAAP;AAAA,UACA;AACA,cAAI,YAAY;AAGZ,qBAAS,MAAM;AACX,mBAAK,WAAW;AAChB,mBAAK,aAAa,OAAO;AAAA,YAC7B,GAAG,KAAK,YAAY;AAAA,UACxB;AAAA,QACJ,CAAC;AAAA,MACL;AAAA,IACJ;AAAA,IACA,UAAU;AACN,UAAI,OAAO,KAAK,OAAO,aAAa;AAChC,aAAK,GAAG,UAAU,MAAM;AAAA,QAAE;AAC1B,aAAK,GAAG,MAAM;AACd,aAAK,KAAK;AAAA,MACd;AAAA,IACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,MAAM;AACF,YAAM,SAAS,KAAK,KAAK,SAAS,QAAQ;AAC1C,YAAM,QAAQ,KAAK,SAAS,CAAC;AAE7B,UAAI,KAAK,KAAK,mBAAmB;AAC7B,cAAM,KAAK,KAAK,cAAc,IAAI,aAAa;AAAA,MACnD;AAEA,UAAI,CAAC,KAAK,gBAAgB;AACtB,cAAM,MAAM;AAAA,MAChB;AACA,aAAO,KAAK,UAAU,QAAQ,KAAK;AAAA,IACvC;AAAA,EACJ;AACA,MAAM,gBAAgB,eAAW,aAAa,eAAW;AAUlD,MAAM,KAAN,cAAiB,OAAO;AAAA,IAC3B,aAAa,KAAK,WAAW,MAAM;AAC/B,aAAO,CAAC,gBACF,YACI,IAAI,cAAc,KAAK,SAAS,IAChC,IAAI,cAAc,GAAG,IACzB,IAAI,cAAc,KAAK,WAAW,IAAI;AAAA,IAChD;AAAA,IACA,QAAQ,SAAS,MAAM;AACnB,WAAK,GAAG,KAAK,IAAI;AAAA,IACrB;AAAA,EACJ;;;AC5HA;AAWO,MAAM,KAAN,cAAiB,UAAU;AAAA,IAC9B,IAAI,OAAO;AACP,aAAO;AAAA,IACX;AAAA,IACA,SAAS;AACL,UAAI;AAEA,aAAK,aAAa,IAAI,aAAa,KAAK,UAAU,OAAO,GAAG,KAAK,KAAK,iBAAiB,KAAK,IAAI,CAAC;AAAA,MACrG,SACO,KAAP;AACI,eAAO,KAAK,aAAa,SAAS,GAAG;AAAA,MACzC;AACA,WAAK,WAAW,OACX,KAAK,MAAM;AACZ,aAAK,QAAQ;AAAA,MACjB,CAAC,EACI,MAAM,CAAC,QAAQ;AAChB,aAAK,QAAQ,sBAAsB,GAAG;AAAA,MAC1C,CAAC;AAED,WAAK,WAAW,MAAM,KAAK,MAAM;AAC7B,aAAK,WAAW,0BAA0B,EAAE,KAAK,CAAC,WAAW;AACzD,gBAAM,gBAAgB,0BAA0B,OAAO,kBAAkB,KAAK,OAAO,UAAU;AAC/F,gBAAM,SAAS,OAAO,SAAS,YAAY,aAAa,EAAE,UAAU;AACpE,gBAAM,gBAAgB,0BAA0B;AAChD,wBAAc,SAAS,OAAO,OAAO,QAAQ;AAC7C,eAAK,UAAU,cAAc,SAAS,UAAU;AAChD,gBAAM,OAAO,MAAM;AACf,mBACK,KAAK,EACL,KAAK,CAAC,EAAE,MAAM,OAAAC,OAAM,MAAM;AAC3B,kBAAI,MAAM;AACN;AAAA,cACJ;AACA,mBAAK,SAASA,MAAK;AACnB,mBAAK;AAAA,YACT,CAAC,EACI,MAAM,CAAC,QAAQ;AAAA,YACpB,CAAC;AAAA,UACL;AACA,eAAK;AACL,gBAAM,SAAS,EAAE,MAAM,OAAO;AAC9B,cAAI,KAAK,MAAM,KAAK;AAChB,mBAAO,OAAO,WAAW,KAAK,MAAM;AAAA,UACxC;AACA,eAAK,QAAQ,MAAM,MAAM,EAAE,KAAK,MAAM,KAAK,OAAO,CAAC;AAAA,QACvD,CAAC;AAAA,MACL,CAAC;AAAA,IACL;AAAA,IACA,MAAM,SAAS;AACX,WAAK,WAAW;AAChB,eAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,KAAK;AACrC,cAAM,SAAS,QAAQ,CAAC;AACxB,cAAM,aAAa,MAAM,QAAQ,SAAS;AAC1C,aAAK,QAAQ,MAAM,MAAM,EAAE,KAAK,MAAM;AAClC,cAAI,YAAY;AACZ,qBAAS,MAAM;AACX,mBAAK,WAAW;AAChB,mBAAK,aAAa,OAAO;AAAA,YAC7B,GAAG,KAAK,YAAY;AAAA,UACxB;AAAA,QACJ,CAAC;AAAA,MACL;AAAA,IACJ;AAAA,IACA,UAAU;AACN,UAAI;AACJ,OAAC,KAAK,KAAK,gBAAgB,QAAQ,OAAO,SAAS,SAAS,GAAG,MAAM;AAAA,IACzE;AAAA,EACJ;;;Af5EO,MAAM,aAAa;AAAA,IACtB,WAAW;AAAA,IACX,cAAc;AAAA,IACd,SAAS;AAAA,EACb;;;AgBPA;AAmBA,MAAM,KAAK;AACX,MAAM,QAAQ;AAAA,IACV;AAAA,IAAU;AAAA,IAAY;AAAA,IAAa;AAAA,IAAY;AAAA,IAAQ;AAAA,IAAY;AAAA,IAAQ;AAAA,IAAQ;AAAA,IAAY;AAAA,IAAQ;AAAA,IAAa;AAAA,IAAQ;AAAA,IAAS;AAAA,EACzI;AACO,WAAS,MAAM,KAAK;AACvB,QAAI,IAAI,SAAS,KAAM;AACnB,YAAM;AAAA,IACV;AACA,UAAM,MAAM,KAAK,IAAI,IAAI,QAAQ,GAAG,GAAG,IAAI,IAAI,QAAQ,GAAG;AAC1D,QAAI,KAAK,MAAM,KAAK,IAAI;AACpB,YAAM,IAAI,UAAU,GAAG,CAAC,IAAI,IAAI,UAAU,GAAG,CAAC,EAAE,QAAQ,MAAM,GAAG,IAAI,IAAI,UAAU,GAAG,IAAI,MAAM;AAAA,IACpG;AACA,QAAI,IAAI,GAAG,KAAK,OAAO,EAAE,GAAG,MAAM,CAAC,GAAG,IAAI;AAC1C,WAAO,KAAK;AACR,UAAI,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,KAAK;AAAA,IAC5B;AACA,QAAI,KAAK,MAAM,KAAK,IAAI;AACpB,UAAI,SAAS;AACb,UAAI,OAAO,IAAI,KAAK,UAAU,GAAG,IAAI,KAAK,SAAS,CAAC,EAAE,QAAQ,MAAM,GAAG;AACvE,UAAI,YAAY,IAAI,UAAU,QAAQ,KAAK,EAAE,EAAE,QAAQ,KAAK,EAAE,EAAE,QAAQ,MAAM,GAAG;AACjF,UAAI,UAAU;AAAA,IAClB;AACA,QAAI,YAAY,UAAU,KAAK,IAAI,MAAM,CAAC;AAC1C,QAAI,WAAW,SAAS,KAAK,IAAI,OAAO,CAAC;AACzC,WAAO;AAAA,EACX;AACA,WAAS,UAAU,KAAK,MAAM;AAC1B,UAAM,OAAO,YAAY,QAAQ,KAAK,QAAQ,MAAM,GAAG,EAAE,MAAM,GAAG;AAClE,QAAI,KAAK,MAAM,GAAG,CAAC,KAAK,OAAO,KAAK,WAAW,GAAG;AAC9C,YAAM,OAAO,GAAG,CAAC;AAAA,IACrB;AACA,QAAI,KAAK,MAAM,EAAE,KAAK,KAAK;AACvB,YAAM,OAAO,MAAM,SAAS,GAAG,CAAC;AAAA,IACpC;AACA,WAAO;AAAA,EACX;AACA,WAAS,SAAS,KAAK,OAAO;AAC1B,UAAM,OAAO,CAAC;AACd,UAAM,QAAQ,6BAA6B,SAAU,IAAI,IAAI,IAAI;AAC7D,UAAI,IAAI;AACJ,aAAK,EAAE,IAAI;AAAA,MACf;AAAA,IACJ,CAAC;AACD,WAAO;AAAA,EACX;;;AjBxDA,MAAM,qBAAqB,OAAO,qBAAqB,cACnD,OAAO,wBAAwB;AACnC,MAAM,0BAA0B,CAAC;AACjC,MAAI,oBAAoB;AAGpB,qBAAiB,WAAW,MAAM;AAC9B,8BAAwB,QAAQ,CAAC,aAAa,SAAS,CAAC;AAAA,IAC5D,GAAG,KAAK;AAAA,EACZ;AAwBO,MAAM,uBAAN,cAAmC,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAO9C,YAAY,KAAK,MAAM;AACnB,YAAM;AACN,WAAK,aAAa;AAClB,WAAK,cAAc,CAAC;AACpB,WAAK,iBAAiB;AACtB,WAAK,gBAAgB;AACrB,WAAK,eAAe;AACpB,WAAK,cAAc;AAKnB,WAAK,mBAAmB;AACxB,UAAI,OAAO,aAAa,OAAO,KAAK;AAChC,eAAO;AACP,cAAM;AAAA,MACV;AACA,UAAI,KAAK;AACL,cAAM,YAAY,MAAM,GAAG;AAC3B,aAAK,WAAW,UAAU;AAC1B,aAAK,SACD,UAAU,aAAa,WAAW,UAAU,aAAa;AAC7D,aAAK,OAAO,UAAU;AACtB,YAAI,UAAU;AACV,eAAK,QAAQ,UAAU;AAAA,MAC/B,WACS,KAAK,MAAM;AAChB,aAAK,WAAW,MAAM,KAAK,IAAI,EAAE;AAAA,MACrC;AACA,4BAAsB,MAAM,IAAI;AAChC,WAAK,SACD,QAAQ,KAAK,SACP,KAAK,SACL,OAAO,aAAa,eAAe,aAAa,SAAS;AACnE,UAAI,KAAK,YAAY,CAAC,KAAK,MAAM;AAE7B,aAAK,OAAO,KAAK,SAAS,QAAQ;AAAA,MACtC;AACA,WAAK,WACD,KAAK,aACA,OAAO,aAAa,cAAc,SAAS,WAAW;AAC/D,WAAK,OACD,KAAK,SACA,OAAO,aAAa,eAAe,SAAS,OACvC,SAAS,OACT,KAAK,SACD,QACA;AAClB,WAAK,aAAa,CAAC;AACnB,WAAK,oBAAoB,CAAC;AAC1B,WAAK,WAAW,QAAQ,CAAC,MAAM;AAC3B,cAAM,gBAAgB,EAAE,UAAU;AAClC,aAAK,WAAW,KAAK,aAAa;AAClC,aAAK,kBAAkB,aAAa,IAAI;AAAA,MAC5C,CAAC;AACD,WAAK,OAAO,OAAO,OAAO;AAAA,QACtB,MAAM;AAAA,QACN,OAAO;AAAA,QACP,iBAAiB;AAAA,QACjB,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,iBAAiB;AAAA,QACjB,kBAAkB;AAAA,QAClB,oBAAoB;AAAA,QACpB,mBAAmB;AAAA,UACf,WAAW;AAAA,QACf;AAAA,QACA,kBAAkB,CAAC;AAAA,QACnB,qBAAqB;AAAA,MACzB,GAAG,IAAI;AACP,WAAK,KAAK,OACN,KAAK,KAAK,KAAK,QAAQ,OAAO,EAAE,KAC3B,KAAK,KAAK,mBAAmB,MAAM;AAC5C,UAAI,OAAO,KAAK,KAAK,UAAU,UAAU;AACrC,aAAK,KAAK,QAAQC,QAAO,KAAK,KAAK,KAAK;AAAA,MAC5C;AACA,UAAI,oBAAoB;AACpB,YAAI,KAAK,KAAK,qBAAqB;AAI/B,eAAK,6BAA6B,MAAM;AACpC,gBAAI,KAAK,WAAW;AAEhB,mBAAK,UAAU,mBAAmB;AAClC,mBAAK,UAAU,MAAM;AAAA,YACzB;AAAA,UACJ;AACA,2BAAiB,gBAAgB,KAAK,4BAA4B,KAAK;AAAA,QAC3E;AACA,YAAI,KAAK,aAAa,aAAa;AAC/B,eAAK,wBAAwB,MAAM;AAC/B,iBAAK,SAAS,mBAAmB;AAAA,cAC7B,aAAa;AAAA,YACjB,CAAC;AAAA,UACL;AACA,kCAAwB,KAAK,KAAK,qBAAqB;AAAA,QAC3D;AAAA,MACJ;AACA,UAAI,KAAK,KAAK,iBAAiB;AAC3B,aAAK,aAAa,gBAAgB;AAAA,MACtC;AACA,WAAK,MAAM;AAAA,IACf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQA,gBAAgB,MAAM;AAClB,YAAM,QAAQ,OAAO,OAAO,CAAC,GAAG,KAAK,KAAK,KAAK;AAE/C,YAAM,MAAM;AAEZ,YAAM,YAAY;AAElB,UAAI,KAAK;AACL,cAAM,MAAM,KAAK;AACrB,YAAM,OAAO,OAAO,OAAO,CAAC,GAAG,KAAK,MAAM;AAAA,QACtC;AAAA,QACA,QAAQ;AAAA,QACR,UAAU,KAAK;AAAA,QACf,QAAQ,KAAK;AAAA,QACb,MAAM,KAAK;AAAA,MACf,GAAG,KAAK,KAAK,iBAAiB,IAAI,CAAC;AACnC,aAAO,IAAI,KAAK,kBAAkB,IAAI,EAAE,IAAI;AAAA,IAChD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,QAAQ;AACJ,UAAI,KAAK,WAAW,WAAW,GAAG;AAE9B,aAAK,aAAa,MAAM;AACpB,eAAK,aAAa,SAAS,yBAAyB;AAAA,QACxD,GAAG,CAAC;AACJ;AAAA,MACJ;AACA,YAAM,gBAAgB,KAAK,KAAK,mBAC5B,qBAAqB,yBACrB,KAAK,WAAW,QAAQ,WAAW,MAAM,KACvC,cACA,KAAK,WAAW,CAAC;AACvB,WAAK,aAAa;AAClB,YAAM,YAAY,KAAK,gBAAgB,aAAa;AACpD,gBAAU,KAAK;AACf,WAAK,aAAa,SAAS;AAAA,IAC/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,aAAa,WAAW;AACpB,UAAI,KAAK,WAAW;AAChB,aAAK,UAAU,mBAAmB;AAAA,MACtC;AAEA,WAAK,YAAY;AAEjB,gBACK,GAAG,SAAS,KAAK,SAAS,KAAK,IAAI,CAAC,EACpC,GAAG,UAAU,KAAK,UAAU,KAAK,IAAI,CAAC,EACtC,GAAG,SAAS,KAAK,SAAS,KAAK,IAAI,CAAC,EACpC,GAAG,SAAS,CAAC,WAAW,KAAK,SAAS,mBAAmB,MAAM,CAAC;AAAA,IACzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,SAAS;AACL,WAAK,aAAa;AAClB,2BAAqB,wBACjB,gBAAgB,KAAK,UAAU;AACnC,WAAK,aAAa,MAAM;AACxB,WAAK,MAAM;AAAA,IACf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,UAAU,QAAQ;AACd,UAAI,cAAc,KAAK,cACnB,WAAW,KAAK,cAChB,cAAc,KAAK,YAAY;AAC/B,aAAK,aAAa,UAAU,MAAM;AAElC,aAAK,aAAa,WAAW;AAC7B,gBAAQ,OAAO,MAAM;AAAA,UACjB,KAAK;AACD,iBAAK,YAAY,KAAK,MAAM,OAAO,IAAI,CAAC;AACxC;AAAA,UACJ,KAAK;AACD,iBAAK,YAAY,MAAM;AACvB,iBAAK,aAAa,MAAM;AACxB,iBAAK,aAAa,MAAM;AACxB,iBAAK,kBAAkB;AACvB;AAAA,UACJ,KAAK;AACD,kBAAM,MAAM,IAAI,MAAM,cAAc;AAEpC,gBAAI,OAAO,OAAO;AAClB,iBAAK,SAAS,GAAG;AACjB;AAAA,UACJ,KAAK;AACD,iBAAK,aAAa,QAAQ,OAAO,IAAI;AACrC,iBAAK,aAAa,WAAW,OAAO,IAAI;AACxC;AAAA,QACR;AAAA,MACJ,OACK;AAAA,MACL;AAAA,IACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,YAAY,MAAM;AACd,WAAK,aAAa,aAAa,IAAI;AACnC,WAAK,KAAK,KAAK;AACf,WAAK,UAAU,MAAM,MAAM,KAAK;AAChC,WAAK,gBAAgB,KAAK;AAC1B,WAAK,eAAe,KAAK;AACzB,WAAK,cAAc,KAAK;AACxB,WAAK,OAAO;AAEZ,UAAI,aAAa,KAAK;AAClB;AACJ,WAAK,kBAAkB;AAAA,IAC3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,oBAAoB;AAChB,WAAK,eAAe,KAAK,iBAAiB;AAC1C,YAAM,QAAQ,KAAK,gBAAgB,KAAK;AACxC,WAAK,mBAAmB,KAAK,IAAI,IAAI;AACrC,WAAK,oBAAoB,KAAK,aAAa,MAAM;AAC7C,aAAK,SAAS,cAAc;AAAA,MAChC,GAAG,KAAK;AACR,UAAI,KAAK,KAAK,WAAW;AACrB,aAAK,kBAAkB,MAAM;AAAA,MACjC;AAAA,IACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,WAAW;AACP,WAAK,YAAY,OAAO,GAAG,KAAK,cAAc;AAI9C,WAAK,iBAAiB;AACtB,UAAI,MAAM,KAAK,YAAY,QAAQ;AAC/B,aAAK,aAAa,OAAO;AAAA,MAC7B,OACK;AACD,aAAK,MAAM;AAAA,MACf;AAAA,IACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,QAAQ;AACJ,UAAI,aAAa,KAAK,cAClB,KAAK,UAAU,YACf,CAAC,KAAK,aACN,KAAK,YAAY,QAAQ;AACzB,cAAM,UAAU,KAAK,oBAAoB;AACzC,aAAK,UAAU,KAAK,OAAO;AAG3B,aAAK,iBAAiB,QAAQ;AAC9B,aAAK,aAAa,OAAO;AAAA,MAC7B;AAAA,IACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,sBAAsB;AAClB,YAAM,yBAAyB,KAAK,eAChC,KAAK,UAAU,SAAS,aACxB,KAAK,YAAY,SAAS;AAC9B,UAAI,CAAC,wBAAwB;AACzB,eAAO,KAAK;AAAA,MAChB;AACA,UAAI,cAAc;AAClB,eAAS,IAAI,GAAG,IAAI,KAAK,YAAY,QAAQ,KAAK;AAC9C,cAAM,OAAO,KAAK,YAAY,CAAC,EAAE;AACjC,YAAI,MAAM;AACN,yBAAe,WAAW,IAAI;AAAA,QAClC;AACA,YAAI,IAAI,KAAK,cAAc,KAAK,aAAa;AACzC,iBAAO,KAAK,YAAY,MAAM,GAAG,CAAC;AAAA,QACtC;AACA,uBAAe;AAAA,MACnB;AACA,aAAO,KAAK;AAAA,IAChB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUc,kBAAkB;AAC5B,UAAI,CAAC,KAAK;AACN,eAAO;AACX,YAAM,aAAa,KAAK,IAAI,IAAI,KAAK;AACrC,UAAI,YAAY;AACZ,aAAK,mBAAmB;AACxB,iBAAS,MAAM;AACX,eAAK,SAAS,cAAc;AAAA,QAChC,GAAG,KAAK,YAAY;AAAA,MACxB;AACA,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASA,MAAMC,MAAK,SAAS,IAAI;AACpB,WAAK,YAAY,WAAWA,MAAK,SAAS,EAAE;AAC5C,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASA,KAAKA,MAAK,SAAS,IAAI;AACnB,WAAK,YAAY,WAAWA,MAAK,SAAS,EAAE;AAC5C,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUA,YAAY,MAAM,MAAM,SAAS,IAAI;AACjC,UAAI,eAAe,OAAO,MAAM;AAC5B,aAAK;AACL,eAAO;AAAA,MACX;AACA,UAAI,eAAe,OAAO,SAAS;AAC/B,aAAK;AACL,kBAAU;AAAA,MACd;AACA,UAAI,cAAc,KAAK,cAAc,aAAa,KAAK,YAAY;AAC/D;AAAA,MACJ;AACA,gBAAU,WAAW,CAAC;AACtB,cAAQ,WAAW,UAAU,QAAQ;AACrC,YAAM,SAAS;AAAA,QACX;AAAA,QACA;AAAA,QACA;AAAA,MACJ;AACA,WAAK,aAAa,gBAAgB,MAAM;AACxC,WAAK,YAAY,KAAK,MAAM;AAC5B,UAAI;AACA,aAAK,KAAK,SAAS,EAAE;AACzB,WAAK,MAAM;AAAA,IACf;AAAA;AAAA;AAAA;AAAA,IAIA,QAAQ;AACJ,YAAM,QAAQ,MAAM;AAChB,aAAK,SAAS,cAAc;AAC5B,aAAK,UAAU,MAAM;AAAA,MACzB;AACA,YAAM,kBAAkB,MAAM;AAC1B,aAAK,IAAI,WAAW,eAAe;AACnC,aAAK,IAAI,gBAAgB,eAAe;AACxC,cAAM;AAAA,MACV;AACA,YAAM,iBAAiB,MAAM;AAEzB,aAAK,KAAK,WAAW,eAAe;AACpC,aAAK,KAAK,gBAAgB,eAAe;AAAA,MAC7C;AACA,UAAI,cAAc,KAAK,cAAc,WAAW,KAAK,YAAY;AAC7D,aAAK,aAAa;AAClB,YAAI,KAAK,YAAY,QAAQ;AACzB,eAAK,KAAK,SAAS,MAAM;AACrB,gBAAI,KAAK,WAAW;AAChB,6BAAe;AAAA,YACnB,OACK;AACD,oBAAM;AAAA,YACV;AAAA,UACJ,CAAC;AAAA,QACL,WACS,KAAK,WAAW;AACrB,yBAAe;AAAA,QACnB,OACK;AACD,gBAAM;AAAA,QACV;AAAA,MACJ;AACA,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,SAAS,KAAK;AACV,2BAAqB,wBAAwB;AAC7C,UAAI,KAAK,KAAK,oBACV,KAAK,WAAW,SAAS,KACzB,KAAK,eAAe,WAAW;AAC/B,aAAK,WAAW,MAAM;AACtB,eAAO,KAAK,MAAM;AAAA,MACtB;AACA,WAAK,aAAa,SAAS,GAAG;AAC9B,WAAK,SAAS,mBAAmB,GAAG;AAAA,IACxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,SAAS,QAAQ,aAAa;AAC1B,UAAI,cAAc,KAAK,cACnB,WAAW,KAAK,cAChB,cAAc,KAAK,YAAY;AAE/B,aAAK,eAAe,KAAK,iBAAiB;AAE1C,aAAK,UAAU,mBAAmB,OAAO;AAEzC,aAAK,UAAU,MAAM;AAErB,aAAK,UAAU,mBAAmB;AAClC,YAAI,oBAAoB;AACpB,cAAI,KAAK,4BAA4B;AACjC,gCAAoB,gBAAgB,KAAK,4BAA4B,KAAK;AAAA,UAC9E;AACA,cAAI,KAAK,uBAAuB;AAC5B,kBAAM,IAAI,wBAAwB,QAAQ,KAAK,qBAAqB;AACpE,gBAAI,MAAM,IAAI;AACV,sCAAwB,OAAO,GAAG,CAAC;AAAA,YACvC;AAAA,UACJ;AAAA,QACJ;AAEA,aAAK,aAAa;AAElB,aAAK,KAAK;AAEV,aAAK,aAAa,SAAS,QAAQ,WAAW;AAG9C,aAAK,cAAc,CAAC;AACpB,aAAK,iBAAiB;AAAA,MAC1B;AAAA,IACJ;AAAA,EACJ;AACA,uBAAqB,WAAW;AAwBzB,MAAM,oBAAN,cAAgC,qBAAqB;AAAA,IACxD,cAAc;AACV,YAAM,GAAG,SAAS;AAClB,WAAK,YAAY,CAAC;AAAA,IACtB;AAAA,IACA,SAAS;AACL,YAAM,OAAO;AACb,UAAI,WAAW,KAAK,cAAc,KAAK,KAAK,SAAS;AACjD,iBAAS,IAAI,GAAG,IAAI,KAAK,UAAU,QAAQ,KAAK;AAC5C,eAAK,OAAO,KAAK,UAAU,CAAC,CAAC;AAAA,QACjC;AAAA,MACJ;AAAA,IACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,OAAO,MAAM;AACT,UAAI,YAAY,KAAK,gBAAgB,IAAI;AACzC,UAAI,SAAS;AACb,2BAAqB,wBAAwB;AAC7C,YAAM,kBAAkB,MAAM;AAC1B,YAAI;AACA;AACJ,kBAAU,KAAK,CAAC,EAAE,MAAM,QAAQ,MAAM,QAAQ,CAAC,CAAC;AAChD,kBAAU,KAAK,UAAU,CAACA,SAAQ;AAC9B,cAAI;AACA;AACJ,cAAI,WAAWA,KAAI,QAAQ,YAAYA,KAAI,MAAM;AAC7C,iBAAK,YAAY;AACjB,iBAAK,aAAa,aAAa,SAAS;AACxC,gBAAI,CAAC;AACD;AACJ,iCAAqB,wBACjB,gBAAgB,UAAU;AAC9B,iBAAK,UAAU,MAAM,MAAM;AACvB,kBAAI;AACA;AACJ,kBAAI,aAAa,KAAK;AAClB;AACJ,sBAAQ;AACR,mBAAK,aAAa,SAAS;AAC3B,wBAAU,KAAK,CAAC,EAAE,MAAM,UAAU,CAAC,CAAC;AACpC,mBAAK,aAAa,WAAW,SAAS;AACtC,0BAAY;AACZ,mBAAK,YAAY;AACjB,mBAAK,MAAM;AAAA,YACf,CAAC;AAAA,UACL,OACK;AACD,kBAAM,MAAM,IAAI,MAAM,aAAa;AAEnC,gBAAI,YAAY,UAAU;AAC1B,iBAAK,aAAa,gBAAgB,GAAG;AAAA,UACzC;AAAA,QACJ,CAAC;AAAA,MACL;AACA,eAAS,kBAAkB;AACvB,YAAI;AACA;AAEJ,iBAAS;AACT,gBAAQ;AACR,kBAAU,MAAM;AAChB,oBAAY;AAAA,MAChB;AAEA,YAAM,UAAU,CAAC,QAAQ;AACrB,cAAM,QAAQ,IAAI,MAAM,kBAAkB,GAAG;AAE7C,cAAM,YAAY,UAAU;AAC5B,wBAAgB;AAChB,aAAK,aAAa,gBAAgB,KAAK;AAAA,MAC3C;AACA,eAAS,mBAAmB;AACxB,gBAAQ,kBAAkB;AAAA,MAC9B;AAEA,eAAS,UAAU;AACf,gBAAQ,eAAe;AAAA,MAC3B;AAEA,eAAS,UAAUC,KAAI;AACnB,YAAI,aAAaA,IAAG,SAAS,UAAU,MAAM;AACzC,0BAAgB;AAAA,QACpB;AAAA,MACJ;AAEA,YAAM,UAAU,MAAM;AAClB,kBAAU,eAAe,QAAQ,eAAe;AAChD,kBAAU,eAAe,SAAS,OAAO;AACzC,kBAAU,eAAe,SAAS,gBAAgB;AAClD,aAAK,IAAI,SAAS,OAAO;AACzB,aAAK,IAAI,aAAa,SAAS;AAAA,MACnC;AACA,gBAAU,KAAK,QAAQ,eAAe;AACtC,gBAAU,KAAK,SAAS,OAAO;AAC/B,gBAAU,KAAK,SAAS,gBAAgB;AACxC,WAAK,KAAK,SAAS,OAAO;AAC1B,WAAK,KAAK,aAAa,SAAS;AAChC,UAAI,KAAK,UAAU,QAAQ,cAAc,MAAM,MAC3C,SAAS,gBAAgB;AAEzB,aAAK,aAAa,MAAM;AACpB,cAAI,CAAC,QAAQ;AACT,sBAAU,KAAK;AAAA,UACnB;AAAA,QACJ,GAAG,GAAG;AAAA,MACV,OACK;AACD,kBAAU,KAAK;AAAA,MACnB;AAAA,IACJ;AAAA,IACA,YAAY,MAAM;AACd,WAAK,YAAY,KAAK,gBAAgB,KAAK,QAAQ;AACnD,YAAM,YAAY,IAAI;AAAA,IAC1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,gBAAgB,UAAU;AACtB,YAAM,mBAAmB,CAAC;AAC1B,eAAS,IAAI,GAAG,IAAI,SAAS,QAAQ,KAAK;AACtC,YAAI,CAAC,KAAK,WAAW,QAAQ,SAAS,CAAC,CAAC;AACpC,2BAAiB,KAAK,SAAS,CAAC,CAAC;AAAA,MACzC;AACA,aAAO;AAAA,IACX;AAAA,EACJ;AAoBO,MAAM,SAAN,cAAqB,kBAAkB;AAAA,IAC1C,YAAY,KAAK,OAAO,CAAC,GAAG;AACxB,YAAM,IAAI,OAAO,QAAQ,WAAW,MAAM;AAC1C,UAAI,CAAC,EAAE,cACF,EAAE,cAAc,OAAO,EAAE,WAAW,CAAC,MAAM,UAAW;AACvD,UAAE,cAAc,EAAE,cAAc,CAAC,WAAW,aAAa,cAAc,GAClE,IAAI,CAAC,kBAAkB,WAAmB,aAAa,CAAC,EACxD,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;AAAA,MAC1B;AACA,YAAM,KAAK,CAAC;AAAA,IAChB;AAAA,EACJ;;;AkBttBA;;;AnBGO,MAAMC,YAAW,OAAO;;;ADOxB,WAAS,IAAI,KAAK,OAAO,IAAI,KAAK;AACrC,QAAI,MAAM;AAEV,UAAM,OAAQ,OAAO,aAAa,eAAe;AACjD,QAAI,QAAQ;AACR,YAAM,IAAI,WAAW,OAAO,IAAI;AAEpC,QAAI,OAAO,QAAQ,UAAU;AACzB,UAAI,QAAQ,IAAI,OAAO,CAAC,GAAG;AACvB,YAAI,QAAQ,IAAI,OAAO,CAAC,GAAG;AACvB,gBAAM,IAAI,WAAW;AAAA,QACzB,OACK;AACD,gBAAM,IAAI,OAAO;AAAA,QACrB;AAAA,MACJ;AACA,UAAI,CAAC,sBAAsB,KAAK,GAAG,GAAG;AAClC,YAAI,gBAAgB,OAAO,KAAK;AAC5B,gBAAM,IAAI,WAAW,OAAO;AAAA,QAChC,OACK;AACD,gBAAM,aAAa;AAAA,QACvB;AAAA,MACJ;AAEA,YAAM,MAAM,GAAG;AAAA,IACnB;AAEA,QAAI,CAAC,IAAI,MAAM;AACX,UAAI,cAAc,KAAK,IAAI,QAAQ,GAAG;AAClC,YAAI,OAAO;AAAA,MACf,WACS,eAAe,KAAK,IAAI,QAAQ,GAAG;AACxC,YAAI,OAAO;AAAA,MACf;AAAA,IACJ;AACA,QAAI,OAAO,IAAI,QAAQ;AACvB,UAAM,OAAO,IAAI,KAAK,QAAQ,GAAG,MAAM;AACvC,UAAM,OAAO,OAAO,MAAM,IAAI,OAAO,MAAM,IAAI;AAE/C,QAAI,KAAK,IAAI,WAAW,QAAQ,OAAO,MAAM,IAAI,OAAO;AAExD,QAAI,OACA,IAAI,WACA,QACA,QACC,OAAO,IAAI,SAAS,IAAI,OAAO,KAAK,MAAM,IAAI;AACvD,WAAO;AAAA,EACX;;;AqB1DA;;;ACAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAAC;AAAA;AAAA;;;ACAA;;;ACAA;AAAA,MAAMC,yBAAwB,OAAO,gBAAgB;AACrD,MAAMC,UAAS,CAAC,QAAQ;AACpB,WAAO,OAAO,YAAY,WAAW,aAC/B,YAAY,OAAO,GAAG,IACtB,IAAI,kBAAkB;AAAA,EAChC;AACA,MAAM,WAAW,OAAO,UAAU;AAClC,MAAMC,kBAAiB,OAAO,SAAS,cAClC,OAAO,SAAS,eACb,SAAS,KAAK,IAAI,MAAM;AAChC,MAAM,iBAAiB,OAAO,SAAS,cAClC,OAAO,SAAS,eACb,SAAS,KAAK,IAAI,MAAM;AAMzB,WAAS,SAAS,KAAK;AAC1B,WAASF,2BAA0B,eAAe,eAAeC,QAAO,GAAG,MACtEC,mBAAkB,eAAe,QACjC,kBAAkB,eAAe;AAAA,EAC1C;AACO,WAAS,UAAU,KAAK,QAAQ;AACnC,QAAI,CAAC,OAAO,OAAO,QAAQ,UAAU;AACjC,aAAO;AAAA,IACX;AACA,QAAI,MAAM,QAAQ,GAAG,GAAG;AACpB,eAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,IAAI,GAAG,KAAK;AACxC,YAAI,UAAU,IAAI,CAAC,CAAC,GAAG;AACnB,iBAAO;AAAA,QACX;AAAA,MACJ;AACA,aAAO;AAAA,IACX;AACA,QAAI,SAAS,GAAG,GAAG;AACf,aAAO;AAAA,IACX;AACA,QAAI,IAAI,UACJ,OAAO,IAAI,WAAW,cACtB,UAAU,WAAW,GAAG;AACxB,aAAO,UAAU,IAAI,OAAO,GAAG,IAAI;AAAA,IACvC;AACA,eAAW,OAAO,KAAK;AACnB,UAAI,OAAO,UAAU,eAAe,KAAK,KAAK,GAAG,KAAK,UAAU,IAAI,GAAG,CAAC,GAAG;AACvE,eAAO;AAAA,MACX;AAAA,IACJ;AACA,WAAO;AAAA,EACX;;;ADzCO,WAAS,kBAAkB,QAAQ;AACtC,UAAM,UAAU,CAAC;AACjB,UAAM,aAAa,OAAO;AAC1B,UAAM,OAAO;AACb,SAAK,OAAO,mBAAmB,YAAY,OAAO;AAClD,SAAK,cAAc,QAAQ;AAC3B,WAAO,EAAE,QAAQ,MAAM,QAAiB;AAAA,EAC5C;AACA,WAAS,mBAAmB,MAAM,SAAS;AACvC,QAAI,CAAC;AACD,aAAO;AACX,QAAI,SAAS,IAAI,GAAG;AAChB,YAAM,cAAc,EAAE,cAAc,MAAM,KAAK,QAAQ,OAAO;AAC9D,cAAQ,KAAK,IAAI;AACjB,aAAO;AAAA,IACX,WACS,MAAM,QAAQ,IAAI,GAAG;AAC1B,YAAM,UAAU,IAAI,MAAM,KAAK,MAAM;AACrC,eAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK;AAClC,gBAAQ,CAAC,IAAI,mBAAmB,KAAK,CAAC,GAAG,OAAO;AAAA,MACpD;AACA,aAAO;AAAA,IACX,WACS,OAAO,SAAS,YAAY,EAAE,gBAAgB,OAAO;AAC1D,YAAM,UAAU,CAAC;AACjB,iBAAW,OAAO,MAAM;AACpB,YAAI,OAAO,UAAU,eAAe,KAAK,MAAM,GAAG,GAAG;AACjD,kBAAQ,GAAG,IAAI,mBAAmB,KAAK,GAAG,GAAG,OAAO;AAAA,QACxD;AAAA,MACJ;AACA,aAAO;AAAA,IACX;AACA,WAAO;AAAA,EACX;AASO,WAAS,kBAAkB,QAAQ,SAAS;AAC/C,WAAO,OAAO,mBAAmB,OAAO,MAAM,OAAO;AACrD,WAAO,OAAO;AACd,WAAO;AAAA,EACX;AACA,WAAS,mBAAmB,MAAM,SAAS;AACvC,QAAI,CAAC;AACD,aAAO;AACX,QAAI,QAAQ,KAAK,iBAAiB,MAAM;AACpC,YAAM,eAAe,OAAO,KAAK,QAAQ,YACrC,KAAK,OAAO,KACZ,KAAK,MAAM,QAAQ;AACvB,UAAI,cAAc;AACd,eAAO,QAAQ,KAAK,GAAG;AAAA,MAC3B,OACK;AACD,cAAM,IAAI,MAAM,qBAAqB;AAAA,MACzC;AAAA,IACJ,WACS,MAAM,QAAQ,IAAI,GAAG;AAC1B,eAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK;AAClC,aAAK,CAAC,IAAI,mBAAmB,KAAK,CAAC,GAAG,OAAO;AAAA,MACjD;AAAA,IACJ,WACS,OAAO,SAAS,UAAU;AAC/B,iBAAW,OAAO,MAAM;AACpB,YAAI,OAAO,UAAU,eAAe,KAAK,MAAM,GAAG,GAAG;AACjD,eAAK,GAAG,IAAI,mBAAmB,KAAK,GAAG,GAAG,OAAO;AAAA,QACrD;AAAA,MACJ;AAAA,IACJ;AACA,WAAO;AAAA,EACX;;;AD5EA,MAAM,kBAAkB;AAAA,IACpB;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,EACJ;AAMO,MAAMC,YAAW;AACjB,MAAI;AACX,GAAC,SAAUC,aAAY;AACnB,IAAAA,YAAWA,YAAW,SAAS,IAAI,CAAC,IAAI;AACxC,IAAAA,YAAWA,YAAW,YAAY,IAAI,CAAC,IAAI;AAC3C,IAAAA,YAAWA,YAAW,OAAO,IAAI,CAAC,IAAI;AACtC,IAAAA,YAAWA,YAAW,KAAK,IAAI,CAAC,IAAI;AACpC,IAAAA,YAAWA,YAAW,eAAe,IAAI,CAAC,IAAI;AAC9C,IAAAA,YAAWA,YAAW,cAAc,IAAI,CAAC,IAAI;AAC7C,IAAAA,YAAWA,YAAW,YAAY,IAAI,CAAC,IAAI;AAAA,EAC/C,GAAG,eAAe,aAAa,CAAC,EAAE;AAI3B,MAAM,UAAN,MAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMjB,YAAY,UAAU;AAClB,WAAK,WAAW;AAAA,IACpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,OAAO,KAAK;AACR,UAAI,IAAI,SAAS,WAAW,SAAS,IAAI,SAAS,WAAW,KAAK;AAC9D,YAAI,UAAU,GAAG,GAAG;AAChB,iBAAO,KAAK,eAAe;AAAA,YACvB,MAAM,IAAI,SAAS,WAAW,QACxB,WAAW,eACX,WAAW;AAAA,YACjB,KAAK,IAAI;AAAA,YACT,MAAM,IAAI;AAAA,YACV,IAAI,IAAI;AAAA,UACZ,CAAC;AAAA,QACL;AAAA,MACJ;AACA,aAAO,CAAC,KAAK,eAAe,GAAG,CAAC;AAAA,IACpC;AAAA;AAAA;AAAA;AAAA,IAIA,eAAe,KAAK;AAEhB,UAAI,MAAM,KAAK,IAAI;AAEnB,UAAI,IAAI,SAAS,WAAW,gBACxB,IAAI,SAAS,WAAW,YAAY;AACpC,eAAO,IAAI,cAAc;AAAA,MAC7B;AAGA,UAAI,IAAI,OAAO,QAAQ,IAAI,KAAK;AAC5B,eAAO,IAAI,MAAM;AAAA,MACrB;AAEA,UAAI,QAAQ,IAAI,IAAI;AAChB,eAAO,IAAI;AAAA,MACf;AAEA,UAAI,QAAQ,IAAI,MAAM;AAClB,eAAO,KAAK,UAAU,IAAI,MAAM,KAAK,QAAQ;AAAA,MACjD;AACA,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,eAAe,KAAK;AAChB,YAAM,iBAAiB,kBAAkB,GAAG;AAC5C,YAAM,OAAO,KAAK,eAAe,eAAe,MAAM;AACtD,YAAM,UAAU,eAAe;AAC/B,cAAQ,QAAQ,IAAI;AACpB,aAAO;AAAA,IACX;AAAA,EACJ;AAEA,WAAS,SAASC,QAAO;AACrB,WAAO,OAAO,UAAU,SAAS,KAAKA,MAAK,MAAM;AAAA,EACrD;AAMO,MAAM,UAAN,cAAsB,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMjC,YAAY,SAAS;AACjB,YAAM;AACN,WAAK,UAAU;AAAA,IACnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,IAAI,KAAK;AACL,UAAI;AACJ,UAAI,OAAO,QAAQ,UAAU;AACzB,YAAI,KAAK,eAAe;AACpB,gBAAM,IAAI,MAAM,iDAAiD;AAAA,QACrE;AACA,iBAAS,KAAK,aAAa,GAAG;AAC9B,cAAM,gBAAgB,OAAO,SAAS,WAAW;AACjD,YAAI,iBAAiB,OAAO,SAAS,WAAW,YAAY;AACxD,iBAAO,OAAO,gBAAgB,WAAW,QAAQ,WAAW;AAE5D,eAAK,gBAAgB,IAAI,oBAAoB,MAAM;AAEnD,cAAI,OAAO,gBAAgB,GAAG;AAC1B,kBAAM,aAAa,WAAW,MAAM;AAAA,UACxC;AAAA,QACJ,OACK;AAED,gBAAM,aAAa,WAAW,MAAM;AAAA,QACxC;AAAA,MACJ,WACS,SAAS,GAAG,KAAK,IAAI,QAAQ;AAElC,YAAI,CAAC,KAAK,eAAe;AACrB,gBAAM,IAAI,MAAM,kDAAkD;AAAA,QACtE,OACK;AACD,mBAAS,KAAK,cAAc,eAAe,GAAG;AAC9C,cAAI,QAAQ;AAER,iBAAK,gBAAgB;AACrB,kBAAM,aAAa,WAAW,MAAM;AAAA,UACxC;AAAA,QACJ;AAAA,MACJ,OACK;AACD,cAAM,IAAI,MAAM,mBAAmB,GAAG;AAAA,MAC1C;AAAA,IACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,aAAa,KAAK;AACd,UAAI,IAAI;AAER,YAAM,IAAI;AAAA,QACN,MAAM,OAAO,IAAI,OAAO,CAAC,CAAC;AAAA,MAC9B;AACA,UAAI,WAAW,EAAE,IAAI,MAAM,QAAW;AAClC,cAAM,IAAI,MAAM,yBAAyB,EAAE,IAAI;AAAA,MACnD;AAEA,UAAI,EAAE,SAAS,WAAW,gBACtB,EAAE,SAAS,WAAW,YAAY;AAClC,cAAM,QAAQ,IAAI;AAClB,eAAO,IAAI,OAAO,EAAE,CAAC,MAAM,OAAO,KAAK,IAAI,QAAQ;AAAA,QAAE;AACrD,cAAM,MAAM,IAAI,UAAU,OAAO,CAAC;AAClC,YAAI,OAAO,OAAO,GAAG,KAAK,IAAI,OAAO,CAAC,MAAM,KAAK;AAC7C,gBAAM,IAAI,MAAM,qBAAqB;AAAA,QACzC;AACA,UAAE,cAAc,OAAO,GAAG;AAAA,MAC9B;AAEA,UAAI,QAAQ,IAAI,OAAO,IAAI,CAAC,GAAG;AAC3B,cAAM,QAAQ,IAAI;AAClB,eAAO,EAAE,GAAG;AACR,gBAAM,IAAI,IAAI,OAAO,CAAC;AACtB,cAAI,QAAQ;AACR;AACJ,cAAI,MAAM,IAAI;AACV;AAAA,QACR;AACA,UAAE,MAAM,IAAI,UAAU,OAAO,CAAC;AAAA,MAClC,OACK;AACD,UAAE,MAAM;AAAA,MACZ;AAEA,YAAM,OAAO,IAAI,OAAO,IAAI,CAAC;AAC7B,UAAI,OAAO,QAAQ,OAAO,IAAI,KAAK,MAAM;AACrC,cAAM,QAAQ,IAAI;AAClB,eAAO,EAAE,GAAG;AACR,gBAAM,IAAI,IAAI,OAAO,CAAC;AACtB,cAAI,QAAQ,KAAK,OAAO,CAAC,KAAK,GAAG;AAC7B,cAAE;AACF;AAAA,UACJ;AACA,cAAI,MAAM,IAAI;AACV;AAAA,QACR;AACA,UAAE,KAAK,OAAO,IAAI,UAAU,OAAO,IAAI,CAAC,CAAC;AAAA,MAC7C;AAEA,UAAI,IAAI,OAAO,EAAE,CAAC,GAAG;AACjB,cAAM,UAAU,KAAK,SAAS,IAAI,OAAO,CAAC,CAAC;AAC3C,YAAI,QAAQ,eAAe,EAAE,MAAM,OAAO,GAAG;AACzC,YAAE,OAAO;AAAA,QACb,OACK;AACD,gBAAM,IAAI,MAAM,iBAAiB;AAAA,QACrC;AAAA,MACJ;AACA,aAAO;AAAA,IACX;AAAA,IACA,SAAS,KAAK;AACV,UAAI;AACA,eAAO,KAAK,MAAM,KAAK,KAAK,OAAO;AAAA,MACvC,SACO,GAAP;AACI,eAAO;AAAA,MACX;AAAA,IACJ;AAAA,IACA,OAAO,eAAe,MAAM,SAAS;AACjC,cAAQ,MAAM;AAAA,QACV,KAAK,WAAW;AACZ,iBAAO,SAAS,OAAO;AAAA,QAC3B,KAAK,WAAW;AACZ,iBAAO,YAAY;AAAA,QACvB,KAAK,WAAW;AACZ,iBAAO,OAAO,YAAY,YAAY,SAAS,OAAO;AAAA,QAC1D,KAAK,WAAW;AAAA,QAChB,KAAK,WAAW;AACZ,iBAAQ,MAAM,QAAQ,OAAO,MACxB,OAAO,QAAQ,CAAC,MAAM,YAClB,OAAO,QAAQ,CAAC,MAAM,YACnB,gBAAgB,QAAQ,QAAQ,CAAC,CAAC,MAAM;AAAA,QACxD,KAAK,WAAW;AAAA,QAChB,KAAK,WAAW;AACZ,iBAAO,MAAM,QAAQ,OAAO;AAAA,MACpC;AAAA,IACJ;AAAA;AAAA;AAAA;AAAA,IAIA,UAAU;AACN,UAAI,KAAK,eAAe;AACpB,aAAK,cAAc,uBAAuB;AAC1C,aAAK,gBAAgB;AAAA,MACzB;AAAA,IACJ;AAAA,EACJ;AASA,MAAM,sBAAN,MAA0B;AAAA,IACtB,YAAY,QAAQ;AAChB,WAAK,SAAS;AACd,WAAK,UAAU,CAAC;AAChB,WAAK,YAAY;AAAA,IACrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASA,eAAe,SAAS;AACpB,WAAK,QAAQ,KAAK,OAAO;AACzB,UAAI,KAAK,QAAQ,WAAW,KAAK,UAAU,aAAa;AAEpD,cAAM,SAAS,kBAAkB,KAAK,WAAW,KAAK,OAAO;AAC7D,aAAK,uBAAuB;AAC5B,eAAO;AAAA,MACX;AACA,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA,IAIA,yBAAyB;AACrB,WAAK,YAAY;AACjB,WAAK,UAAU,CAAC;AAAA,IACpB;AAAA,EACJ;;;AGtTA;AAAO,WAAS,GAAG,KAAK,IAAI,IAAI;AAC5B,QAAI,GAAG,IAAI,EAAE;AACb,WAAO,SAAS,aAAa;AACzB,UAAI,IAAI,IAAI,EAAE;AAAA,IAClB;AAAA,EACJ;;;AJEA,MAAMC,mBAAkB,OAAO,OAAO;AAAA,IAClC,SAAS;AAAA,IACT,eAAe;AAAA,IACf,YAAY;AAAA,IACZ,eAAe;AAAA;AAAA,IAEf,aAAa;AAAA,IACb,gBAAgB;AAAA,EACpB,CAAC;AAyBM,MAAMC,UAAN,cAAqB,QAAQ;AAAA;AAAA;AAAA;AAAA,IAIhC,YAAY,IAAI,KAAK,MAAM;AACvB,YAAM;AAeN,WAAK,YAAY;AAKjB,WAAK,YAAY;AAIjB,WAAK,gBAAgB,CAAC;AAItB,WAAK,aAAa,CAAC;AAOnB,WAAK,SAAS,CAAC;AAKf,WAAK,YAAY;AACjB,WAAK,MAAM;AAwBX,WAAK,OAAO,CAAC;AACb,WAAK,QAAQ,CAAC;AACd,WAAK,KAAK;AACV,WAAK,MAAM;AACX,UAAI,QAAQ,KAAK,MAAM;AACnB,aAAK,OAAO,KAAK;AAAA,MACrB;AACA,WAAK,QAAQ,OAAO,OAAO,CAAC,GAAG,IAAI;AACnC,UAAI,KAAK,GAAG;AACR,aAAK,KAAK;AAAA,IAClB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAeA,IAAI,eAAe;AACf,aAAO,CAAC,KAAK;AAAA,IACjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,YAAY;AACR,UAAI,KAAK;AACL;AACJ,YAAM,KAAK,KAAK;AAChB,WAAK,OAAO;AAAA,QACR,GAAG,IAAI,QAAQ,KAAK,OAAO,KAAK,IAAI,CAAC;AAAA,QACrC,GAAG,IAAI,UAAU,KAAK,SAAS,KAAK,IAAI,CAAC;AAAA,QACzC,GAAG,IAAI,SAAS,KAAK,QAAQ,KAAK,IAAI,CAAC;AAAA,QACvC,GAAG,IAAI,SAAS,KAAK,QAAQ,KAAK,IAAI,CAAC;AAAA,MAC3C;AAAA,IACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAkBA,IAAI,SAAS;AACT,aAAO,CAAC,CAAC,KAAK;AAAA,IAClB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAWA,UAAU;AACN,UAAI,KAAK;AACL,eAAO;AACX,WAAK,UAAU;AACf,UAAI,CAAC,KAAK,GAAG,eAAe;AACxB,aAAK,GAAG,KAAK;AACjB,UAAI,WAAW,KAAK,GAAG;AACnB,aAAK,OAAO;AAChB,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA,IAIA,OAAO;AACH,aAAO,KAAK,QAAQ;AAAA,IACxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAgBA,QAAQ,MAAM;AACV,WAAK,QAAQ,SAAS;AACtB,WAAK,KAAK,MAAM,MAAM,IAAI;AAC1B,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAkBA,KAAK,OAAO,MAAM;AACd,UAAI,IAAI,IAAI;AACZ,UAAID,iBAAgB,eAAe,EAAE,GAAG;AACpC,cAAM,IAAI,MAAM,MAAM,GAAG,SAAS,IAAI,4BAA4B;AAAA,MACtE;AACA,WAAK,QAAQ,EAAE;AACf,UAAI,KAAK,MAAM,WAAW,CAAC,KAAK,MAAM,aAAa,CAAC,KAAK,MAAM,UAAU;AACrE,aAAK,YAAY,IAAI;AACrB,eAAO;AAAA,MACX;AACA,YAAM,SAAS;AAAA,QACX,MAAM,WAAW;AAAA,QACjB,MAAM;AAAA,MACV;AACA,aAAO,UAAU,CAAC;AAClB,aAAO,QAAQ,WAAW,KAAK,MAAM,aAAa;AAElD,UAAI,eAAe,OAAO,KAAK,KAAK,SAAS,CAAC,GAAG;AAC7C,cAAM,KAAK,KAAK;AAChB,cAAM,MAAM,KAAK,IAAI;AACrB,aAAK,qBAAqB,IAAI,GAAG;AACjC,eAAO,KAAK;AAAA,MAChB;AACA,YAAM,uBAAuB,MAAM,KAAK,KAAK,GAAG,YAAY,QAAQ,OAAO,SAAS,SAAS,GAAG,eAAe,QAAQ,OAAO,SAAS,SAAS,GAAG;AACnJ,YAAM,cAAc,KAAK,aAAa,GAAG,KAAK,KAAK,GAAG,YAAY,QAAQ,OAAO,SAAS,SAAS,GAAG,gBAAgB;AACtH,YAAM,gBAAgB,KAAK,MAAM,YAAY,CAAC;AAC9C,UAAI,eAAe;AAAA,MACnB,WACS,aAAa;AAClB,aAAK,wBAAwB,MAAM;AACnC,aAAK,OAAO,MAAM;AAAA,MACtB,OACK;AACD,aAAK,WAAW,KAAK,MAAM;AAAA,MAC/B;AACA,WAAK,QAAQ,CAAC;AACd,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA,IAIA,qBAAqB,IAAI,KAAK;AAC1B,UAAI;AACJ,YAAM,WAAW,KAAK,KAAK,MAAM,aAAa,QAAQ,OAAO,SAAS,KAAK,KAAK,MAAM;AACtF,UAAI,YAAY,QAAW;AACvB,aAAK,KAAK,EAAE,IAAI;AAChB;AAAA,MACJ;AAEA,YAAM,QAAQ,KAAK,GAAG,aAAa,MAAM;AACrC,eAAO,KAAK,KAAK,EAAE;AACnB,iBAAS,IAAI,GAAG,IAAI,KAAK,WAAW,QAAQ,KAAK;AAC7C,cAAI,KAAK,WAAW,CAAC,EAAE,OAAO,IAAI;AAC9B,iBAAK,WAAW,OAAO,GAAG,CAAC;AAAA,UAC/B;AAAA,QACJ;AACA,YAAI,KAAK,MAAM,IAAI,MAAM,yBAAyB,CAAC;AAAA,MACvD,GAAG,OAAO;AACV,YAAM,KAAK,IAAI,SAAS;AAEpB,aAAK,GAAG,eAAe,KAAK;AAC5B,YAAI,MAAM,MAAM,IAAI;AAAA,MACxB;AACA,SAAG,YAAY;AACf,WAAK,KAAK,EAAE,IAAI;AAAA,IACpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAiBA,YAAY,OAAO,MAAM;AACrB,aAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACpC,cAAM,KAAK,CAAC,MAAM,SAAS;AACvB,iBAAO,OAAO,OAAO,IAAI,IAAI,QAAQ,IAAI;AAAA,QAC7C;AACA,WAAG,YAAY;AACf,aAAK,KAAK,EAAE;AACZ,aAAK,KAAK,IAAI,GAAG,IAAI;AAAA,MACzB,CAAC;AAAA,IACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,YAAY,MAAM;AACd,UAAI;AACJ,UAAI,OAAO,KAAK,KAAK,SAAS,CAAC,MAAM,YAAY;AAC7C,cAAM,KAAK,IAAI;AAAA,MACnB;AACA,YAAM,SAAS;AAAA,QACX,IAAI,KAAK;AAAA,QACT,UAAU;AAAA,QACV,SAAS;AAAA,QACT;AAAA,QACA,OAAO,OAAO,OAAO,EAAE,WAAW,KAAK,GAAG,KAAK,KAAK;AAAA,MACxD;AACA,WAAK,KAAK,CAAC,QAAQ,iBAAiB;AAChC,YAAI,WAAW,KAAK,OAAO,CAAC,GAAG;AAE3B;AAAA,QACJ;AACA,cAAM,WAAW,QAAQ;AACzB,YAAI,UAAU;AACV,cAAI,OAAO,WAAW,KAAK,MAAM,SAAS;AACtC,iBAAK,OAAO,MAAM;AAClB,gBAAI,KAAK;AACL,kBAAI,GAAG;AAAA,YACX;AAAA,UACJ;AAAA,QACJ,OACK;AACD,eAAK,OAAO,MAAM;AAClB,cAAI,KAAK;AACL,gBAAI,MAAM,GAAG,YAAY;AAAA,UAC7B;AAAA,QACJ;AACA,eAAO,UAAU;AACjB,eAAO,KAAK,YAAY;AAAA,MAC5B,CAAC;AACD,WAAK,OAAO,KAAK,MAAM;AACvB,WAAK,YAAY;AAAA,IACrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,YAAY,QAAQ,OAAO;AACvB,UAAI,CAAC,KAAK,aAAa,KAAK,OAAO,WAAW,GAAG;AAC7C;AAAA,MACJ;AACA,YAAM,SAAS,KAAK,OAAO,CAAC;AAC5B,UAAI,OAAO,WAAW,CAAC,OAAO;AAC1B;AAAA,MACJ;AACA,aAAO,UAAU;AACjB,aAAO;AACP,WAAK,QAAQ,OAAO;AACpB,WAAK,KAAK,MAAM,MAAM,OAAO,IAAI;AAAA,IACrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,OAAO,QAAQ;AACX,aAAO,MAAM,KAAK;AAClB,WAAK,GAAG,QAAQ,MAAM;AAAA,IAC1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,SAAS;AACL,UAAI,OAAO,KAAK,QAAQ,YAAY;AAChC,aAAK,KAAK,CAAC,SAAS;AAChB,eAAK,mBAAmB,IAAI;AAAA,QAChC,CAAC;AAAA,MACL,OACK;AACD,aAAK,mBAAmB,KAAK,IAAI;AAAA,MACrC;AAAA,IACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,mBAAmB,MAAM;AACrB,WAAK,OAAO;AAAA,QACR,MAAM,WAAW;AAAA,QACjB,MAAM,KAAK,OACL,OAAO,OAAO,EAAE,KAAK,KAAK,MAAM,QAAQ,KAAK,YAAY,GAAG,IAAI,IAChE;AAAA,MACV,CAAC;AAAA,IACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,QAAQ,KAAK;AACT,UAAI,CAAC,KAAK,WAAW;AACjB,aAAK,aAAa,iBAAiB,GAAG;AAAA,MAC1C;AAAA,IACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQA,QAAQ,QAAQ,aAAa;AACzB,WAAK,YAAY;AACjB,aAAO,KAAK;AACZ,WAAK,aAAa,cAAc,QAAQ,WAAW;AACnD,WAAK,WAAW;AAAA,IACpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,aAAa;AACT,aAAO,KAAK,KAAK,IAAI,EAAE,QAAQ,CAAC,OAAO;AACnC,cAAM,aAAa,KAAK,WAAW,KAAK,CAAC,WAAW,OAAO,OAAO,EAAE,MAAM,EAAE;AAC5E,YAAI,CAAC,YAAY;AAEb,gBAAM,MAAM,KAAK,KAAK,EAAE;AACxB,iBAAO,KAAK,KAAK,EAAE;AACnB,cAAI,IAAI,WAAW;AACf,gBAAI,KAAK,MAAM,IAAI,MAAM,8BAA8B,CAAC;AAAA,UAC5D;AAAA,QACJ;AAAA,MACJ,CAAC;AAAA,IACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,SAAS,QAAQ;AACb,YAAM,gBAAgB,OAAO,QAAQ,KAAK;AAC1C,UAAI,CAAC;AACD;AACJ,cAAQ,OAAO,MAAM;AAAA,QACjB,KAAK,WAAW;AACZ,cAAI,OAAO,QAAQ,OAAO,KAAK,KAAK;AAChC,iBAAK,UAAU,OAAO,KAAK,KAAK,OAAO,KAAK,GAAG;AAAA,UACnD,OACK;AACD,iBAAK,aAAa,iBAAiB,IAAI,MAAM,2LAA2L,CAAC;AAAA,UAC7O;AACA;AAAA,QACJ,KAAK,WAAW;AAAA,QAChB,KAAK,WAAW;AACZ,eAAK,QAAQ,MAAM;AACnB;AAAA,QACJ,KAAK,WAAW;AAAA,QAChB,KAAK,WAAW;AACZ,eAAK,MAAM,MAAM;AACjB;AAAA,QACJ,KAAK,WAAW;AACZ,eAAK,aAAa;AAClB;AAAA,QACJ,KAAK,WAAW;AACZ,eAAK,QAAQ;AACb,gBAAM,MAAM,IAAI,MAAM,OAAO,KAAK,OAAO;AAEzC,cAAI,OAAO,OAAO,KAAK;AACvB,eAAK,aAAa,iBAAiB,GAAG;AACtC;AAAA,MACR;AAAA,IACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,QAAQ,QAAQ;AACZ,YAAM,OAAO,OAAO,QAAQ,CAAC;AAC7B,UAAI,QAAQ,OAAO,IAAI;AACnB,aAAK,KAAK,KAAK,IAAI,OAAO,EAAE,CAAC;AAAA,MACjC;AACA,UAAI,KAAK,WAAW;AAChB,aAAK,UAAU,IAAI;AAAA,MACvB,OACK;AACD,aAAK,cAAc,KAAK,OAAO,OAAO,IAAI,CAAC;AAAA,MAC/C;AAAA,IACJ;AAAA,IACA,UAAU,MAAM;AACZ,UAAI,KAAK,iBAAiB,KAAK,cAAc,QAAQ;AACjD,cAAM,YAAY,KAAK,cAAc,MAAM;AAC3C,mBAAW,YAAY,WAAW;AAC9B,mBAAS,MAAM,MAAM,IAAI;AAAA,QAC7B;AAAA,MACJ;AACA,YAAM,KAAK,MAAM,MAAM,IAAI;AAC3B,UAAI,KAAK,QAAQ,KAAK,UAAU,OAAO,KAAK,KAAK,SAAS,CAAC,MAAM,UAAU;AACvE,aAAK,cAAc,KAAK,KAAK,SAAS,CAAC;AAAA,MAC3C;AAAA,IACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,IAAI,IAAI;AACJ,YAAME,QAAO;AACb,UAAI,OAAO;AACX,aAAO,YAAa,MAAM;AAEtB,YAAI;AACA;AACJ,eAAO;AACP,QAAAA,MAAK,OAAO;AAAA,UACR,MAAM,WAAW;AAAA,UACjB;AAAA,UACA,MAAM;AAAA,QACV,CAAC;AAAA,MACL;AAAA,IACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,MAAM,QAAQ;AACV,YAAM,MAAM,KAAK,KAAK,OAAO,EAAE;AAC/B,UAAI,OAAO,QAAQ,YAAY;AAC3B;AAAA,MACJ;AACA,aAAO,KAAK,KAAK,OAAO,EAAE;AAE1B,UAAI,IAAI,WAAW;AACf,eAAO,KAAK,QAAQ,IAAI;AAAA,MAC5B;AAEA,UAAI,MAAM,MAAM,OAAO,IAAI;AAAA,IAC/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,UAAU,IAAI,KAAK;AACf,WAAK,KAAK;AACV,WAAK,YAAY,OAAO,KAAK,SAAS;AACtC,WAAK,OAAO;AACZ,WAAK,YAAY;AACjB,WAAK,aAAa;AAClB,WAAK,aAAa,SAAS;AAC3B,WAAK,YAAY,IAAI;AAAA,IACzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,eAAe;AACX,WAAK,cAAc,QAAQ,CAAC,SAAS,KAAK,UAAU,IAAI,CAAC;AACzD,WAAK,gBAAgB,CAAC;AACtB,WAAK,WAAW,QAAQ,CAAC,WAAW;AAChC,aAAK,wBAAwB,MAAM;AACnC,aAAK,OAAO,MAAM;AAAA,MACtB,CAAC;AACD,WAAK,aAAa,CAAC;AAAA,IACvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,eAAe;AACX,WAAK,QAAQ;AACb,WAAK,QAAQ,sBAAsB;AAAA,IACvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQA,UAAU;AACN,UAAI,KAAK,MAAM;AAEX,aAAK,KAAK,QAAQ,CAAC,eAAe,WAAW,CAAC;AAC9C,aAAK,OAAO;AAAA,MAChB;AACA,WAAK,GAAG,UAAU,EAAE,IAAI;AAAA,IAC5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAiBA,aAAa;AACT,UAAI,KAAK,WAAW;AAChB,aAAK,OAAO,EAAE,MAAM,WAAW,WAAW,CAAC;AAAA,MAC/C;AAEA,WAAK,QAAQ;AACb,UAAI,KAAK,WAAW;AAEhB,aAAK,QAAQ,sBAAsB;AAAA,MACvC;AACA,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,QAAQ;AACJ,aAAO,KAAK,WAAW;AAAA,IAC3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUA,SAAS,UAAU;AACf,WAAK,MAAM,WAAW;AACtB,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUA,IAAI,WAAW;AACX,WAAK,MAAM,WAAW;AACtB,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAcA,QAAQ,SAAS;AACb,WAAK,MAAM,UAAU;AACrB,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAYA,MAAM,UAAU;AACZ,WAAK,gBAAgB,KAAK,iBAAiB,CAAC;AAC5C,WAAK,cAAc,KAAK,QAAQ;AAChC,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAYA,WAAW,UAAU;AACjB,WAAK,gBAAgB,KAAK,iBAAiB,CAAC;AAC5C,WAAK,cAAc,QAAQ,QAAQ;AACnC,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAmBA,OAAO,UAAU;AACb,UAAI,CAAC,KAAK,eAAe;AACrB,eAAO;AAAA,MACX;AACA,UAAI,UAAU;AACV,cAAM,YAAY,KAAK;AACvB,iBAAS,IAAI,GAAG,IAAI,UAAU,QAAQ,KAAK;AACvC,cAAI,aAAa,UAAU,CAAC,GAAG;AAC3B,sBAAU,OAAO,GAAG,CAAC;AACrB,mBAAO;AAAA,UACX;AAAA,QACJ;AAAA,MACJ,OACK;AACD,aAAK,gBAAgB,CAAC;AAAA,MAC1B;AACA,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA,IAKA,eAAe;AACX,aAAO,KAAK,iBAAiB,CAAC;AAAA,IAClC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAcA,cAAc,UAAU;AACpB,WAAK,wBAAwB,KAAK,yBAAyB,CAAC;AAC5D,WAAK,sBAAsB,KAAK,QAAQ;AACxC,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAcA,mBAAmB,UAAU;AACzB,WAAK,wBAAwB,KAAK,yBAAyB,CAAC;AAC5D,WAAK,sBAAsB,QAAQ,QAAQ;AAC3C,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAmBA,eAAe,UAAU;AACrB,UAAI,CAAC,KAAK,uBAAuB;AAC7B,eAAO;AAAA,MACX;AACA,UAAI,UAAU;AACV,cAAM,YAAY,KAAK;AACvB,iBAAS,IAAI,GAAG,IAAI,UAAU,QAAQ,KAAK;AACvC,cAAI,aAAa,UAAU,CAAC,GAAG;AAC3B,sBAAU,OAAO,GAAG,CAAC;AACrB,mBAAO;AAAA,UACX;AAAA,QACJ;AAAA,MACJ,OACK;AACD,aAAK,wBAAwB,CAAC;AAAA,MAClC;AACA,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA,IAKA,uBAAuB;AACnB,aAAO,KAAK,yBAAyB,CAAC;AAAA,IAC1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQA,wBAAwB,QAAQ;AAC5B,UAAI,KAAK,yBAAyB,KAAK,sBAAsB,QAAQ;AACjE,cAAM,YAAY,KAAK,sBAAsB,MAAM;AACnD,mBAAW,YAAY,WAAW;AAC9B,mBAAS,MAAM,MAAM,OAAO,IAAI;AAAA,QACpC;AAAA,MACJ;AAAA,IACJ;AAAA,EACJ;;;AKj3BA;AAWO,WAAS,QAAQ,MAAM;AAC1B,WAAO,QAAQ,CAAC;AAChB,SAAK,KAAK,KAAK,OAAO;AACtB,SAAK,MAAM,KAAK,OAAO;AACvB,SAAK,SAAS,KAAK,UAAU;AAC7B,SAAK,SAAS,KAAK,SAAS,KAAK,KAAK,UAAU,IAAI,KAAK,SAAS;AAClE,SAAK,WAAW;AAAA,EACpB;AAOA,UAAQ,UAAU,WAAW,WAAY;AACrC,QAAI,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,QAAQ,KAAK,UAAU;AACxD,QAAI,KAAK,QAAQ;AACb,UAAI,OAAO,KAAK,OAAO;AACvB,UAAI,YAAY,KAAK,MAAM,OAAO,KAAK,SAAS,EAAE;AAClD,YAAM,KAAK,MAAM,OAAO,EAAE,IAAI,MAAM,IAAI,KAAK,YAAY,KAAK;AAAA,IAClE;AACA,WAAO,KAAK,IAAI,IAAI,KAAK,GAAG,IAAI;AAAA,EACpC;AAMA,UAAQ,UAAU,QAAQ,WAAY;AAClC,SAAK,WAAW;AAAA,EACpB;AAMA,UAAQ,UAAU,SAAS,SAAU,KAAK;AACtC,SAAK,KAAK;AAAA,EACd;AAMA,UAAQ,UAAU,SAAS,SAAU,KAAK;AACtC,SAAK,MAAM;AAAA,EACf;AAMA,UAAQ,UAAU,YAAY,SAAU,QAAQ;AAC5C,SAAK,SAAS;AAAA,EAClB;;;AN3DO,MAAM,UAAN,cAAsB,QAAQ;AAAA,IACjC,YAAY,KAAK,MAAM;AACnB,UAAI;AACJ,YAAM;AACN,WAAK,OAAO,CAAC;AACb,WAAK,OAAO,CAAC;AACb,UAAI,OAAO,aAAa,OAAO,KAAK;AAChC,eAAO;AACP,cAAM;AAAA,MACV;AACA,aAAO,QAAQ,CAAC;AAChB,WAAK,OAAO,KAAK,QAAQ;AACzB,WAAK,OAAO;AACZ,4BAAsB,MAAM,IAAI;AAChC,WAAK,aAAa,KAAK,iBAAiB,KAAK;AAC7C,WAAK,qBAAqB,KAAK,wBAAwB,QAAQ;AAC/D,WAAK,kBAAkB,KAAK,qBAAqB,GAAI;AACrD,WAAK,qBAAqB,KAAK,wBAAwB,GAAI;AAC3D,WAAK,qBAAqB,KAAK,KAAK,yBAAyB,QAAQ,OAAO,SAAS,KAAK,GAAG;AAC7F,WAAK,UAAU,IAAI,QAAQ;AAAA,QACvB,KAAK,KAAK,kBAAkB;AAAA,QAC5B,KAAK,KAAK,qBAAqB;AAAA,QAC/B,QAAQ,KAAK,oBAAoB;AAAA,MACrC,CAAC;AACD,WAAK,QAAQ,QAAQ,KAAK,UAAU,MAAQ,KAAK,OAAO;AACxD,WAAK,cAAc;AACnB,WAAK,MAAM;AACX,YAAM,UAAU,KAAK,UAAU;AAC/B,WAAK,UAAU,IAAI,QAAQ,QAAQ;AACnC,WAAK,UAAU,IAAI,QAAQ,QAAQ;AACnC,WAAK,eAAe,KAAK,gBAAgB;AACzC,UAAI,KAAK;AACL,aAAK,KAAK;AAAA,IAClB;AAAA,IACA,aAAa,GAAG;AACZ,UAAI,CAAC,UAAU;AACX,eAAO,KAAK;AAChB,WAAK,gBAAgB,CAAC,CAAC;AACvB,UAAI,CAAC,GAAG;AACJ,aAAK,gBAAgB;AAAA,MACzB;AACA,aAAO;AAAA,IACX;AAAA,IACA,qBAAqB,GAAG;AACpB,UAAI,MAAM;AACN,eAAO,KAAK;AAChB,WAAK,wBAAwB;AAC7B,aAAO;AAAA,IACX;AAAA,IACA,kBAAkB,GAAG;AACjB,UAAI;AACJ,UAAI,MAAM;AACN,eAAO,KAAK;AAChB,WAAK,qBAAqB;AAC1B,OAAC,KAAK,KAAK,aAAa,QAAQ,OAAO,SAAS,SAAS,GAAG,OAAO,CAAC;AACpE,aAAO;AAAA,IACX;AAAA,IACA,oBAAoB,GAAG;AACnB,UAAI;AACJ,UAAI,MAAM;AACN,eAAO,KAAK;AAChB,WAAK,uBAAuB;AAC5B,OAAC,KAAK,KAAK,aAAa,QAAQ,OAAO,SAAS,SAAS,GAAG,UAAU,CAAC;AACvE,aAAO;AAAA,IACX;AAAA,IACA,qBAAqB,GAAG;AACpB,UAAI;AACJ,UAAI,MAAM;AACN,eAAO,KAAK;AAChB,WAAK,wBAAwB;AAC7B,OAAC,KAAK,KAAK,aAAa,QAAQ,OAAO,SAAS,SAAS,GAAG,OAAO,CAAC;AACpE,aAAO;AAAA,IACX;AAAA,IACA,QAAQ,GAAG;AACP,UAAI,CAAC,UAAU;AACX,eAAO,KAAK;AAChB,WAAK,WAAW;AAChB,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,uBAAuB;AAEnB,UAAI,CAAC,KAAK,iBACN,KAAK,iBACL,KAAK,QAAQ,aAAa,GAAG;AAE7B,aAAK,UAAU;AAAA,MACnB;AAAA,IACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQA,KAAK,IAAI;AACL,UAAI,CAAC,KAAK,YAAY,QAAQ,MAAM;AAChC,eAAO;AACX,WAAK,SAAS,IAAI,OAAO,KAAK,KAAK,KAAK,IAAI;AAC5C,YAAMC,UAAS,KAAK;AACpB,YAAMC,QAAO;AACb,WAAK,cAAc;AACnB,WAAK,gBAAgB;AAErB,YAAM,iBAAiB,GAAGD,SAAQ,QAAQ,WAAY;AAClD,QAAAC,MAAK,OAAO;AACZ,cAAM,GAAG;AAAA,MACb,CAAC;AACD,YAAM,UAAU,CAAC,QAAQ;AACrB,aAAK,QAAQ;AACb,aAAK,cAAc;AACnB,aAAK,aAAa,SAAS,GAAG;AAC9B,YAAI,IAAI;AACJ,aAAG,GAAG;AAAA,QACV,OACK;AAED,eAAK,qBAAqB;AAAA,QAC9B;AAAA,MACJ;AAEA,YAAM,WAAW,GAAGD,SAAQ,SAAS,OAAO;AAC5C,UAAI,UAAU,KAAK,UAAU;AACzB,cAAM,UAAU,KAAK;AAErB,cAAM,QAAQ,KAAK,aAAa,MAAM;AAClC,yBAAe;AACf,kBAAQ,IAAI,MAAM,SAAS,CAAC;AAC5B,UAAAA,QAAO,MAAM;AAAA,QACjB,GAAG,OAAO;AACV,YAAI,KAAK,KAAK,WAAW;AACrB,gBAAM,MAAM;AAAA,QAChB;AACA,aAAK,KAAK,KAAK,MAAM;AACjB,eAAK,eAAe,KAAK;AAAA,QAC7B,CAAC;AAAA,MACL;AACA,WAAK,KAAK,KAAK,cAAc;AAC7B,WAAK,KAAK,KAAK,QAAQ;AACvB,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,QAAQ,IAAI;AACR,aAAO,KAAK,KAAK,EAAE;AAAA,IACvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,SAAS;AAEL,WAAK,QAAQ;AAEb,WAAK,cAAc;AACnB,WAAK,aAAa,MAAM;AAExB,YAAMA,UAAS,KAAK;AACpB,WAAK,KAAK;AAAA,QAAK,GAAGA,SAAQ,QAAQ,KAAK,OAAO,KAAK,IAAI,CAAC;AAAA,QAAG,GAAGA,SAAQ,QAAQ,KAAK,OAAO,KAAK,IAAI,CAAC;AAAA,QAAG,GAAGA,SAAQ,SAAS,KAAK,QAAQ,KAAK,IAAI,CAAC;AAAA,QAAG,GAAGA,SAAQ,SAAS,KAAK,QAAQ,KAAK,IAAI,CAAC;AAAA;AAAA,QAEhM,GAAG,KAAK,SAAS,WAAW,KAAK,UAAU,KAAK,IAAI,CAAC;AAAA,MAAC;AAAA,IAC1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,SAAS;AACL,WAAK,aAAa,MAAM;AAAA,IAC5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,OAAO,MAAM;AACT,UAAI;AACA,aAAK,QAAQ,IAAI,IAAI;AAAA,MACzB,SACO,GAAP;AACI,aAAK,QAAQ,eAAe,CAAC;AAAA,MACjC;AAAA,IACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,UAAU,QAAQ;AAEd,eAAS,MAAM;AACX,aAAK,aAAa,UAAU,MAAM;AAAA,MACtC,GAAG,KAAK,YAAY;AAAA,IACxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,QAAQ,KAAK;AACT,WAAK,aAAa,SAAS,GAAG;AAAA,IAClC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,OAAO,KAAK,MAAM;AACd,UAAIA,UAAS,KAAK,KAAK,GAAG;AAC1B,UAAI,CAACA,SAAQ;AACT,QAAAA,UAAS,IAAIE,QAAO,MAAM,KAAK,IAAI;AACnC,aAAK,KAAK,GAAG,IAAIF;AAAA,MACrB,WACS,KAAK,gBAAgB,CAACA,QAAO,QAAQ;AAC1C,QAAAA,QAAO,QAAQ;AAAA,MACnB;AACA,aAAOA;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,SAASA,SAAQ;AACb,YAAM,OAAO,OAAO,KAAK,KAAK,IAAI;AAClC,iBAAW,OAAO,MAAM;AACpB,cAAMA,UAAS,KAAK,KAAK,GAAG;AAC5B,YAAIA,QAAO,QAAQ;AACf;AAAA,QACJ;AAAA,MACJ;AACA,WAAK,OAAO;AAAA,IAChB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,QAAQ,QAAQ;AACZ,YAAM,iBAAiB,KAAK,QAAQ,OAAO,MAAM;AACjD,eAAS,IAAI,GAAG,IAAI,eAAe,QAAQ,KAAK;AAC5C,aAAK,OAAO,MAAM,eAAe,CAAC,GAAG,OAAO,OAAO;AAAA,MACvD;AAAA,IACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,UAAU;AACN,WAAK,KAAK,QAAQ,CAAC,eAAe,WAAW,CAAC;AAC9C,WAAK,KAAK,SAAS;AACnB,WAAK,QAAQ,QAAQ;AAAA,IACzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,SAAS;AACL,WAAK,gBAAgB;AACrB,WAAK,gBAAgB;AACrB,WAAK,QAAQ,cAAc;AAAA,IAC/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,aAAa;AACT,aAAO,KAAK,OAAO;AAAA,IACvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUA,QAAQ,QAAQ,aAAa;AACzB,UAAI;AACJ,WAAK,QAAQ;AACb,OAAC,KAAK,KAAK,YAAY,QAAQ,OAAO,SAAS,SAAS,GAAG,MAAM;AACjE,WAAK,QAAQ,MAAM;AACnB,WAAK,cAAc;AACnB,WAAK,aAAa,SAAS,QAAQ,WAAW;AAC9C,UAAI,KAAK,iBAAiB,CAAC,KAAK,eAAe;AAC3C,aAAK,UAAU;AAAA,MACnB;AAAA,IACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,YAAY;AACR,UAAI,KAAK,iBAAiB,KAAK;AAC3B,eAAO;AACX,YAAMC,QAAO;AACb,UAAI,KAAK,QAAQ,YAAY,KAAK,uBAAuB;AACrD,aAAK,QAAQ,MAAM;AACnB,aAAK,aAAa,kBAAkB;AACpC,aAAK,gBAAgB;AAAA,MACzB,OACK;AACD,cAAM,QAAQ,KAAK,QAAQ,SAAS;AACpC,aAAK,gBAAgB;AACrB,cAAM,QAAQ,KAAK,aAAa,MAAM;AAClC,cAAIA,MAAK;AACL;AACJ,eAAK,aAAa,qBAAqBA,MAAK,QAAQ,QAAQ;AAE5D,cAAIA,MAAK;AACL;AACJ,UAAAA,MAAK,KAAK,CAAC,QAAQ;AACf,gBAAI,KAAK;AACL,cAAAA,MAAK,gBAAgB;AACrB,cAAAA,MAAK,UAAU;AACf,mBAAK,aAAa,mBAAmB,GAAG;AAAA,YAC5C,OACK;AACD,cAAAA,MAAK,YAAY;AAAA,YACrB;AAAA,UACJ,CAAC;AAAA,QACL,GAAG,KAAK;AACR,YAAI,KAAK,KAAK,WAAW;AACrB,gBAAM,MAAM;AAAA,QAChB;AACA,aAAK,KAAK,KAAK,MAAM;AACjB,eAAK,eAAe,KAAK;AAAA,QAC7B,CAAC;AAAA,MACL;AAAA,IACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,cAAc;AACV,YAAM,UAAU,KAAK,QAAQ;AAC7B,WAAK,gBAAgB;AACrB,WAAK,QAAQ,MAAM;AACnB,WAAK,aAAa,aAAa,OAAO;AAAA,IAC1C;AAAA,EACJ;;;AtBxWA,MAAM,QAAQ,CAAC;AACf,WAASE,QAAO,KAAK,MAAM;AACvB,QAAI,OAAO,QAAQ,UAAU;AACzB,aAAO;AACP,YAAM;AAAA,IACV;AACA,WAAO,QAAQ,CAAC;AAChB,UAAM,SAAS,IAAI,KAAK,KAAK,QAAQ,YAAY;AACjD,UAAM,SAAS,OAAO;AACtB,UAAM,KAAK,OAAO;AAClB,UAAM,OAAO,OAAO;AACpB,UAAM,gBAAgB,MAAM,EAAE,KAAK,QAAQ,MAAM,EAAE,EAAE,MAAM;AAC3D,UAAM,gBAAgB,KAAK,YACvB,KAAK,sBAAsB,KAC3B,UAAU,KAAK,aACf;AACJ,QAAI;AACJ,QAAI,eAAe;AACf,WAAK,IAAI,QAAQ,QAAQ,IAAI;AAAA,IACjC,OACK;AACD,UAAI,CAAC,MAAM,EAAE,GAAG;AACZ,cAAM,EAAE,IAAI,IAAI,QAAQ,QAAQ,IAAI;AAAA,MACxC;AACA,WAAK,MAAM,EAAE;AAAA,IACjB;AACA,QAAI,OAAO,SAAS,CAAC,KAAK,OAAO;AAC7B,WAAK,QAAQ,OAAO;AAAA,IACxB;AACA,WAAO,GAAG,OAAO,OAAO,MAAM,IAAI;AAAA,EACtC;AAGA,SAAO,OAAOA,SAAQ;AAAA,IAClB;AAAA,IACA,QAAAC;AAAA,IACA,IAAID;AAAA,IACJ,SAASA;AAAA,EACb,CAAC;;;;;;;;;;A6B5CM,MAAM,YAAY,CAAA,QAAK;AAC1B,UAAM,IAAI,OAAO,GAAG;AACpB,WAAO,MAAM,CAAC,IAAI,IAAI,KAAK,IAAI,GAAG,CAAC;EACvC;AAEO,MAAME,WAAU,CAAA,QAAK;AACxB,QAAI,OAAO,MAAM;AAAE,aAAO,CAAC;IAAG;AAC9B,QAAI,MAAM,QAAQ,GAAG,GAAG;AAAE,aAAO;IAAK;AACtC,WAAO,CAAE,GAAI;EACjB;ACPA,MAAM,QAAQ,CAAC,OAAO,SAAS,MAAM;AAE9B,MAAM,cAAc,MAAI;AAC3B,UAAM,OAAO,CAAC;AACd,SAAK,SAAS,IAAI,QAAQ,CAAC,KAAK,QAAM;AAClC,WAAK,UAAU;AACf,WAAK,SAAS;IAClB,CAAC;AACD,WAAO;EACX;AAEO,MAAM,QAAN,cAAoB,SAAS;IAEhC,YAAY,cAAc,MAAI,CAAC,GAAG;AAC9B,YAAM;AAEN,YAAM,OAAO,QAAQ,WAAW,MAAM,CAAC;AAEvC,UAAI,OAAO,iBAAiB,YAAY;AAAE,cAAM,MAAM,iDAAiD;MAAG;AAE1G,YAAM,SAAS,IAAI;AACnB,UAAI,UAAU,OAAO,WAAW,YAAY;AAAE,cAAM,MAAM,6CAA6C;MAAG;AAE1G,YAAM,OAAO,IAAI,QAAQ,OAAO,IAAI,OAAO;AAC3C,UAAI,CAAC,MAAM,SAAS,IAAI,GAAG;AAAE,cAAM,MAAM,6CAA6C,MAAM,KAAK,GAAG,IAAI;MAAG;AAE3G,YAAM,OAAOA,SAAQ,IAAI,IAAI;AAC7B,YAAM,SAAS,UAAU,IAAI,MAAM;AACnC,YAAM,SAAS,UAAU,IAAI,MAAM;AACnC,YAAM,UAAU,UAAU,IAAI,OAAO;AACrC,YAAM,eAAe,SAAS;AAE9B,UAAI,KAAK,MAAM,MAAM,SAAS,MAAM,QAAQ,CAAC;AAE7C,UAAI,SAAS,OAAO;AAAE,cAAM,OAAM,MAAG,aAAa,GAAG,MAAM,CAAC;MAAG,WACtD,SAAS,SAAS;AAAE,cAAM,OAAM,MAAG,aAAa,GAAG,MAAM,GAAG,EAAE,CAAC,CAAC;MAAG,WACnE,SAAS,QAAQ;AAAE,cAAM,OAAM,MAAG,aAAa,GAAG,MAAM,GAAG,EAAE,EAAE,SAAO,CAAC,CAAC;MAAG;AAEpF,YAAM,OAAO,CAAA,MAAG;AACZ,kBAAU,KAAK,IAAI;AACnB,eAAO,YAAY;AACnB,YAAI,QAAQ;AAAE,iBAAO;QAAG;AACxB,YAAI,cAAc;AAAE,iBAAO,WAAW,SAAS,MAAM;QAAG;MAC5D;AAEA,YAAM,UAAU,OAAM,MAAG;AACrB,qBAAa,IAAI;AACjB,qBAAa,IAAI;AACjB,cAAM,IAAI;AACV,gBAAQ,CAAC;AACT,kBAAU;AACV,YAAI,CAAC,EAAE,KAAK,KAAK,OAAO,EAAE,MAAM,KAAK,MAAM;MAC/C;AAEA,YAAM,OAAO,UAAUC,UAAO;AAC1B,qBAAa,IAAI;AACjB,cAAM,KAAKA,KAAI;AAEf,YAAI,MAAM,WAAW,GAAG;AAAC,eAAK;QAAE;AAChC,YAAI,WAAW,MAAM,UAAU,SAAS;AAAE,kBAAQ;QAAG,OAChD;AAAE,iBAAO,WAAW,SAAS,MAAM;QAAG;AAE3C,YAAI,IAAI,cAAc;AAAE,iBAAO,KAAK;QAAQ;MAChD;AAEA,YAAMC,QAAO,OAAO,eAAe,MAAM,WAAW,SAAS;AAE7D,aAAO,iBAAiBA,OAAM;QAC1B,WAAU,EAAE,YAAW,MAAM,KAAI,CAAA,MAAG,CAAC,CAAC,QAAQ;QAC9C,MAAK,EAAE,YAAW,MAAM,KAAI,CAAA,MAAG,MAAM,OAAO;QAC5C,SAAQ,EAAE,YAAW,MAAM,KAAI,CAAA,MAAG,QAAQ;QAC1C,WAAU,EAAE,YAAW,MAAM,KAAI,CAAA,MAAG,CAAC,UAAU,SAAa,UAAU,OAAQ;QAC9E,WAAU,EAAE,YAAW,MAAM,KAAI,CAAA,MAAI,CAAC,WAAW,CAAC,eAAgB,SAAa,UAAU,OAAQ;MACrG,CAAC;AAED,aAAOA;IACX;EACJ;AAEO,MAAM,cAAc,CAAC,cAAc,MAAI,CAAC,MAAI,IAAI,MAAM,cAAc,GAAG;;;ACjF9E,MAAM,gBAAgB;AAEf,MAAM,MAAM,CAAC,QAAQ,MAAM,UAAQ,CAAC,MAAI;AAC3C,QAAI,OAAO;AACX,aAAS,KAAK,SAAS;AAAE,eAAS,OAAO,OAAO,MAAM,IAAI,MAAM,QAAQ,CAAC;IAAM;AAC/E,WAAO,UAAU,SAAS,QAAQ;EACtC;AAEA,MAAM,YAAY,CAAA,QAAK;AACnB,QAAI,EAAE,eAAe,QAAQ;AAAE,aAAO;IAAK;AAC3C,UAAM,IAAI,CAAC;AACX,aAAS,QAAQ,OAAO,0BAA0B,GAAG,GAAG;AAAE,QAAE,IAAI,IAAI,IAAI,IAAI;IAAG;AAC/E,UAAM,EAAE,QAAQ,IAAI;AACpB,UAAMC,UAAS,IAAI,IAAI,UAAU,EAAC,QAAO,CAAC;AAC1C,MAAE,UAAUA,UAAO,MAAI,EAAE;AACzB,MAAE,QAAQA,UAAO,MAAI,EAAE;AACvB,WAAO;EACX;AAEA,MAAM,cAAc,CAAA,QAAK;AACrB,QAAI,CAAC,KAAK,SAAS;AAAE,aAAO;IAAK;AACjC,UAAM,IAAI,IAAI,MAAM,IAAI,OAAO;AAC/B,aAAS,QAAQ,KAAK;AAAE,QAAE,IAAI,IAAI,IAAI,IAAI;IAAG;AAC7C,WAAO;EACX;AAEO,MAAM,kBAAkB,CAAC,YAAU;AACtC,QAAI,OAAO,YAAY,YAAY;AAAE,aAAO;IAAS;AACrD,WAAO,MAAI;IAAC;EAChB;AAEO,MAAM,OAAO,OAAOC,SAAQ,SAAS,MAAM,YAAU;AACxD,WAAO,IAAI,QAAQ,CAAC,KAAK,QAAM;AAC3B,MAAAA,QAAO,KAAK,eAAe,EAAC,SAAS,KAAI,GAAG,CAAC,IAAI,aAAW;AACxD,YAAI,IAAI;AAAE,iBAAO,IAAI,QAAQ;QAAG;AAChC,cAAM,MAAM,YAAY,QAAQ;AAChC,YAAI,GAAG;AACP,gBAAQ,GAAG;MACf,CAAC;IACL,CAAC;EACL;AAEO,MAAM,OAAO,CAACA,SAAQ,YAAY,YAAU;AAC/C,UAAM,WAAW,OAAO,EAAC,SAAS,KAAI,GAAG,QAAM;AAC3C,YAAM,WAAW,WAAW,OAAO;AACnC,UAAI;AAAE,cAAM,IAAI,MAAM,CAAC,WAAW,SAAY,MAAM,SAASA,SAAQ,IAAI,CAAC;MAAG,SACtE,KADsE;AAEzE,YAAI,UAAU;AACd,cAAM,IAAI,OAAO,UAAU,GAAG,CAAC;AAC/B,gBAAQ,GAAG;MACf;IACJ;AAEA,IAAAA,QAAO,GAAG,eAAe,QAAQ;AACjC,WAAO,CAAA,MAAGA,QAAO,IAAI,eAAe,QAAQ;EAChD;AAGO,MAAM,gBAAgB,CAAC,MAAMC,SAAM;AACtC,UAAM,IAAI,KAAK,QAAQA,IAAG;AAC1B,QAAI,IAAI,GAAG;AAAE,aAAO;IAAO;AAC3B,SAAK,OAAO,GAAG,CAAC;AAChB,WAAO;EACX;AAEO,MAAM,cAAc,CAAC,MAAMA,SAAM;AACpC,SAAK,QAAQA,IAAG;AAChB,WAAO,CAAA,MAAG,cAAc,MAAMA,IAAG;EACrC;AAEO,MAAM,UAAU,OAAO,KAAK,SAAS,SAAO;AAC/C,aAAS,IAAE,KAAK,SAAO,GAAG,KAAG,GAAG,KAAK;AACjC,UAAI;AACA,cAAM,MAAM,MAAM,KAAK,CAAC,EAAE,GAAG,IAAI;AACjC,YAAI,OAAO,OAAO,QAAQ,YAAY;AAAE,cAAI,KAAK,GAAG;QAAG;MAC3D,SACM,KADN;AACa,gBAAQ,KAAK,GAAG;MAAG;IACpC;EACJ;AC3EO,MAAM,gBAAgB,CAACC,MAAK,UAAQ,CAAC,QAAQA,OAAM,YAAYA,MAAK,KAAK;AAChF,MAAM,gBAAgB,CAACA,MAAK,UAAQ,CAAC,QAAQA,OAAM,OAAO,MAAM,MAAIA,KAAI,MAAM,MAAM,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;AAE3F,MAAM,eAAe,CAAC,eAAe,UAAQ;AAChD,QAAI,iBAAiB,MAAM;AAAE,aAAO;IAAO;AAC3C,QAAI,SAAS,MAAM;AAAE,aAAO,MAAM,aAAa;IAAG;EACtD;AACO,MAAM,cAAc,CAAC,eAAe,OAAO,UAAQ;AACtD,QAAI,iBAAiB,MAAM;AAAE,aAAO;IAAO;AAC3C,QAAI,SAAS,MAAM;AAAE,aAAO,EAAC,CAAC,aAAa,GAAE,MAAK;IAAG;AACrD,UAAM,aAAa,IAAI;AACvB,WAAO;EACX;AAEA,MAAM,sBAAsB,CAAA,QAAK;AAC7B,QAAI;AACJ,QAAI,MAAM,CAAA,MAAG;AACb,QAAI,MAAM,CAAA,aAAU,QAAM;EAC9B;AAEA,MAAM,uBAAuB,CAAA,QAAK;AAC9B,UAAM,SAAS,oBAAI,IAAI;AACvB,QAAI,MAAM,CAAC,YAAU,OAAO,IAAI,OAAO;AACvC,QAAI,MAAM,CAAC,OAAO,YAAU;AACxB,UAAI,SAAS,MAAM;AAAE,eAAO,OAAO,OAAO;MAAG,OACxC;AAAE,eAAO,IAAI,SAAS,KAAK;MAAG;AACnC,aAAO;IACX;EACJ;AAEA,MAAM,cAAc,CAAA,cAAW;AAC3B,QAAI,CAAC,WAAW;AAAE;IAAQ;AAC1B,WAAO,CAAC,OAAO,SAAO;AAClB,YAAM,EAAE,QAAQ,gBAAgB,IAAK,SAAS,CAAC;AAC/C,UAAI,CAAC,QAAQ;AAAE,cAAM,MAAM,IAAI,SAAS,kBAAkB,CAAC;MAAG;AAC9D,UAAI,CAAC,UAAU,MAAM,GAAG;AAAE,cAAM,MAAM,IAAI,SAAS,mBAAmB,SAAS,CAAC;MAAG;AACnF,aAAO,UAAU,MAAM,EAAE,GAAI,mBAAmB,CAAC,GAAI,GAAG,IAAI;IAChE;EACJ;AAIO,MAAM,YAAY,CAAC,SAAS,KAAK,iBAAe;AACnD,QAAI,CAAC,KAAK;AAAE,YAAM,CAAC;IAAG;AACtB,QAAI,CAAC,IAAI,KAAK;AACV,UAAI,IAAI,KAAK;AAAE,YAAI,eAAe;MAAQ;AAC1C,UAAI,MAAM,IAAI;IAClB;AACA,QAAI,CAAC,IAAI,KAAK;AACV,UAAI,IAAI,KAAK;AAAE,cAAM,MAAM,IAAI,cAAc,oCAAoC,EAAC,QAAO,CAAC,CAAC;MAAG;AAC9F,UAAI,CAAC,cAAc;AAAE,4BAAoB,GAAG;MAAG,OAC1C;AAAE,6BAAqB,GAAG;MAAG;IACtC;AACA,QAAI,IAAI,OAAO;AACX,UAAI,MAAM,OAAO;AACjB,UAAI,MAAM,eAAe;IAC7B;AACA,QAAI,CAAC,IAAI,SAAS;AAAE,UAAI,UAAU,CAAC;IAAG;AACtC,QAAI,QAAQ,YAAY,IAAI,SAAS;AAErC,QAAI,MAAM,cAAc,IAAI,KAAK,IAAI,KAAK;AAE1C,WAAO;EACX;AC/DA,MAAMC,cAAa;AACnB,MAAM,YAAY,oBAAI,QAAQ;AAEvB,MAAM,OAAN,MAAW;IAEd,YAAY,QAAQ,SAAS,eAAe,MAAI,CAAC,GAAG;AAChD,YAAM,EAAE,MAAK,SAAS,MAAK,SAAS,UAAAC,WAAU,aAAa,IAAI;AAC/D,YAAM;QACF;QACA,KAAI;QACJ;QACA;QACA,cAAa;QACb;QACA;QACA;QACA;MACJ,IAAI,UAAU,SAAS,KAAK,YAAY;AAExC,YAAM,KAAK;QACP;QACA,QAAO;;QACP,UAAS,CAAC;QACV,OAAM;QACN,SAAQ;QACR;QACA;QACA;QACA;MACJ;AAEA,YAAM,YAAY,CAAC,OAAO,SAAO;AAAE,gBAAQ,QAAW,GAAG,UAAU,OAAO,GAAG,IAAI;MAAG;AACpF,YAAM,MAAM,OAAO,OAAO,SAAO;AAC7B,YAAI;AACJ,YAAI;AACA,cAAI,OAAO;AAAE,oBAAQ,MAAM,MAAM,OAAO,IAAI;UAAG;AAC/C,kBAAQ,MAAM,OAAO,OAAO,GAAG,IAAI;QACvC,SAAQ,OAAR;AACI,cAAI,CAAC,SAAS;AAAE,kBAAM;UAAO;AAC7B,kBAAQ,MAAM,QAAQ,OAAO,GAAG,IAAI;QACxC;AACA,kBAAU,aAAa,gBAAgB,KAAK,GAAG,IAAI;AACnD,eAAO;MACX;AAEA,YAAM,QAAQ,OAAO,UAAU,SAAO;AAClC,YAAI,MAAM,MAAM,UAAU;AAAE,gBAAM,MAAM,IAAI,SAAS,gCAAgC,EAAC,QAAO,CAAC,CAAC;QAAG;AAClG,eAAO,IAAI,OAAO,IAAI;MAC1B;AAEA,YAAM,OAAO,OAAO,OAAO,SAAO;AAC9B,YAAI,MAAM,MAAM,SAAS;AAAE,gBAAM,MAAM,IAAI,SAAS,+BAA+B,EAAC,QAAO,CAAC,CAAC;QAAG;AAChG,YAAI,CAAC,SAAS;AAAE,iBAAO,IAAI,OAAO,IAAI;QAAG;AACzC,cAAM,SAAS,MAAM,QAAQ,OAAO,GAAG,IAAI;AAC3C,cAAM,QAAQ,MAAM,IAAI,aAAa,iBAAiB,MAAM,GAAG,IAAI;AACnE,eAAO,YAAY,iBAAiB,QAAQ,aAAa,gBAAgB,KAAK,CAAC;MACnF;AAEA,YAAM,OAAO,CAAC,UAAU,OAAM,SAAM,UAAU,MAAM,IAAI,GAAG,IAAI,GAAG,IAAI,IAAI,OAAM,SAAM,IAAI,MAAM,QAAQ,GAAG,IAAI,GAAG,IAAI;AAEtH,YAAM,oBAAoB,OAAO,QAAQ,YAAU;AAC/C,YAAI;AACJ,WAAG,SAAS;AACZ,WAAG,UAAU;AAEb,YAAI;AACA,kBAAQ,MAAM,GAAG;AACjB,aAAG,SAAS;QAChB,SAAQ,KAAR;AACI,kBAAQ,MAAM,GAAG;AACjB,aAAG,QAAQ;AACX,aAAG,SAAS;QAChB;AAEA,eAAO,GAAG;AACV,eAAO;MACX;AAEA,SAAG,OAAO,CAAA,SAAM,kBAAkB,QAAQ,KAAK,IAAI,CAAC;AACpD,SAAG,OAAO,cAAc,CAAC,OAAO,SAAO,kBAAkB,QAAQ,KAAK,OAAO,IAAI,CAAC,GAAG,KAAK;AAG1F,aAAO,iBAAiB,MAAM;QAC1B,QAAO,EAAE,OAAM,OAAM;QACrB,SAAQ,EAAE,YAAAD,aAAY,OAAM,QAAQ;QACpC,WAAU,EAAE,YAAAA,aAAY,KAAI,CAAA,MAAG,CAAC,CAAC,GAAG,QAAQ;QAC5C,QAAO,EAAE,YAAAA,aAAY,KAAI,CAAA,MAAG,GAAG,WAAW,WAAW,GAAG,WAAW,QAAQ;QAC3E,QAAO,EAAE,YAAAA,aAAY,KAAI,CAAA,MAAG,GAAG,OAAO;QACtC,cAAa,EAAE,YAAAA,aAAY,OAAM,GAAG;MACxC,CAAC;AAED,gBAAU,IAAI,MAAM,EAAE;AAEtB,WAAK,aAAa,KAAK,IAAI,KAAK,IAAI,GAAG,IAAI;AAE3C,MAAAC,UAAS,MAAM,KAAK;IACxB;IAEA,MAAM,WAAW,MAAM;AACnB,YAAM,EAAE,SAAS,KAAI,IAAI,UAAU,IAAI,IAAI;AAC3C,UAAI,SAAS;AAAE,cAAM;MAAS,OAAO;AAAE,cAAM,KAAK,IAAI;MAAG;IAC7D;IAEA,UAAU,MAAM;AACZ,YAAM,EAAE,QAAQ,MAAM,IAAI,IAAI,UAAU,IAAI,IAAI;AAChD,UAAI,WAAW,QAAQ;AAAE,aAAK,IAAI;MAAG;AACrC,aAAO,IAAI,GAAG,IAAI;IACtB;IAEA,MAAM,OAAO,MAAM;AACf,YAAM,EAAE,SAAS,QAAQ,MAAM,IAAI,IAAI,UAAU,IAAI,IAAI;AACzD,UAAI,SAAS;AAAE,cAAM;MAAS,WACrB,WAAW,QAAQ;AAAE,cAAM,KAAK,IAAI;MAAG;AAChD,aAAO,IAAI,GAAG,IAAI;IACtB;IAEA,MAAM,IAAI,UAAU,MAAM;AACtB,YAAM,EAAE,SAAS,KAAK,IAAI,UAAU,IAAI,IAAI;AAC5C,UAAI,SAAS;AAAE,cAAM;MAAS;AAC9B,aAAO,KAAK,OAAO,IAAI;IAC3B;IAEA,MAAM,SAAS;AACX,YAAM,EAAE,SAAS,SAAS,IAAI,UAAU,IAAI,IAAI;AAEhD,UAAI,OAAO,YAAY,YAAY;AAAE,cAAM,MAAM,IAAI,oBAAoB,mBAAmB,EAAC,QAAO,CAAC,CAAC;MAAG;AAEzG,aAAO,YAAY,UAAU,OAAO;IACxC;IAEA,mBAAmB,OAAO;AACtB,YAAM,EAAE,gBAAgB,IAAI,UAAU,IAAI,IAAI;AAC9C,aAAO,aAAa,iBAAiB,KAAK;IAC9C;IAEA,kBAAkB,OAAO;AACrB,YAAM,EAAE,eAAe,IAAI,UAAU,IAAI,IAAI;AAC7C,aAAO,aAAa,gBAAgB,KAAK;IAC7C;IAEA,aAAa,WAAW,SAAO,CAAC,GAAG;AAC/B,YAAM,EAAE,QAAQ,IAAI,UAAU,IAAI,IAAI;AACtC,eAAS,UAAU,SAAS;AACxB,cAAM,MAAM,IAAI,MAAI,UAAU,EAAC,QAAQ,iBAAgB,EAAC,CAAC;AACzD,eAAO,eAAe,QAAQ,QAAQ,EAAE,OAAM,IAAI,CAAC;MACvD;AACA,aAAO;IACX;EACJ;;;ACpJA,MAAMC,aAAY,oBAAI,QAAQ;AAEvB,MAAM,eAAN,MAAmB;IAEtB,YAAYC,SAAQ,SAAS;AACzB,gBAAU,gBAAgB,OAAO;AAEjC,YAAM,KAAK;QACP,QAAAA;QACA,UAAS,oBAAI,IAAI;QACjB;MACJ;AAEA,aAAO,iBAAiB,MAAM;QAC1B,QAAO,EAAE,OAAMA,QAAO;MAC1B,CAAC;AAED,WAAKA,SAAQ,CAAA,YAAS,GAAG,SAAS,IAAI,OAAO,GAAG,OAAO;AAEvD,MAAAD,WAAU,IAAI,MAAM,EAAE;IAC1B;IAEA,MAAM,GAAG,SAAS,aAAa;AAC3B,YAAM,EAAE,QAAAC,SAAQ,QAAQ,IAAID,WAAU,IAAI,IAAI;AAC9C,YAAM,OAAO,OAAO,gBAAgB;AAEpC,UAAI,CAAC,MAAM;AAAE,eAAO,KAAKC,SAAQ,SAAS,aAAa,OAAO;MAAG;AACjE,aAAO,YAAY,CAAA,SAAM,KAAKA,SAAQ,SAAS,MAAM,OAAO,CAAC;IACjE;IAEA,GAAG,SAAS,UAAU;AAClB,YAAM,EAAE,SAAS,IAAID,WAAU,IAAI,IAAI;AACvC,UAAI,SAAS,IAAI,OAAO,GAAG;AAAE,cAAM,MAAM,IAAI,UAAU,mBAAmB,EAAC,QAAO,CAAC,CAAC;MAAG;AAEvF,eAAS,IAAI,SAAS,QAAQ;AAE9B,aAAO,CAAA,MAAG;AACN,YAAI,CAAC,SAAS,IAAI,OAAO,GAAG;AAAE,iBAAO;QAAO;AAC5C,iBAAS,OAAO,OAAO;AACvB,eAAO;MACX;IACJ;IAEA,WAAW,SAAS,MAAI,CAAC,GAAG;AACxB,aAAO,IAAI,KAAK,MAAM,SAAS;QAC3B,MAAK,OAAM,MAAG;AACV,iBAAO,KAAK,GAAG,SAAS,EAAC,OAAM,MAAK,CAAC;QACzC;QACA,MAAK,CAAC,UAAQ;AACV,iBAAO,KAAK,GAAG,SAAS,EAAC,OAAM,MAAM,MAAK,CAAC;QAC/C;QACA,UAAS,CAACE,OAAM,QAAM;AAClB,eAAK,GAAG,SAAS,CAACD,SAAQ,UAAQ,IAAI,KAAK,CAAC;QAChD;MACJ,GAAG,GAAG;IACV;EAEJ;;;;;;;;;AE5DA;;;;;;;;;;;;;;;ACAA,MAAM,OAAN,cAAmB,SAAS;IAExB,OAAO,OAAOE,OAAM,QAAM,CAAC,GAAG;AAC1B,eAAS,KAAK,OAAO;AACjB,eAAO,eAAeA,OAAM,GAAG,EAAC,OAAM,MAAM,CAAC,GAAG,YAAW,KAAI,CAAC;MACpE;AACA,aAAOA;IACX;IAEA,YAAY,KAAK,QAAM,CAAC,GAAG;AACvB,YAAM;AACN,aAAO,KAAK,OAAO,OAAO,eAAe,MAAM,IAAI,KAAK,IAAI,MAAM,WAAW,SAAS,GAAG,KAAK;IAClG;EACJ;AAEA,MAAO,eAAQ;;;ACbf,MAAM,SAAS,CAAC;AAChB,MAAM,cAAc,oBAAI,IAAI;AAC5B,MAAM,oBAAoB,CAAC;AAE3B,MAAM,eAAe,CAACC,MAAK,SAAO,MAAM,OAAO,UAAU,UAAU,MAAMA;AAClE,MAAM,aAAa,CAACA,MAAK,SAAO;AAAE,UAAM,aAAaA,MAAK,IAAI;EAAG;AACjE,MAAM,YAAY,CAACA,MAAK,SAAO;AAAE,YAAQ,KAAK,aAAaA,MAAK,IAAI,CAAC;EAAG;AAExE,MAAM,eAAe,CAAA,SAAM,OAAO,IAAI;AACtC,MAAM,gBAAgB,CAAA,cAAW;AACpC,UAAM,OAAO,YAAY,IAAI,SAAS;AACtC,WAAO,OAAO,KAAK,CAAC,IAAI;EAC5B;AAEA,MAAM,YAAY,CAAC,KAAK,KAAK,UAAQ,SAAO;AACxC,QAAI,CAAC,IAAI,MAAM,IAAI,GAAG,GAAG,GAAG;AAAE,aAAO,UAAU,MAAM,IAAI;IAAM;EACnE;AAEA,MAAM,cAAc,CAAC,KAAKC,QAAO,UAAQ,SAAO;AAC5C,UAAM,OAAO,YAAY,IAAIA,MAAK;AAClC,QAAI,CAAC,MAAM;AAAE;IAAQ;AACrB,QAAI,KAAK,WAAW,GAAG;AAAE,aAAO,UAAU,KAAK,KAAK,CAAC,GAAG,OAAO;IAAG;AAClE,eAAW,OAAO,MAAM;AACpB,YAAM,IAAI,UAAU,KAAK,KAAK,OAAO;AACrC,UAAI,GAAG;AAAE,eAAO;MAAG;IACvB;EACJ;AAEA,MAAM,aAAa,CAAC,KAAK,QAAQ,UAAQ,SAAO;AAC5C,QAAI,OAAO,MAAM;AAAE;IAAQ;AAC3B,QAAI,QAAQ;AAAE,aAAO,YAAY,KAAK,IAAI,WAAW,OAAO;IAAG;AAC/D,QAAI,GAAG,IAAI;AACX,OAAG;AAAE,UAAI,YAAY,KAAK,IAAI,EAAE,WAAW,OAAO;IAAG,SAC9C,KAAK,MAAM;AAClB,WAAO;EACX;AAEO,MAAM,eAAe,CAAC,KAAK,SAAO,SAAO,WAAW,KAAK,QAAQ,IAAI;AAErE,MAAM,gBAAgB,CAAC,KAAK,SAAO,SAAO,WAAW,KAAK,QAAQ,KAAK;AAGvE,MAAM,WAAW,CAAA,QAAK;AACzB,WAAO,IAAI,IAAI,IAAI;AACnB,WAAO,eAAe,mBAAmB,IAAI,MAAM,EAAC,YAAW,MAAM,OAAM,IAAI,YAAW,CAAC;AAC3F,UAAM,OAAO,YAAY,IAAI,IAAI,SAAS;AAC1C,QAAI,MAAM;AAAE,WAAK,QAAQ,GAAG;IAAG,OAC1B;AAAE,kBAAY,IAAI,IAAI,WAAW,CAAC,GAAG,CAAC;IAAG;EAClD;AAEA,MAAO,eAAQ,IAAI,aAAK,eAAe;IACnC,OAAM;EACV,CAAC;ACpDD,MAAMC,cAAa;AACnB,MAAM,SAAS,CAAC,QAAQ,QAAQ,OAAO,QAAQ,MAAM,MAAM,QAAQ,KAAK;AAEjE,MAAM,aAAa,CAAA,QAAK;AAC3B,UAAM,IAAI,OAAO;AACjB,WAAO,OAAO,SAAS,MAAM,cAAc,MAAM;EACrD;AACO,MAAM,eAAe,CAAC,aAAa,QAAM,eAAe;AAExD,MAAM,KAAK,CAAC,MAAM,KAAK,SAAO,SAAO;AACxC,QAAI,CAAC,MAAM;AAAE,aAAO;IAAO;AAC3B,UAAM,MAAM,aAAa,IAAI;AAC7B,QAAI,KAAK;AACL,UAAI,OAAO,MAAM;AAAE,eAAO;MAAO;AACjC,UAAI,UAAU,IAAI,cAAc,IAAI,WAAW;AAAE,eAAO;MAAO;AAC/D,UAAI,CAAC,UAAU,EAAE,eAAe,IAAI,cAAc;AAAE,eAAO;MAAO;AAClE,aAAO,CAAC,IAAI,MAAM,IAAI,GAAG,GAAG;IAChC;AACA,UAAM,KAAK,OAAO;AAClB,QAAI,OAAO,UAAU;AAAE,aAAO,OAAO,QAAQ;IAAM;AACnD,QAAI,OAAO,QAAS,OAAO,cAAc,OAAO,UAAW;AAAE,aAAO;IAAO;AAC3E,WAAO,SAAS,IAAI,gBAAgB,OAAO,eAAe;EAC9D;AAEO,MAAM,SAAS,CAAC,KAAK,SAAO;AAC/B,QAAI,CAAC,MAAM;AAAE,aAAQ,QAAQ,SAAS,QAAQ,KAAK,CAAC,CAAC;IAAM;AAC3D,aAAS,KAAK,KAAK,GAAG,GAAG;AAAE,UAAI,KAAK,MAAM;AAAE,eAAO;MAAM;IAAC;AAC1D,WAAO;EACX;AAGA,MAAM,SAAS,CAAC,KAAK,IAAI,QAAQ,SAAO;AACpC,QAAI,IAAI,EAAE,GAAG;AAAE,aAAO,IAAI,EAAE,EAAE,GAAG,IAAI;IAAG;AACxC,QAAI,KAAK;AAAE,iBAAW,wBAAwB,mCAAmC,IAAI,IAAI;IAAG;EAChG;AACO,MAAM,QAAQ,CAAC,MAAM,IAAI,QAAQ,SAAO;AAC3C,UAAM,MAAM,aAAa,IAAI;AAC7B,QAAI,KAAK;AAAE,aAAO,OAAO,KAAK,IAAI,KAAK,GAAG,IAAI;IAAG;AACjD,QAAI,KAAK;AAAE,iBAAW,mBAAmB,sBAAsB,IAAI;IAAG;EAC1E;AACO,MAAM,UAAU,CAAC,KAAK,IAAI,QAAQ,SAAO;AAC5C,UAAM,MAAM,aAAa,KAAK,KAAK;AACnC,QAAI,KAAK;AAAE,aAAO,OAAO,KAAK,IAAI,KAAK,KAAK,GAAG,IAAI;IAAG;AACtD,QAAI,KAAK;AAAE,iBAAW,mBAAmB,0BAA0B,MAAM;IAAG;EAChF;AAGO,MAAM,UAAU,CAAC,MAAM,OAAO,SAAO;AACxC,UAAM,MAAM,aAAa,IAAI;AAC7B,UAAM,IAAI,WAAW,IAAI;AAEzB,QAAI,KAAK,KAAK,GAAG;AAAE,iBAAW,mBAAmB,OAAO,EAAE,yCAAyC;IAAG;AACtG,QAAI,QAAQ,CAAC,KAAK,CAAC,KAAK;AAAE,iBAAW,mBAAmB,OAAO,EAAE,qBAAqB,IAAI;IAAG;AAC7F,QAAI,CAAC,QAAQ,OAAO,GAAG;AAAE,iBAAW,mBAAmB,OAAO,EAAE,mBAAmB;IAAG;AAEtF,eAAW,KAAK,MAAM;AAClB,UAAI,CAAC,GAAG;AACJ,cAAM,KAAK,aAAa,CAAC;AACzB,aAAK,CAAC,QAAS,MAAM,GAAG,SAAS,UAAW,OAAO,MAAM,MAAM,GAAG,OAAO,CAAC,KAAM,CAAC,MAAM,OAAO,CAAC,KAAM;AACjG,iBAAO,OAAO,IAAI,GAAG,KAAK,CAAC,IAAI;QACnC;MACJ,WACS,aAAa,MAAM,CAAC,GAAG;AAAE,eAAO;MAAG;IAChD;AACA,QAAI,KAAK,GAAG;AAAE,aAAO,IAAI,OAAO;IAAG;EACvC;AAEO,MAAM,KAAK,CAAC,MAAM,QAAQ,SAAO;AACpC,UAAM,MAAM,aAAa,IAAI;AAC7B,QAAI,CAAC,KAAK;AAAE,iBAAW,sCAAsC,IAAI;IAAG;AACpE,UAAM,KAAK,aAAa,KAAK,KAAK;AAClC,QAAI,CAAC,IAAI;AAAE,aAAO,IAAI,OAAO;IAAG;AAChC,QAAI,IAAI,SAAS,GAAG,MAAM;AAAE,aAAO;IAAK;AACxC,UAAMC,OAAM,GAAG,GAAG,IAAI,KAAK,GAAG,GAAG,GAAG;AACpC,WAAOA,OAAM,GAAG,MAAMA,KAAI,KAAK,GAAG,IAAI,GAAG,GAAG,IAAI,IAAI,IAAI,OAAO,GAAG;EACtE;AAEO,MAAM,WAAW,CAAC,MAAMC,MAAID,SAAM;AACrC,UAAM,KAAK,OAAOC;AAClB,UAAM,MAAM,aAAa,IAAI;AAC7B,QAAI,CAAC,KAAK;AAAE,iBAAW,qCAAqC,IAAI;IAAG;AACnE,UAAM,OAAO,IAAI;AACjB,QAAI,OAAO,YAAY;AAAE,WAAK,GAAG,IAAIA;IAAI,WAChC,OAAO,YAAY,MAAM,QAAQA,IAAE,GAAG;AAAE,eAAS,KAAKA,MAAI;AAAE,aAAKA,KAAG,CAAC,CAAC,IAAID;MAAK;IAAE,WACjF,OAAO,UAAU;AAAE,eAAS,KAAKC,MAAI;AAAE,aAAK,CAAC,IAAIA,KAAG,CAAC;MAAG;IAAE,OAC9D;AAAE,WAAKA,IAAE,IAAID;IAAK;EAC3B;AAEO,MAAM,SAAS,CAAC,KAAK,KAAK,KAAK,QAAM;AACxC,QAAI,CAAC,KAAK;AAAE;IAAQ;AACpB,UAAM,MAAM,KAAK,GAAG;AACpB,UAAM,IAAI,IAAI;AACd,WAAO,IAAI,KAAK,MAAM,OAAO,IAAI,IAAI,OAAO,IAAI,MAAM,OAAK,GAAG,GAAG,CAAC,GAAG,OAAO,IAAI,MAAM,OAAK,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC;EAC9G;AAGO,MAAM,SAAS,CAAC,KAAK,UAAU,WAAS,UAAQ;AACnD,UAAM,EAAE,MAAM,YAAY,IAAI;AAE9B,eAAW,OAAO,UAAU;AACxB,YAAME,SAAQ,SAAS,GAAG;AAC1B,aAAO,eAAe,YAAY,KAAK,KAAK,EAAC,YAAAH,aAAY,OAAAG,OAAK,CAAC;AAE/D,UAAI,YAAY,aAAI,GAAG,GAAG;AAAE,eAAO,eAAe,aAAI,GAAG,GAAG,MAAM,EAAC,YAAAH,aAAY,OAAAG,OAAK,CAAC;MAAG;IAC5F;AAEA,WAAO;EACX;AAEO,MAAM,eAAe,CAAC,MAAM,WAAS,CAAC,MAAI;AAC7C,UAAM,MAAM,aAAa,IAAI;AAC7B,QAAI,CAAC,KAAK;AAAE,iBAAW,yCAAyC,IAAI;IAAG;AACvE,QAAI,OAAO,aAAa,UAAU;AAAE,iBAAW,2CAA2C,IAAI;IAAG;AAEjG,QAAI,CAAC,IAAI,YAAY,KAAK;AAAE,aAAO,eAAe,IAAI,aAAa,OAAO,EAAC,OAAM,CAAC,GAAG,UAAS,KAAK,CAAC;IAAG;AAEvG,WAAO,OAAO,KAAK,UAAU,KAAK;EACtC;ACnHA,MAAM,UAAU,CAAE,UAAU,MAAM,UAAU,QAAQ,OAAO,QAAQ,QAAQ,WAAW,OAAO,OAAO,OAAO,MAAM,QAAS;AAE1H,MAAM,SAAS,CAAC,MAAM,aAAa,UAAQ,CAAC,MAAI;AAC5C,QAAI,aAAa,IAAI,GAAG;AAAE,iBAAW,uBAAuB,IAAI;IAAE;AAClE,QAAI,CAAC,aAAa;AAAE,iBAAW,uBAAuB,IAAI;IAAG;AAE7D,QAAI,EAAE,QAAQ,IAAAC,KAAI,QAAAC,SAAQ,MAAAC,OAAM,KAAK,MAAM,MAAM,SAAS,KAAK,KAAK,KAAK,IAAAJ,MAAI,QAAAK,QAAO,IAAI;AACxF,UAAM,iBAAiB,OAAO,KAAK,OAAO,EAAE,OAAO,CAAA,QAAO,CAAC,QAAQ,SAAS,GAAG,CAAC;AAEhF,QAAI,eAAe,QAAQ;AAAE,gBAAU,4CAA4C,eAAe,KAAK,MAAM,MAAM,IAAI;IAAG;AAC1H,SAAK,QAAQ,QAAQ,YAAY,EAAE,QAAQ,QAAQ,UAAU;AAAE,iBAAW,iCAAiC,IAAI;IAAG;AAElH,UAAM,YAAY,YAAY;AAC9B,UAAM,WAAW,cAAc,SAAS;AACxC,aAAS,WAAW,IAAI,MAAI,IAAI,YAAY,GAAG,CAAC;AAChDD,YAAOA,UAAS,CAAA,QAAK;AACrB,UAAM,OAAO;AACbD,cAASA,YAAW,CAAA,QAAO,OAAO,KAAK,IAAI;AAE3C,QAAI,SAAS;AACT,YAAM,QAAQ,CAAC,GAAG,MAAM,EAAE,CAAC;AAC3B,YAAM,QAAQ,CAAC,GAAG,GAAG,MAAM,EAAE,CAAC,IAAI;AAClC,YAAM,QAAQ,CAAC,GAAG,MAAM,OAAO,EAAE,CAAC;IACtC;AAEA,UAAM,MAAM,EAAE,MAAM,aAAa,WAAW,IAAAD,KAAI,QAAQ,QAAAC,SAAQ,MAAAC,OAAM,KAAK,MAAM,MAAM,SAAS,KAAK,KAAK,KAAK,IAAG,CAAC,EAAE;AACrH,aAAS,GAAG;AACV,aAAS,MAAMJ,IAAE;AAEnB,QAAIK,YAAW,OAAO;AAClB,UAAI,UAAU;AAAE,kBAAU,qCAAqC,SAAS,oCAAoC,IAAI;MAAG;AACnH,aAAO,eAAe,aAAa,OAAO,EAAE,OAAM,CAAC,GAAG,UAAS,KAAK,CAAC;AAEnE,aAAO,KAAK;QACV;QACA;QACA,QAAAF;QACA,IAAI,CAAC,KAAK,SAAS,SAAW,GAAG,MAAM,KAAK,MAAM;QAClD,IAAI,CAAC,QAAQ,MAAQ,GAAG,MAAM,KAAK,GAAG,CAAC;QACvC,MAAM,IAAI,MAAQ,QAAQ,MAAM,GAAG,GAAG,CAAC;QACvC,MAAM,IAAI,MAAQ,QAAQ,MAAM,GAAG,GAAG,CAAC;QACvC,KAAK,IAAI,MAAQ,QAAQ,MAAM,GAAG,GAAG,CAAC;QACtC,MAAM,IAAI,MAAQ,QAAQ,MAAM,GAAG,GAAG,CAAC;MAC3C,GAAG,IAAI;AAEP,UAAI,SAAS;AACP,eAAO,KAAK;UACV;UACA;UACA;UACA;UACA;UACA;UACA,QAAQ,CAAC,KAAK,KAAK,KAAK,QAAU,OAAO,KAAK,GAAG,GAAG,KAAK,KAAK,GAAG;QACrE,GAAG,IAAI;MACX;AAEA,UAAI,OAAOE,YAAW,UAAU;AAAI,eAAO,KAAKA,OAAM;MAAG;IAC7D;AAEA,WAAO;EACX;AAEA,MAAO,iBAAQ;ACnEf,MAAA,gBAAA,CAAA;AAAA,EAAAC,UAAA,eAAA;IAAA,QAAA,MAAA;IAAA,MAAA,MAAA;IAAA,OAAA,MAAA;IAAA,SAAA,MAAA;EAAA,CAAA;AAEO,MAAM,QAAQ,IAAI;IACrB,CAAC,KAAK,MAAML,QAAOH,eAAW,SAAO,OAAO,eAAe,KAAK,MAAM,EAAE,YAAAA,cAAY,OAAAG,OAAM,CAAC;IAC3F;MACI,KAAI,CAAC,KAAK,aAAaH,eAAW,SAAO;AACrC,mBAAW,CAAC,MAAMG,MAAK,KAAK,OAAO,QAAQ,WAAW,GAAG;AACrD,gBAAM,KAAK,MAAMA,QAAOH,YAAU;QACtC;AACA,eAAO;MACX;IACJ;EACJ;AAEO,MAAM,UAAU,IAAI;IACvB,CAAC,KAAK,MAAM,KAAKA,eAAW,SAAO,OAAO,eAAe,KAAK,MAAM,EAAE,YAAAA,cAAY,IAAI,CAAC;IACvF;MACI,KAAI,CAAC,KAAK,WAAWA,eAAW,SAAO;AACnC,mBAAW,CAAC,MAAM,GAAG,KAAK,OAAO,QAAQ,SAAS,GAAG;AACjD,kBAAQ,KAAK,MAAM,KAAKA,YAAU;QACtC;AACA,eAAO;MACX;IACJ;EACJ;AAEO,MAAM,OAAO,IAAI;IACpB,CAAC,KAAK,MAAM,MAAM,KAAK,KAAKA,eAAW,SAAO;AAC1C,aAAO,OAAO,eAAe,KAAK,MAAM;QACpC,KAAI,MAAM,CAAA,MAAG,KAAK,IAAI,IAAI,IAAI,GAAG,KAAK,IAAI,GAAG,IAAI,IAAI;QACrD,KAAI,MAAM,CAAA,MAAG,IAAI,KAAK,IAAI,GAAG,IAAI,IAAI,CAAA,MAAG,KAAK,IAAI;QACjD,YAAAA;MACJ,CAAC;IACL;IACA;MACI,KAAI,CAAC,KAAK,MAAM,kBAAkBA,eAAW,SAAO;AAChD,mBAAW,CAAC,MAAM,EAAE,KAAK,IAAI,CAAC,KAAK,OAAO,QAAQ,gBAAgB,GAAG;AACjE,eAAK,KAAK,MAAM,MAAM,KAAK,KAAKA,YAAU;QAC9C;AACA,eAAO;MACX;IACJ;EACJ;AAEO,MAAM,SAAS,IAAI;IACtB,CAAC,KAAK,MAAM,MAAM,KAAKA,eAAW,SAAO;AACrC,aAAO,KAAK,KAAK,MAAM,MAAM,MAAM,CAAA,MAAG,KAAK,OAAO,IAAK,KAAK,IAAI,IAAI,IAAI,IAAI,GAAIA,YAAU;IAC9F;IACA;MACI,KAAI,CAAC,KAAK,MAAM,WAAWA,eAAW,SAAO;AACzC,mBAAW,CAAC,MAAM,GAAG,KAAK,OAAO,QAAQ,SAAS,GAAG;AACjD,iBAAO,KAAK,MAAM,MAAM,KAAKA,YAAU;QAC3C;AACA,eAAO;MACX;IACJ;EACJ;ACxDA,MAAA,eAAA,CAAA;AAAA,EAAAQ,UAAA,cAAA;IAAA,QAAA,MAAA;IAAA,SAAA,MAAA;IAAA,MAAA,MAAA;IAAA,SAAA,MAAA;IAAA,KAAA,MAAA;IAAA,OAAA,MAAA;IAAA,QAAA,MAAA;IAAA,aAAA,MAAA;IAAA,SAAA,MAAA;IAAA,MAAA,MAAA;IAAA,MAAA,MAAA;IAAA,OAAA,MAAA;IAAA,SAAA,MAAA;IAAA,KAAA,MAAA;EAAA,CAAA;ACAA,MAAA,cAAA,CAAA;AAAA,EAAAA,UAAA,aAAA;IAAA,MAAA,MAAA;IAAA,UAAA,MAAA;IAAA,WAAA,MAAA;IAAA,QAAA,MAAA;IAAA,MAAA,MAAA;IAAA,OAAA,MAAA;IAAA,SAAA,MAAAC;IAAA,UAAA,MAAAC;IAAA,UAAA,MAAA;EAAA,CAAA;AAEA,MAAM,UAAU,CAAA,QAAK,OAAO,QAAQ,QAAQ;AAC5C,MAAM,UAAU,CAAA,QAAK,QAAQ,GAAG,IAAI,KAAK;AAElC,MAAM,SAAS,CAAA,QAAK,OAAO,QAAQ,WAAW,MAAM,IAAI,WAAW,KAAK,KAAK;AAC7E,MAAM,WAAW,CAAA,QAAK,OAAO,QAAQ,WAAW,MAAM,IAAI,WAAW,OAAO,GAAG;AAC/E,MAAM,QAAQ,CAAA,SAAM,IAAI,MAAM,gBAAgB,KAAK,CAAC,GAAG,IAAI,QAAQ;AAEnE,MAAM,OAAO,CAAC,KAAK,WAAW,aAAW;AAC5C,UAAM,MAAM,cAAc;AAC1B,UAAM,IAAI,MAAM,IAAI,QAAQ,KAAK,QAAQ,IAAI,IAAI,YAAY,KAAK,QAAQ;AAC1E,QAAI,KAAK,GAAG;AAAE,aAAO,CAAC,KAAK,EAAE;IAAG;AAChC,QAAI,IAAI,KAAK,IAAI,OAAO,IAAE,CAAC,MAAM,MAAM;AAAE,aAAO,KAAK,KAAK,KAAK,KAAG,MAAI,IAAE,EAAE;IAAG;AAC7E,WAAO,YAAY,CAAC,IAAI,MAAM,GAAG,CAAC,GAAG,IAAI,MAAM,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,MAAM,IAAI,CAAC,GAAG,IAAI,MAAM,GAAG,CAAC,CAAC;EAC/F;AAEO,MAAM,WAAW,CAAC,KAAK,aAAW,KAAK,KAAK,MAAM,QAAQ;AAC1D,MAAM,YAAY,CAAC,KAAK,aAAW,KAAK,KAAK,OAAO,QAAQ;AAE5D,MAAM,OAAO,CAAC,MAAM,SAAO;AAC9B,QAAI,QAAQ,IAAI,GAAG;AAAE,aAAO,QAAQ,IAAI;IAAG;AAC3C,QAAI,QAAQ,IAAI,GAAG;AAAE,aAAO,QAAQ,IAAI;IAAG;AAE3C,WAAO,OAAO,MAAM;EACxB;AAEO,MAAMA,YAAW,CAAA,QAAK,aAAI,KAAK,KAAK,GAAG;AACvC,MAAMD,WAAU,CAAA,QAAK,MAAMC,UAAS,GAAG,CAAC;ADxB/C,MAAM,OAAO,CAAC,KAAK,KAAK,MAAM,SAAO;AACjC,QAAI,YAAY;AAChB,UAAM,OAAO,CAAA,MAAG;AAAE,kBAAY;IAAO;AAErC,UAAM,QAAQ,aAAI,WAAW,IAAI;AAEjC,UAAMT,OAAM,CAACU,MAAK,WAAS,UAAQ;AAC/B,YAAM,EAAE,QAAQ,MAAM,IAAI,IAAIA;AAC9B,YAAM,KAAK,KAAK;AAEhB,UAAI,CAAC,MAAO,CAAC,QAAQ,QAAS;AAAE,YAAIA,IAAG;MAAG,WACjC,SAAS,CAAC,UAAU;AAAE,aAAKA,MAAK,CAAA,MAAG;AAAE,UAAAV,KAAIU,MAAK,IAAI;QAAG,CAAC;MAAG,OAC7D;AACD,iBAAS,CAAC,KAAK,GAAG,KAAK,GAAGA,KAAI,GAAG,GAAG;AAChC,UAAAV,KAAI;YACA,QAAOU;YAAK;YAAK;YAAK;YAAM,KAAI,aAAa,GAAG;YAChD,MAAS,KAAK,MAAU,OAAO,OAAO,GAAG,CAAC,CAAC;UAC/C,CAAC;AACD,cAAI,CAAC,WAAW;AAAE;UAAO;QAC7B;AAAC;MACL;AAEA,aAAOA,KAAI;IACf;AAEA,UAAM,MAAM,EAAE,KAAI,KAAK,MAAM,KAAI,aAAa,GAAG,EAAE;AACnD,QAAI,MAAM;AAAE,WAAK,GAAG;IAAG;AACvB,WAAOV,KAAI,KAAK,IAAI;EACxB;AAEO,MAAM,UAAU,CAAA,aAAU;AAC7B,QAAI,IAAE,GAAG;AACT,WAAO,OAAO,IAAI,UAAQ,SAAS,MAAM,KAAK,GAAG,KAAK;EAC1D;AAEO,MAAM,MAAM,CAAC,KAAK,MAAM,aAAW;AACtC,WAAWQ,SAAQ,IAAI;AAEvB,UAAM,MAAM,KAAK,SAAO;AACxB,WAAO,QAAQ,CAAC,MAAM,OAAO,WAAS;AAClC,aAAO,SAAS,MAAM,QAAQ,KAAK,KAAK,GAAG,UAAU,GAAG;IAC5D,CAAC,EAAE,GAAG;EACV;AAEO,MAAM,SAAS,CAAC,KAAK,MAAM,QAAM;AACpC,WAAWA,SAAQ,IAAI;AAEvB,aAAS,KAAK,MAAM;AAAE,UAAI,SAAS,MAAM,aAAI,IAAI,KAAK,GAAG,KAAK,IAAI;AAAE,eAAO;MAAK;IAAC;AACjF,WAAO;EACX;AAEO,MAAM,QAAQ,CAAC,KAAK,MAAM,KAAK,QAAM,SAAO;AAE/C,UAAM,OAAO,CAAC,MAAM,QAAQ,KAAK,UAAQ;AACrC,UAAI,KAAK,aAAa,MAAM;AAC5B,UAAI,CAAC,MAAM,CAAC,GAAG,SAAS;AACpB,YAAI,CAAC,OAAO;AAAE,iBAAO;QAAQ;AAC7B,iBAAS,OAAO,IAAI,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC;AAC3C,aAAK,aAAa,MAAM;MAC5B;AACA,YAAM,IAAI,QAAQ,MAAM,KAAK,GAAG,IAAI,QAAQ,KAAK,KAAK,CAAC;AACvD,UAAI,KAAK,MAAM;AAAE,WAAG,IAAI,QAAQ,KAAK,GAAG,KAAK;AAAG,eAAO;MAAQ;AAC/D,SAAG,IAAI,QAAQ,GAAG;AAClB,UAAI,GAAG,OAAO,MAAM,GAAG;AAAE,eAAO;MAAQ;IAC5C;AAEA,WAAO,IAAI,KAAK,MAAM,IAAI;EAC9B;AAEO,MAAM,UAAU,CAAC,KAAK,iBAAe,UAAQ;AAChD,UAAM,OAAO,CAAC;AACd,UAAM,MAAM,CAAC,EAAE,KAAK,KAAK,GAAG,SAAO;AAC/B,WAAK,IAAI,IAAI;AACb,UAAI,MAAM;AAAE,aAAK;MAAG;IACxB;AACA,SAAK,KAAK,KAAK,iBAAiB,MAAM,IAAI;AAC1C,QAAI,gBAAgB;AAAE,WAAK,EAAE,IAAI;IAAK;AACtC,WAAO;EACX;AAEO,MAAM,UAAU,CAAC,MAAM,iBAAe,SAAO;AAChD,UAAM,IAAI,CAAC;AACX,eAAW,KAAK,OAAO,KAAK,IAAI,EAAE,KAAK,GAAG;AACtC,UAAI,CAAC,kBAAkB,aAAI,UAAU,KAAK,CAAC,CAAC,GAAG;AAAE;MAAU;AAC3D,YAAM,GAAG,QAAM,GAAG,KAAK,CAAC,GAAG,IAAI;IACnC;AACA,WAAO,EAAE;EACb;AAEC,MAAM,UAAU,CAAC,gBAAgBP,SAAO,QAAM;AAC3C,UAAM,OAAO,QAAQA,MAAI,IAAI;AAE7B,UAAM,MAAM,CAAC,EAAE,KAAK,KAAK,MAAI;AAAEA,MAAAA,OAAK,MAAMA,MAAI,MAAM,GAAG;IAAG;AAC1D,UAAM,YAAY,CAAC,EAAE,KAAK,MAAM,IAAI,GAAG,SAAO;AAC1C,UAAI,CAAC,KAAK,IAAI,GAAG;AAAE,YAAI,KAAK,IAAI,IAAI,IAAI,OAAO,GAAG,IAAI;MAAG;AACzD,UAAI,MAAM,QAAQ,GAAG,KAAK,MAAM,QAAQ,KAAK,IAAI,CAAC,GAAG;AAAE,aAAK,IAAI,EAAE,KAAK,GAAG,GAAG;MAAG,OAC3E;AAAE,aAAK,GAAG;MAAG;IACtB;AAEA,eAAW,KAAK,KAAK;AAAE,WAAK,GAAG,KAAK,CAAC,CAAC,kBAAkB,SAAS;IAAG;AAEpE,WAAOA;EACX;AAEO,MAAM,SAAS,CAACA,MAAI,MAAM,iBAAe,SAAO,QAAQ,gBAAgBA,MAAI,IAAI;AAChF,MAAM,QAAQ,IAAI,QAAM,QAAQ,OAAO,CAAC,GAAG,GAAG,GAAG;AAEjD,MAAM,UAAU,CAAC,GAAG,GAAG,WAAS,UAAQ;AAC3C,QAAI,MAAM,GAAG;AAAE,aAAO,aAAa,CAAC,IAAI;IAAM;AAE9C,UAAM,MAAM,CAAC;AACb,UAAM,OAAO,QAAQ,CAAC;AAEtB,SAAK,GAAG,CAAC,EAAE,KAAK,MAAM,KAAK,MAAI;AAC3B,UAAI,KAAK,IAAI,MAAM,KAAK;AAAE,YAAI,KAAK,IAAI;MAAG;AAC1C,aAAO,KAAK,IAAI;AAChB,UAAI,CAAC,YAAY,IAAI,QAAQ;AAAE,aAAK;MAAG;IAC3C,GAAG,IAAI;AAEP,aAAS,QAAQ,MAAM;AACnB,UAAI,CAAC,YAAY,IAAI,QAAQ;AAAE;MAAO;AACtC,UAAI,KAAK,IAAI;IACjB;AAEA,WAAO,WAAW,MAAM,CAAC,IAAI;EACjC;AAEO,MAAM,OAAO,CAAC,KAAK,OAAK,OAAO,gBAAc,UAAQ;AACxD,WAAO,KAAK,KAAK,CAAA,QAAK;AAClB,YAAM,EAAE,QAAQ,KAAK,KAAK,IAAI,IAAI;AAClC,UAAI,CAAC,QAAQ;AAAE;MAAQ;AACvB,aAAO,IAAI,IAAI,OAAO,QAAQ,KAAK,IAAI,SAAS,gBAAgB,IAAI,KAAK,GAAG,IAAI,GAAG;IACvF,GAAG,CAAC,OAAO,QAAQ,CAAC,KAAK,SAAO;AAC5B,YAAM,EAAE,QAAQ,KAAK,IAAI,IAAI;AAC7B,aAAO,IAAI,IAAI,OAAO,QAAQ,KAAK,IAAI,SAAS,IAAI,OAAO,CAAC;AAC5D,WAAK;IACT,GAAG,CAAA,QAAK;AACJ,YAAM,EAAE,KAAK,IAAI,IAAI;AACrB,UAAI,SAAS,IAAI,UAAU,IAAI,OAAO,IAAI,IAAI,KAAK,GAAG;IAC1D,CAAC;EACL;AAEO,MAAM,OAAO,CAAC,KAAK,OAAO,UAAQ;AACrC,QAAI,OAAO,MAAM;AAAE,aAAO;IAAI;AAC9B,QAAI,OAAO,QAAQ,UAAU;AAAE,aAAO;IAAK;AAE3C,QAAI,IAAI,IAAI,IAAI,OAAO,IAAI,GAAG,KAAK;AACnC,QAAI,CAAC,aAAI,UAAU,GAAG,GAAG;AAAE,aAAO,OAAO,IAAI,GAAG,KAAK,CAAC;IAAG;AACzD,QAAI,CAAC,aAAI,WAAW,KAAK,GAAG;AAAE,cAAQ,OAAO,IAAI;IAAI;AACrD,SAAK,KAAK,CAAC,EAAE,IAAI,MAAI;AACjB,YAAM,MAAM,KAAK,CAAC;AAClB,UAAI,KAAK;AAAE,cAAM,IAAE,IAAE,MAAI;MAAK;IAClC,GAAG,IAAI;AACP,WAAO;EACX;AAEO,MAAM,MAAM,CAAC,QAAQ,SAAO;AAC/B,QAAI,aAAI,WAAW,GAAG,GAAG;AAAE,aAAO,IAAI,GAAG,IAAI;IAAG;AAChD,QAAI,CAAC,aAAI,UAAU,GAAG,GAAG;AAAE,aAAO;IAAW;AAC7C,UAAM,MAAM,CAAC;AACb,SAAK,KAAK,CAAC,EAAC,IAAG,MAAI;AAAE,UAAI,KAAK,aAAI,WAAW,GAAG,IAAI,IAAI,GAAG,IAAI,IAAI,MAAS;IAAG,GAAG,IAAI;AACtF,WAAO;EACX;AAEO,MAAM,cAAc,CAAC,OAAO,EAAC,QAAQ,OAAO,IAAG,IAAE,CAAC,MAAI,CAAC,QAAQ,SAAO;AACzE,UAAM,QAAQ,SAAS,OAAO,KAAK,GAAG,IAAI,IAAI;AAC9C,UAAM,SAAS,MAAM,SAAS,KAAK,IAAI,QAAQ;AAE/C,WAAO,QAAQ,MAAM,QAAQ,GAAG,IAAI,IAAI;EAC5C;AAEO,MAAM,OAAO;IAChB,MAAM,CAACU,OAAM,WAAS,UAAQ;AAC1B,UAAI,aAAI,UAAUA,KAAI,GAAG;AAAE,eAAOA;MAAM;AACxC,UAAI;AAAE,eAAO,KAAK,MAAM,OAAO,IAAI,GAAGA,KAAI,CAAC;MAAG,SAAQ,GAAR;AAAa,YAAI,aAAa,MAAM;AAAE,gBAAM;QAAE;MAAE;IAClG;IACA,IAAI,CAAC,KAAK,cAAY,UAAQ;AAC1B,YAAM,UAAU,OAAO,IAAI,KAAK,gBAAgB,OAAO,IAAI,WAAW;AACtE,aAAO,KAAK,UAAU,aAAI,UAAU,GAAG,IAAI,MAAM,CAAC,GAAG,MAAM,OAAO;IACtE;EACJ;AEhLA,MAAO,eAAQ,aAAK,OAAO,cAAK;IAC5B;IACA;IACA,QAAO,CAAA,QAAK;AAAE,YAAM,MAAM,aAAa,KAAK,KAAK;AAAG,aAAO,MAAM,IAAI,OAAO,GAAG,IAAM,OAAO,GAAG;IAAG;IAClG,WAAU,CAAC,KAAK,SAAO,SAAO;AAAE,YAAM,MAAM,aAAa,KAAK,MAAM;AAAG,aAAO,MAAM,CAAC,CAAC,IAAI,UAAU;IAAO;IAC3G,YAAW,CAAA,QAAK,OAAO,QAAQ;IAC/B,MAAK,IAAI,MAAM,QAAQ,MAAM,GAAG,GAAG,CAAC;IACpC,MAAK,CAAC,SAAS,MAAM,QAAQ,MAAM,GAAG,GAAG,CAAC;IAC1C,KAAI,CAAC,SAAS,MAAM,QAAQ,MAAM,GAAG,GAAG,CAAC;IACzC,MAAK,CAAC,SAAS,MAAM,QAAQ,MAAM,GAAG,GAAG,CAAC;IAC1C,QAAO,CAAC,SAAS,MAAM,MAAM,MAAM,UAAU,MAAM,GAAG,CAAC;IACvD,KAAI,CAAC,SAAS,MAAM,MAAM,MAAM,OAAO,MAAM,GAAG,CAAC;IACjD,MAAK,CAAC,KAAKC,cAAW,UAAU,QAAQ,KAAK,QAAQA,WAAU,KAAK,CAAC;IACrE,MAAK,CAAC,KAAKA,cAAW,UAAU,QAAQ,KAAK,QAAQA,WAAU,KAAK,CAAC;IACrE,SAAQ,CAAC,KAAKA,cAAW,UAAU,QAAQ,KAAK,WAAWA,WAAU,KAAK,CAAC;IAC3E,KAAI,CAAC,KAAK,KAAKA,cAAW,UAAU,QAAQ,KAAK,OAAOA,aAAY,GAAG;IACvE,KAAI,CAAC,KAAK,KAAK,KAAKA,cAAW,UAAU,QAAQ,KAAK,OAAOA,aAAY,KAAK,GAAG;IACjF,KAAI,CAAC,KAAK,KAAKA,cAAW,SAAS,QAAQ,KAAK,OAAOA,aAAY,GAAG;IACtE,KAAI,CAAC,SAAO,IAAI,UAAQ,qEAAmE;AACvF,UAAI,IAAI;AAAI,gBAAU,OAAO,IAAI,GAAG,OAAO,KAAK;AAChD,aAAO,EAAE,SAAS,QAAQ;AAAE,aAAK,aAAI,OAAO,OAAO;MAAG;AACtD,aAAO;IACX;IACA,QAAO,CAAC,KAAK,KAAK,KAAK,QAAM;AACzB,YAAM,MAAM,aAAa,GAAG;AAC5B,UAAI,OAAO,IAAI,MAAM;AAAE,cAAM,IAAI,KAAK,GAAG;MAAG,WACnC,OAAO,QAAQ,UAAU;AAAE,eAAS,OAAO,KAAK,KAAK,KAAK,GAAG;MAAG;IAC7E;IACA,MAAA;IACA,GAAG;IACH,KAAA;IACA,QAAO,IAAI,aAAK,gBAAQ,EAAC,IAAK,UAAU,QAAS,aAAY,CAAC;EAClE,CAAC;AAED,iBAAO,QAAQ,cAAM;IACjB,MAAK,CAAA,MAAG,OAAO,iBAAiB,CAAC,GAAG,OAAO,0BAA0B,CAAC,CAAC;IACvE,MAAK,CAAA,MAAG,OAAO,KAAK,CAAC;IACrB,MAAK,CAAA,MAAG,OAAO,OAAO,CAAC;IACvB,SAAQ,CAAA,MAAG,OAAO,QAAQ,CAAC;EAC/B,CAAC;;;AC5CD,eAAI,OAAO,UAAU,QAAQ;IACzB,QAAO;IACP,KAAI,CAAC,KAAK,KAAK,QAAM;AACjB,UAAI,IAAI,KAAK,OAAO;AACpB,YAAM,QAAQ,OAAO,IAAI,QAAQ,QAAQ,KAAK,OAAO,IAAI,GAAG,GAAG,IAAI,MAAM;AACzE,UAAI,KAAK;AAAE,YAAI,KAAK,IAAI,GAAG,MAAM,IAAI,CAAC,MAAM,IAAE,GAAG;MAAG;AACpD,aAAO,OAAO,IAAI,UAAU,GAAG,OAAK,GAAG,OAAK,OAAK,CAAC;IACtD;IACA,IAAG;MACC,UAAS,CAAA,QAAK,CAAA,MAAG;MACjB,SAAQ,CAAA,QAAK,CAAC,CAAC;MACf,OAAM,CAAC,KAAK,UAAQ,QAAM,CAAC,GAAG,IAAE,MAAM,GAAG;MACzC,SAAQ,OAAM,QAAK;MACnB,QAAO,CAAA,QAAK,OAAO,GAAG;IAC1B;IACA,QAAO;MACH,GAAG,CAAC,MAAM,QAAQ,SAAO;AACrB,cAAM,IAAI,QAAQ,OAAO,OAAO,IAAI,OAAO,MAAM,IAAI,GAAG,CAAC,GAAG,CAAC,IAAI;AACjE,YAAI,MAAM,KAAK;AAAE,iBAAO,IAAE;QAAG;AAC7B,YAAI,MAAM,KAAK;AAAE,iBAAO,IAAE,IAAE,KAAK,IAAI,KAAK,MAAM,CAAC;QAAG;AACpD,gBAAQ,MAAM,MAAM,IAAI,IAAI,MAAM,MAAM,IAAI,IAAI,MAAM,MAAM,IAAI,IAAI,OAAO,KAAK;MACpF;MACA,OAAO,CAAC,KAAK,KAAK,QAAM;AACpB,cAAM,OAAO,OAAO,MAAM,KAAK,IAAI,KAAK,GAAG;AAC3C,eAAO,OAAO,OAAO,MAAM,KAAK,IAAI,KAAK,GAAG;MAChD;MACA,OAAO,CAAC,KAAK,KAAK,SAAO;AACrB,cAAM,IAAI,KAAK,IAAI,IAAI,OAAO,CAAC;AAC/B,eAAO,KAAK,QAAQ,OAAO,UAAU,OAAO,SAAS,OAAO,EAAE,MAAM,CAAC,IAAI;MAC7E;MACA,KAAK,CAAC,KAAK,QAAM;AACb,cAAM,IAAI,KAAK,IAAI,OAAO,IAAI,GAAG,GAAG,GAAG,IAAI,EAAE,QAAQ,IAAI,EAAE,QAAQ,GAAG,GAAG,IAAK,KAAK;AACnF,eAAQ,MAAM,QAAS,IAAI,IAAI,IAAI,IAAI,IAAO,CAAC,KAAK,CAAC,IAAK,IAAI;MAClE;MACA,QAAQ,CAAC,KAAK,KAAK,QAAM;AAAE,cAAM,IAAI,MAAM;AAAK,gBAAQ,KAAK,MAAM,OAAO,KAAK,IAAI;MAAK;MACxF,SAAS,CAAC,KAAK,KAAK,QAAM;AAAE,cAAM,IAAI,MAAM;AAAK,eAAO,KAAK,MAAM,OAAO,IAAI;MAAG;MACjF,WAAW,CAAC,KAAK,KAAK,QAAM;AAAE,cAAM,IAAI,MAAM;AAAK,eAAO,MAAM,IAAI;MAAK;MACzE,QAAQ,IAAI,SAAO;AACf,cAAM,OAAO,KAAK,IAAI,IAAI,KAAK,IAAI,GAAG,KAAK,IAAI,CAAA,QAAO,OAAO,IAAI,IAAI,KAAK,KAAK,CAAC,CAAC,CAAC;AAClF,eAAO,aAAI,KAAK,MAAM,KAAK,IAAI,CAAA,QAAO,KAAK,MAAM,MAAM,IAAI,CAAC,GAAG,QAAQ,IAAI;MAC/E;MACA,SAAS,IAAI,SAAO,KAAK,IAAI,CAAA,QAAO,MAAM,KAAK,IAAI;MACnD,WAAW,CAAC,KAAK,KAAK,KAAK,cAAY;AACnC,cAAO,IAAI,MAAM;AACjB,eAAO,OAAO,IAAI,IAAI,KAAK,IAAI,KAAK,MAAM,CAAC,GAAG,KAAK,IAAI,KAAK,MAAM,CAAC,CAAC;MACxE;MACA,MAAM,CAAC,KAAK,MAAM,KAAK,KAAK,MAAM,QAAM,SAAO;AAC3C,YAAI,IAAI,KAAK,IAAI,MAAM,IAAI,KAAK,IAAI,KAAK,KAAM,KAAK,MAAO,KAAM,KAAK,MAAO,IAAI;AACjF,YAAI,KAAK,QAAQ,KAAK,QAAQ,KAAK,KAAK,EAAE,MAAM,KAAK;AAAE,iBAAO;QAAG,WAAW,OAAO;AAAE,cAAI,OAAO,IAAI,MAAM,GAAG,GAAG,CAAC;QAAG;AACpH,YAAI,IAAI,KAAK,IAAI,IAAI,IAAI;AAAG,YAAK,IAAI,KAAO,KAAK,IAAI,KAAM,OAAO,IAAI,MAAM,IAAI,GAAG,GAAG,KAAK,OAAO,OAAO,MAAM,EAAE,IAAI,KAAK,KAAK,IAAI,KAAO;AAC1I,eAAQ,QAAS,OAAO,IAAI,MAAM,GAAG,GAAG,CAAC,IAAK;MAClD;MACA,SAAS,CAAC,KAAK,SAAO,KAAK,IAAI,GAAG,IAAE,KAAK,IAAI,OAAO,IAAI,GAAG,IAAI,CAAC;MAChE,OAAO,CAAA,QAAK;AAAC,YAAI,IAAI,KAAK,MAAM,GAAG,EAAE,SAAS,EAAE;AAAG,eAAO,EAAE,WAAW,IAAI,MAAM,IAAI;MAAE;MACvF,UAAU,CAAC,KAAK,YAAU;AACtB,kBAAU,OAAO,IAAI,GAAG,OAAO,KAAK;AACpC,cAAM,MAAM,QAAQ;AACpB,gBAAQ,OAAO,MAAM,OAAO,IAAI,SAAS,KAAK,MAAM,MAAM,GAAG,IAAG,CAAC,IAAI,MAAM,QAAQ,MAAM,GAAG;MAChG;IACJ;EACJ,CAAC;ACrDD,eAAI,OAAO,SAAS,OAAO;IACvB,QAAO;IACP,MAAK,CAAA,MAAG,MAAM,KAAK,CAAC;IACpB,MAAK,CAAA,MAAG,CAAC,GAAG,EAAE,KAAK,CAAC;IACpB,MAAK,CAAA,MAAG,CAAC,GAAG,EAAE,OAAO,CAAC;IACtB,SAAQ,CAAA,MAAG,CAAC,GAAG,EAAE,QAAQ,CAAC;IAC1B,IAAG;MACC,UAAS,CAAA,QAAK,CAAA,MAAG;MACjB,SAAQ,CAAA,QAAK,MAAM,IAAI,OAAO,GAAG;MACjC,QAAO,CAAA,QAAK,IAAI;MAChB,QAAO,CAAC,KAAK,UAAQ,aAAI,KAAK,KAAK,KAAK;MACxC,QAAO,CAAA,QAAK,OAAO,OAAO,CAAC,GAAG,GAAG;MACjC,SAAS,OAAM,QAAK;MACpB,OAAM,CAAC,KAAK,UAAQ,aAAI,KAAK,KAAK,SAAS,OAAO,QAAQ,GAAG;MAC7D,QAAO,CAAC,KAAK,UAAQ,aAAI,KAAK,KAAK,SAAS,OAAO,QAAQ,GAAG;IAClE;IACA,QAAO;MACH,MAAK,CAAC,KAAKC,MAAI,SAAO;AAClB,SAAC,IAAIA,IAAE,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,GAAG,IAAIA,IAAE,CAAC;AAC1C,eAAO;MACX;MACA,SAAQ,CAAC,QAAM;AACX,iBAAS,IAAI,IAAI,SAAS,GAAG,IAAI,GAAG,KAAK;AAAC,gBAAM,IAAI,KAAK,KAAK,KAAK,MAAM,KAAK,OAAO,KAAK,IAAI,EAAE,GAAG,CAAC;QAAE;AACtG,eAAO;MACX;MACA,OAAM,CAAC,KAAK,OAAO,YAAU;AACzB,kBAAU,SAAS,IAAI,IAAI,SAAS,CAAA,MAAG,KAAG,IAAI;AAC9C,eAAO,UAAU,QAAQ,IAAI,OAAO,OAAO,IAAI,IAAI,IAAI,CAAA,MAAG,QAAQ,CAAC,IAAI,IAAI,MAAS;MACxF;MACA,SAAQ,CAAC,GAAG,GAAG,YAAU,UAAQ;AAC7B,YAAI,CAAC,MAAM,QAAQ,CAAC,KAAK,CAAC,MAAM,QAAQ,CAAC,KAAK,EAAE,WAAW,EAAE,QAAQ;AAAE,iBAAO;QAAO;AACrF,cAAM,IAAI,oBAAI,IAAI;AAClB,cAAM,KAAK,CAAC,GAAG,QAAM;AACjB,gBAAM,KAAK,EAAE,IAAI,CAAC,KAAK,KAAK;AAC5B,cAAI,CAAC,GAAG;AAAE,cAAE,OAAO,CAAC;UAAG,OAAO;AAAE,cAAE,IAAI,GAAG,CAAC;UAAG;QACjD;AAEA,iBAAS,IAAE,GAAG,IAAI,EAAE,QAAQ,KAAK;AAC7B,cAAI,EAAE,CAAC,MAAM,EAAE,CAAC,GAAG;AAAE;UAAU;AAC/B,cAAI,WAAW;AAAE,mBAAO;UAAO;AAC/B,aAAG,EAAE,CAAC,GAAG,CAAC;AACV,aAAG,EAAE,CAAC,GAAG,EAAE;QACf;AAEA,eAAO,CAAC,EAAE;MACd;MACA,UAAS,CAAC,KAAK,MAAM,aAAW;AAC5B,YAAI,CAAC,aAAI,WAAW,QAAQ,GAAG;AAAE,qBAAW,CAAA,MAAG;QAAG;AAClD,eAAO,KAAK,IAAI,GAAG,IAAI,KAAK;AAC5B,cAAM,IAAI,CAAC;AACX,YAAI,CAAC,MAAM,QAAQ,GAAG,GAAG;AAAE,iBAAO;QAAG;AACrC,iBAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,KAAK,MAAM;AAAE,YAAE,KAAK,SAAS,IAAI,MAAM,GAAG,IAAI,IAAI,GAAG,EAAE,QAAQ,MAAM,IAAI,MAAM,CAAC;QAAG;AACnH,eAAO;MACX;IACJ;EACJ,CAAC;AC/DD,eAAI,OAAO,WAAW,SAAS;IAC3B,QAAO;IACP,KAAI,CAAC,YAAU,QAAK,KAAK,OAAO,IAAI;IACpC,IAAG;MACC,UAAS,CAAA,QAAK,CAAA,MAAG;IACrB;EACJ,CAAC;ACND,eAAI,OAAO,QAAQ,MAAM;IACrB,QAAO,CAAA,MAAG,CAAC,IAAI,IAAI,KAAK,IAAI,IAAI,KAAK,CAAC;IACtC,KAAI,CAAC,MAAMA,SAAK,IAAI,KAAK,OAAO,IAAI,IAAK,IAAI,KAAK,IAAI,EAAG,QAAQ,GAAGA,OAAM,IAAI,KAAKA,IAAE,EAAG,QAAQ,IAAI,KAAK,IAAI,IAAE,CAAC,CAAC;IACjH,IAAG;MACC,UAAS,CAAA,SAAM,CAAA,MAAG;IACtB;EACJ,CAAC;ACND,eAAI,OAAO,SAAS,OAAO;IACvB,QAAO;IACP,KAAI,IAAI,MAAI,IAAI,MAAM,aAAI,IAAI,OAAO,GAAG,CAAC,CAAC;IAC1C,IAAG;MACC,UAAS,CAAA,QAAK,CAAA,MAAG;IACrB;EACJ,CAAC;ACND,eAAI,OAAO,YAAY,UAAU;IAC7B,QAAQ;IACR,MAAM,CAAA,MAAK,OAAO,iBAAkB,EAAE,CAAC,EAAE,IAAI,GAAG,IAAI,MAAM,EAAE,GAAG,CAAC,EAAE,EAAG,EAAE,IAAI,GAAG,OAAO,0BAA0B,CAAC,CAAC;IACjH,QAAQ;MACJ,WAAW,CAAC,MAAM,QAAQ,aAAW,QAAQ;AACzC,cAAM,UAAU,CAAC;AACjB,cAAM,OAAO,CAAC;AACd,iBAAS,IAAE,GAAG,IAAE,YAAY,KAAK;AAAE,eAAK,CAAC,IAAI,OAAO,IAAI,CAAA,MAAG,EAAE,CAAC;QAAG;AAEjE,mBAAW,OAAO,MAAM;AACpB,gBAAM,MAAM,KAAK,GAAG;AACpB,cAAI,OAAO,QAAQ,YAAY;AAAE;UAAU;AAC3C,gBAAMC,OAAM,CAAC;AACb,gBAAM,YAAY,YAAY,IAAI;AAClC,mBAAS,IAAE,GAAG,IAAE,YAAY,KAAK;AAAE,YAAAA,KAAI,KAAK,EAAC,QAAO,KAAK,CAAC,GAAG,QAAO,IAAI,GAAG,KAAK,CAAC,CAAC,EAAC,CAAC;UAAG;AACvF,gBAAM,UAAU,YAAY,IAAI;AAChC,gBAAM,WAAW,UAAU;AAC3B,kBAAQ,KAAK,EAAE,MAAK,IAAI,QAAQ,KAAK,UAAU,KAAAA,KAAI,CAAC;QACxD;AAEA,eAAO,QAAQ,KAAK,CAAC,GAAG,MAAM,EAAE,WAAW,EAAE,QAAQ;MACzD;IACJ;IACA,IAAI;MACA,KAAK,CAAC,QAAQ,SAAS,IAAI,GAAG,IAAI;MAClC,SAAS,OAAO,QAAQ,SAAS,MAAM,IAAI,GAAG,IAAI;IACtD;EACJ,CAAC;AC3BD,eAAI,OAAO,OAAO,KAAK;IACnB,MAAK,CAAA,MAAG,IAAI,IAAI,CAAC;IACjB,MAAK,CAAA,MAAG,CAAC,GAAG,EAAE,KAAK,CAAC;IACpB,MAAK,CAAA,MAAG,CAAC,GAAG,EAAE,OAAO,CAAC;IACtB,SAAQ,CAAA,MAAG,CAAC,GAAG,EAAE,QAAQ,CAAC;IAC1B,KAAI,CAAC,GAAE,MAAI,EAAE,IAAI,CAAC;IAClB,KAAI,CAAC,GAAE,GAAE,MAAI,EAAE,IAAI,GAAE,CAAC;IACtB,KAAI,CAAC,GAAE,MAAI,EAAE,OAAO,CAAC;IACrB,IAAG;MACC,UAAS,CAAA,QAAK,CAAA,MAAG;IACrB;EACJ,CAAC;ACXD,eAAI,OAAO,OAAO,QAAQ;IACtB,QAAO,CAAA,MAAG;IACV,IAAG;IACH,QAAO;IACP,IAAG,CAAA,MAAG;EACV,CAAC;ACLD,MAAM,SAAS,CAAC,KAAK,aAAW;AAC5B,UAAM,IAAI,CAAC;AACX,aAAS,KAAK,KAAK;AAAE,UAAI,SAAS,IAAI,CAAC,GAAG,CAAC,GAAG;AAAE,UAAE,CAAC,IAAI,IAAI,CAAC;MAAG;IAAE;AACjE,WAAO;EACX;AAEA,eAAI,OAAO,UAAU,QAAQ;IACzB,QAAO;IACP,MAAK,CAAA,MAAG,OAAO,iBAAiB,CAAC,GAAG,OAAO,0BAA0B,CAAC,CAAC;IACvE,MAAK,CAAA,MAAG,OAAO,KAAK,CAAC;IACrB,MAAK,CAAA,MAAG,OAAO,OAAO,CAAC;IACvB,SAAQ,CAAA,MAAG,OAAO,QAAQ,CAAC;IAC3B,QAAO;MACH;MACA,SAAQ,CAAC,KAAK,OAAK,CAAC,MAAI,OAAO,KAAK,CAAC,GAAG,MAAI,CAAC,KAAK,SAAS,CAAC,CAAC;MAC7D,SAAQ,CAAC,KAAK,OAAK,CAAC,MAAI,OAAO,KAAK,CAAC,GAAG,MAAI,KAAK,SAAS,CAAC,CAAC;IAChE;IACA,IAAG;MACC,UAAS,CAAA,QAAK,CAAA,MAAG;MACjB,QAAO,CAAA,QAAK,OAAO,aAAI,KAAK,GAAG,GAAG,CAAC;MACnC,SAAQ,CAAA,QAAK,aAAI,OAAO,OAAO,GAAG;MAClC,QAAO,CAAA,QAAK,OAAO,OAAO,GAAG;MAC7B,OAAM,CAAA,QAAK,OAAO,OAAO,GAAG;MAC5B,QAAO,CAAA,QAAM,IAAI,YAAY,IAAI,aAAa,OAAO,UAAU,WAAY,IAAI,SAAS,IAAI,aAAI,KAAK,GAAG,GAAG;MAC3G,SAAQ,OAAM,QAAK;MACnB,OAAM,CAAA,QAAK,aAAI,KAAK,GAAG,GAAG;MAC1B,QAAO,CAAC,KAAK,UAAQ,aAAI,KAAK,KAAK,SAAS,OAAO,QAAQ,GAAG;IAClE;EACJ,CAAC;AC5BD,eAAI,OAAO,WAAW,SAAS;IAC3B,QAAO,CAAA,MAAG,IAAI,QAAQ,aAAI,KAAK,SAAS,GAAG,CAAA,MAAG,EAAE,CAAC,CAAC;EACtD,CAAC;ACFD,eAAI,OAAO,UAAU,QAAQ;IACzB,QAAO;IACP,MAAK,CAAA,MAAG,OAAO,EAAE,MAAM;IACvB,QAAO;MACH,KAAI;QACA,MAAK;QACL,QAAO;QACP,MAAK;QACL,KAAI;QACJ,OAAO;QACP,IAAG;QACH,QAAQ;QACR,aAAa;MACjB;IACJ;IACA,IAAG;MACC,UAAS,CAAA,UAAO,CAAA,MAAG;MACnB,QAAO,CAAA,UAAO,MAAM;IACxB;EACJ,CAAC;ACnBD,eAAI,OAAO,OAAO,KAAK;IACnB,MAAK,CAAA,MAAG,IAAI,IAAI,CAAC;IACjB,MAAK,CAAA,MAAG,CAAC,GAAG,EAAE,KAAK,CAAC;IACpB,MAAK,CAAA,MAAG,CAAC,GAAG,EAAE,OAAO,CAAC;IACtB,SAAQ,CAAA,MAAG,CAAC,GAAG,EAAE,QAAQ,CAAC;IAC1B,KAAI,CAAC,GAAE,MAAI,EAAE,IAAI,CAAC,IAAE,IAAE;IACtB,KAAI,CAAC,GAAE,GAAE,MAAI,EAAE,IAAI,CAAC,IAAE,IAAE;IACxB,KAAI,CAAC,GAAE,MAAI,EAAE,OAAO,CAAC;IACrB,IAAG;MACC,KAAI,CAAA,QAAK,MAAM,KAAK,GAAG;MACvB,UAAS,CAAA,QAAK,CAAA,MAAG;MACjB,SAAQ,CAAA,QAAK,IAAI,IAAI,OAAO,GAAG;MAC/B,QAAO,CAAA,QAAK,aAAI,MAAM,GAAG;MACzB,SAAQ,OAAM,QAAK;IACvB;EACJ,CAAC;ACfD,MAAM,WAAW;IACb,OAAM;IAAK,OAAM;IAAK,OAAM;IAAK,OAAM;IAAK,OAAM;IAAK,MAAK;IAAK,OAAM;IAAK,MAAK;IAAQ,OAAM;IAAW,OAAM;IAChH,OAAM;IAAc,KAAI;IAAU,OAAM;IAAY,OAAM;IAAgB,KAAI;IAC9E,OAAM;IACN,MAAK;EACT;AAEA,MAAM,YAAY;IACd,IAAG;IACH,MAAK;EACT;AAEA,MAAM,QAAQ,CAAC,MAAM,SAAO;AACxB,WAAO,QAAQ,OAAO,KAAK,OAAO,IAAI,GAAG,OAAO,QAAQ,OAAO,KAAK,OAAO,IAAI;AAC/E,aAAS,IAAE,GAAG,MAAM,KAAK;AACrB,YAAM,KAAK,KAAK,CAAC,GAAG,KAAK,KAAK,CAAC;AAC/B,UAAI,CAAC,MAAM,CAAC,IAAI;AAAE,eAAO,CAAC;MAAI,WAAW,OAAO,IAAI;AAAE;MAAU;AAChE,YAAM,KAAK,OAAO,IAAI,OAAO,EAAE,GAAG,KAAK,OAAO,IAAI,OAAO,EAAE;AAC3D,UAAI,OAAO,IAAI;AAAE,gBAAQ,GAAG,WAAW,CAAC,KAAK,MAAM,GAAG,WAAW,CAAC,KAAK;MAAI;AAC3E,YAAM,KAAK,GAAG,YAAY,GAAG,KAAK,GAAG,YAAY;AACjD,UAAI,OAAO,IAAI;AAAE,gBAAQ,GAAG,WAAW,CAAC,KAAK,MAAM,GAAG,WAAW,CAAC,KAAK;MAAI;AAC3E,cAAQ,GAAG,WAAW,CAAC,KAAK,MAAM,GAAG,WAAW,CAAC,KAAK;IAC1D;EACJ;AAEA,eAAI,OAAO,UAAU,QAAQ;IACzB,QAAO,CAAA,QAAK,OAAO,OAAO,KAAK,OAAO,GAAG;IACzC,KAAI,CAAC,KAAK,KAAK,QAAM;AACjB,YAAM,IAAI,CAAC,wBAAwB,QAAQ,GAAG,IAAI,EAAE,CAAC,EAAE,UAAQ,EAAE,CAAC,EAAE,SAAO,EAAE,CAAC,EAAE;AAChF,YAAM,IAAI,OAAO,IAAI,IAAI,KAAK,IAAI,KAAK,CAAC,GAAG,KAAK,GAAG;AACnD,UAAI,IAAI,QAAQ,IAAI,IAAI,CAAC,GAAG,IAAI;AAChC,aAAO,EAAE,SAAS,GAAG;AAAC,aAAK,aAAI,OAAO,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC;MAAE;AACpD,aAAO;IACX;IACA,IAAG;MACC,UAAS,CAAA,QAAK,CAAA,MAAG;MACjB,SAAQ,CAAA,QAAK,CAAC,CAAC,KAAK,SAAS,QAAQ,aAAa,KAAK,EAAE,SAAS,IAAI,YAAY,CAAC;MACnF,OAAM,CAAC,KAAK,UAAQ,MAAM,IAAI,MAAM,KAAK,IAAI,CAAC;MAC9C,QAAO,CAAA,QAAK,aAAI,KAAK,KAAK,GAAG;MAC7B,SAAQ,OAAM,QAAK;MACnB,QAAO,CAAC,KAAK,WAAS;AAClB,YAAI,CAAC,KAAK;AAAE,iBAAO;QAAG,WAAW,QAAQ;AAAE,iBAAO,OAAO,GAAG;QAAG;AAC/D,cAAM,QAAQ,OAAO,GAAG,EAAE,QAAQ,WAAW,GAAG,EAAE,MAAM,OAAO,IAAI,IAAI,MAAM;AAC7E,YAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG;AAAE,iBAAO;QAAG;AACrC,eAAO,OAAO,MAAM,CAAC,EAAE,WAAW,KAAK,EAAE,EAAE,QAAQ,KAAK,GAAG,CAAC,KAAK;MACrE;IACJ;IACA,QAAO;MACH,WAAW,CAAA,QAAK,CAAC,MAAM,OAAO,GAAG,CAAC;MAClC,OAAO,CAAA,QAAK,IAAI,YAAY;MAC5B,OAAO,CAAA,QAAK,IAAI,YAAY;MAC5B,YAAY,CAAA,QAAK,IAAI,OAAO,CAAC,EAAE,YAAY,IAAI,IAAI,MAAM,CAAC;MAC1D,WAAW,CAAA,QAAK,IAAI,QAAQ,kBAAkB,GAAG,EAAE,KAAK,EAAE,MAAM,GAAG,EAAE,IAAI,CAAC,GAAG,MAAI,IAAI,OAAO,IAAI,WAAW,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE;MAC1H,YAAY,CAAA,QAAK,IAAI,QAAQ,kBAAkB,GAAG,EAAE,KAAK,EAAE,MAAM,GAAG,EAAE,IAAI,CAAA,MAAG,OAAO,IAAI,WAAW,CAAC,CAAC,EAAE,KAAK,EAAE;MAC9G,WAAU,CAAA,QAAK,IAAI,QAAQ,kBAAkB,GAAG,EAAE,KAAK,EAAE,WAAW,KAAK,GAAG;MAC5E,QAAQ,CAAA,QAAK;AACT,YAAI,IAAI;AACR,iBAAS,KAAK,KAAK;AAAE,cAAI,IAAI,UAAU,KAAK,QAAQ,CAAC;AAAG,eAAM,KAAK,IAAI,UAAU,GAAG,CAAC,IAAI;QAAI;AAC7F,eAAO;MACX;MACA,QAAQ,CAAC,KAAK,WAAS,IAAI,WAAW,QAAQ,EAAE,EAAE,QAAQ,cAAc,GAAG,EAAE,KAAK;MAClF,UAAU,CAAC,KAAK,WAAS,OAAO,IAAI,OAAO,OAAO,IAAI,OAAO,KAAK,MAAM,CAAC,EAAE,YAAY;MACvF,OAAO,CAAC,MAAM,MAAM,MAAI,SAAQ,MAAM,MAAM,IAAI,MAAM,MAAO,OAAO;MACpE,QAAQ,CAAC,KAAK,QAAM,OAAO,IAAI,MAAM,OAAO,IAAI,IAAI,KAAK,IAAI,MAAM,GAAG,GAAG,IAAI,MAAM;MACnF,OAAO,CAAC,KAAK,YAAU,KAAK,aAAW,QAAM,MAAM,YAAU,MAAI,aAAa;MAC9E,QAAQ,CAAC,KAAK,OAAO,YAAY,SAAO;AACpC,cAAM,IAAI,OAAO,IAAI,OAAO,KAAK,KAAK,GAAG,IAAI,OAAO,IAAI,MAAM,SAAS,GAAG,IAAI,SAAO,CAAC;AACtF,eAAO,IAAI,MAAM,GAAG,CAAC,IAAI,OAAO,IAAI,GAAG,MAAM,EAAE,IAAI,IAAI,MAAM,IAAE,CAAC;MACpE;MACA,MAAM,CAAC,KAAK,KAAK,eAAa;AAC1B,YAAI,CAAC,KAAK;AAAE,iBAAO;QAAK;AAAE,YAAI,IAAI,IAAI,IAAI,KAAK,IAAI,SAAS,GAAG,KAAK,OAAO,UAAK,IAAK,eAAe;AACpG,iBAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,KAAK;AAAE,eAAM,MAAM,EAAE,CAAC,MAAM,QAAQ,EAAE,CAAC,MAAM,OAAQ,EAAE,CAAC,IAAI,EAAE,SAAS,IAAI,aAAI,OAAO,CAAC,IAAI;QAAG;AAC9H,eAAO;MACX;MACA,MAAM,CAAC,KAAK,cAAY;AACpB,cAAM,IAAI,IAAI,QAAQ,SAAS;AAC/B,eAAO,KAAK,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,MAAM,GAAG,CAAC,GAAG,IAAI,MAAM,IAAI,UAAU,MAAM,CAAC;MACjF;MACA,aAAa,CAAC,IAAI,IAAI,UAAQ;AAC1B,YAAI,IAAM,UAAU,QAAS,CAAC,IAAI,EAAE,IAAI,CAAC,OAAO,IAAI,SAAS,IAAI,KAAK,GAAG,OAAO,IAAI,SAAS,IAAI,KAAK,CAAC;AACvG,YAAI,EAAE,CAAC,MAAM,EAAE,CAAC,GAAG;AAAE,iBAAO;QAAG,WAAW,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG;AAAE,iBAAO;QAAG;AACtE,YAAI,IAAI,CAAC,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,MAAM,GAAG,IAAI,CAAC;AAAG,YAAI,EAAE,CAAC,IAAI,EAAE,CAAC,GAAG;AAAE,YAAE,QAAQ;AAAG,YAAE,QAAQ;QAAG;AACzF,iBAAS,IAAI,GAAG,KAAK,EAAE,CAAC,GAAG,KAAK;AAC5B,cAAI,KAAK;AAAG,mBAAS,IAAI,GAAG,KAAK,EAAE,CAAC,GAAG,KAAK;AACxC,gBAAI,MAAM,GAAG;AAAE,gBAAE,CAAC,IAAI;YAAG,WAAW,IAAI,GAAG;AACvC,kBAAI,KAAK,EAAE,IAAI,CAAC;AAChB,kBAAI,EAAE,CAAC,EAAE,OAAO,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,OAAO,IAAI,CAAC,GAAG;AAAE,qBAAK,KAAK,IAAI,KAAK,IAAI,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,IAAI;cAAG;AAAE,gBAAE,IAAI,CAAC,IAAI;AAAI,mBAAK;YACtH;UACJ;AAAE,cAAI,IAAI,GAAG;AAAE,cAAE,EAAE,CAAC,CAAC,IAAI;UAAI;QACjC;AACA,gBAAQ,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,KAAK,WAAW,EAAE,CAAC,CAAC;MAC7C;MACA,QAAQ,CAAC,KAAK,WAAS;AACnB,YAAI,IAAI,CAAC,GAAG,IAAI,IAAI,SAAS,GAAG,IAAI,IAAI,SAAS,GAAG,IAAI,KAAK,IAAI,OAAQ,UAAU,EAAE;AACrF,eAAO,EAAE,SAAS,GAAG;AAAE,cAAI,IAAI,OAAO,IAAI,IAAI,GAAG,CAAC;AAAG,YAAE,KAAK,CAAC,GAAG,OAAO,IAAI,YAAY,GAAG,GAAG,CAAC,CAAC;QAAG;AAClG,eAAO,EAAE,KAAK,CAAC,GAAG,MAAI,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;MAC3C;IACJ;EACJ,CAAC;AClGD,MAAMD,MAAK,CAAA,QAAK,OAAO,GAAG,EAAE,MAAM,GAAG,EAAE;AAEvC,eAAI,OAAO,UAAU,QAAQ;IACzB,QAAO;IACP,MAAK,CAAA,MAAG,OAAOA,IAAG,CAAC,CAAC;IACpB,KAAI,IAAI,MAAI,OAAO,aAAI,IAAI,OAAO,GAAG,CAAC,CAAC;IACvC,IAAG;MACC,UAAS,CAAA,QAAK,CAAA,MAAG;IACrB;EACJ,CAAC;ACTD,eAAI,OAAO,WAAW,SAAS;IAC3B,MAAK,CAAA,MAAG,oBAAI,QAAQ;IACpB,KAAI,CAAC,GAAE,MAAI,EAAE,IAAI,CAAC;IAClB,KAAI,CAAC,GAAE,GAAE,MAAI,EAAE,IAAI,GAAE,CAAC;IACtB,KAAI,CAAC,GAAE,MAAI,EAAE,OAAO,CAAC;IACrB,IAAG;MACC,UAAS,CAAA,QAAK,CAAA,MAAG;IACrB;EACJ,CAAC;ACLD,MAAO,cAAQ;;;ACHf,MAAM,EAAE,OAAAE,QAAO,QAAAC,QAAO,IAAI,YAAI;AAEvB,MAAM,QAAQ,oBAAI,QAAQ;AAEjC,MAAM,aAAa,CAAC,UAAU,OAAO;AAC9B,MAAM,SAASA,QAAO,IAAI,CAAC,GAAG,CAAC,GAAG;IACrC,WAAU,CAAA,MAAG,CAAC,EAAE;MACZ,GAAG,WAAW,IAAI,CAAA,MAAG,CAAC,OAAO,UAAU,QAAQ,EAAE,IAAI,CAAA,MAAG,CAAC,GAAG,GAAG,IAAE,OAAO,IAAI,WAAW,CAAC,CAAC,CAAC,CAAC;IAC/F;IACA,OAAM,CAAA,MAAG,CAAC,EAAE;MACR,GAAG,WAAW,IAAI,CAAA,MAAG,CAAC,UAAU,MAAM,EAAE,IAAI,CAAA,MAAG,CAAC,GAAG,GAAG,IAAE,OAAO,IAAI,WAAW,CAAC,CAAC,CAAC,CAAC;IACtF;EACJ,CAAC;AAmBM,MAAM,UAAU,CAAA,MAAG;AAEnB,MAAM,UAAU,CAAA,MAAG;;;ACnC1B;AAAA,MAAIC,aAAY,OAAO;AACvB,MAAIC,YAAW,CAAC,QAAQ,QAAQ;AAC9B,aAAS,QAAQ;AACf,MAAAD,WAAU,QAAQ,MAAM,EAAE,KAAK,IAAI,IAAI,GAAG,YAAY,KAAK,CAAC;AAAA,EAChE;;;ACJA;AACA,MAAIE,SAAQ,CAAC,KAAK,MAAMC,QAAOC,cAAa,MAAM,eAAe,UAAU;AACzE,WAAO,OAAO,eAAe,KAAK,MAAM,EAAE,YAAAA,aAAY,OAAAD,QAAO,aAAa,CAAC;AAAA,EAC7E;AACA,MAAI,SAAS,CAAC,KAAK,aAAaC,cAAa,MAAM,eAAe,UAAU;AAC1E,eAAW,QAAQ,aAAa;AAC9B,YAAMD,SAAQ,YAAY,IAAI;AAC9B,MAAAD,OAAM,KAAK,MAAMC,QAAOC,aAAY,YAAY;AAAA,IAClD;AACA,WAAO;AAAA,EACT;AAGA,MAAIC,WAAU,CAAC,KAAK,MAAM,KAAKD,cAAa,MAAM,eAAe,UAAU;AACzE,WAAO,OAAO,eAAe,KAAK,MAAM,EAAE,YAAAA,aAAY,KAAK,aAAa,CAAC;AAAA,EAC3E;AACA,MAAI,WAAW,CAAC,KAAK,WAAWA,cAAa,MAAM,eAAe,UAAU;AAC1E,eAAW,QAAQ,WAAW;AAC5B,YAAM,MAAM,UAAU,IAAI;AAC1B,MAAAC,SAAQ,KAAK,MAAM,KAAKD,aAAY,YAAY;AAAA,IAClD;AACA,WAAO;AAAA,EACT;AAGA,MAAIE,QAAO,CAAC,KAAK,MAAM,MAAM,KAAK,KAAKF,cAAa,MAAM,eAAe,UAAU;AACjF,WAAO,OAAO,eAAe,KAAK,MAAM;AAAA,MACtC,KAAK,MAAM,CAAC,MAAM,KAAK,IAAI,IAAI,IAAI,GAAG,KAAK,IAAI,GAAG,IAAI,IAAI;AAAA,MAC1D,KAAK,MAAM,CAAC,MAAM,IAAI,KAAK,IAAI,GAAG,IAAI,IAAI,CAAC,MAAM,KAAK,IAAI;AAAA,MAC1D,YAAAA;AAAA,MACA;AAAA,IACF,CAAC;AAAA,EACH;AAiBA,MAAIG,UAAS,CAAC,KAAK,MAAM,MAAM,OAAO,KAAKC,cAAa,MAAM,eAAe,UAAU;AACrF,UAAM,YAAY,CAAC,MAAM;AACvB,UAAI,CAAC,KAAK,eAAe,IAAI,GAAG;AAC9B,YAAI,KAAK,IAAI,IAAI,MAAM,IAAI;AAAA,MAC7B;AACA,aAAO,MAAM,IAAI,GAAG,IAAI,IAAI;AAAA,IAC9B;AACA,WAAOC,MAAK,KAAK,MAAM,MAAM,MAAM,WAAWD,aAAY,YAAY;AAAA,EACxE;AACA,MAAI,UAAU,CAAC,KAAK,MAAM,oBAAoBA,cAAa,SAAS;AAClE,eAAW,QAAQ,oBAAoB;AACrC,YAAM,WAAW,mBAAmB,IAAI;AACxC,UAAI,OAAO;AACX,UAAI,OAAO,aAAa,UAAU;AAChC,gBAAQ;AAAA,MACV,OAAO;AACL,gBAAQ,SAAS,SAAS,SAAS,CAAC;AACpC,cAAM,SAAS,OAAO,SAAS,CAAC;AAAA,MAClC;AACA,MAAAD,QAAO,KAAK,MAAM,MAAM,OAAO,KAAKC,WAAU;AAAA,IAChD;AACA,WAAO;AAAA,EACT;;;;ACrEO,MAAM,YAAY,CAAC,KAAK,KAAG,SAAO;AACrC,QAAI,CAAC,KAAK;AAAE,aAAO;IAAK;AACxB,QAAI,CAAC,IAAI,WAAW,GAAG,CAAC,CAAC,GAAG;AAAE,aAAO;IAAK;AAC1C,QAAI,CAAC,IAAI,SAAS,GAAG,CAAC,CAAC,GAAG;AAAE;IAAQ;AACpC,WAAO,IAAI,MAAM,GAAG,EAAE,EAAE,KAAK;EACjC;AAEA,MAAM,cAAc,CAAA,SAAM;AACtB,UAAM,MAAM,KAAK,QAAQ,GAAG;AAC5B,QAAI,MAAM,GAAG;AAAE,YAAM,MAAO,kEAAmE;IAAG;AAClG,WAAO,KAAK,MAAM,GAAG;AAErB,UAAM,MAAM,KAAK,QAAQ,GAAG,IAAE;AAC9B,QAAI,OAAO,GAAG;AAAE,YAAM,MAAO,mEAAoE;IAAG;AAEpG,UAAM,OAAO,KAAK,MAAM,GAAG,GAAG,EAAE,KAAK;AACrC,UAAM,OAAO,KAAK,MAAM,GAAG,EAAE,KAAK;AAElC,QAAI,CAAC,KAAK,WAAW,GAAG,KAAK,CAAC,KAAK,SAAS,GAAG,GAAG;AAC9C,YAAM,MAAO,yDAA0D;IAC3E;AAEA,WAAO,CAAC,MAAM,KAAK,MAAM,GAAG,EAAE,EAAE,KAAK,CAAC;EAC1C;AAEA,MAAM,aAAa,CAAA,SAAM;AACrB,UAAM,QAAQ,KAAK,MAAM,IAAI;AAC7B,QAAI,MAAM,UAAU,GAAG;AACnB,YAAM,MAAO,iDAAkD;IACnE;AAEA,UAAM,OAAO,MAAM,MAAM,EAAE,KAAK;AAChC,QAAI,OAAO,MAAM,KAAK,IAAI,EAAE,KAAK;AAEjC,QAAI,CAAC,KAAK,WAAW,GAAG,GAAG;AAAE,aAAO,UAAU;IAAQ,WAC7C,CAAC,KAAK,SAAS,GAAG,GAAG;AAC1B,YAAM,MAAO,yDAA0D;IAC3E,OACK;AAAE,aAAO,KAAK,MAAM,GAAG,EAAE,EAAE,KAAK;IAAG;AAExC,WAAO,CAAC,MAAM,IAAI;EACtB;AAEO,MAAME,SAAQ,CAAA,SAAM;AACvB,WAAO,KAAK,KAAK,EAAE,QAAQ,QAAQ,GAAG;AACtC,WAAO,KAAK,WAAW,UAAU,IAAI,YAAY,IAAI,IAAI,WAAW,IAAI;EAC5E;AC9CO,MAAM,YAAY;AAClB,MAAM,YAAY,CAAC,MAAMC,MAAG,CAAC,MAAI;AACpC,QAAI,QAAQ,MAAM;AAAE,YAAM,MAAM,6BAA6B;IAAG;AAChE,WAAO,UAAU,KAAK,KAAK,CAAC;AAE5B,QAAI,MAAM;AACN,eAAS,KAAK,KAAK,MAAM,GAAG,GAAG;AAC3B,YAAI,EAAE,KAAK;AACX,YAAI,CAAC,UAAU,KAAK,CAAC,GAAG;AAAE,gBAAM,MAAM,kCAAkC;QAAG;AAC3E,QAAAA,IAAG,KAAK,CAAC;MACb;IACJ;AAEA,WAAOA;EACX;ACZO,MAAM,UAAU,CAAA,OAAI;AACvB,UAAM,IAAI,OAAO;AACjB,QAAI,MAAM,YAAY;AAAE,YAAM,MAAM,qCAAqC;IAAG;AAE5E,UAAM,IAAID,OAAM,GAAG,SAAS,CAAC;AAE7B,QAAI,OAAO,UAAU,EAAE,CAAC,CAAC;AACzB,QAAI,CAAC,QAAQ,CAAC,UAAU,KAAK,IAAI,GAAG;AAAE,aAAO,IAAI;IAAS;AAE1D,QAAI,OAAO,EAAE,CAAC;AACd,QAAI,CAAC,KAAK,WAAW,QAAQ,GAAG;AAAE,aAAO,IAAI;IAAS,OACjD;AACD,aAAO,KAAK,MAAM,CAAC,EAAE,KAAK,EAAE,QAAQ,aAAa,EAAE;AACnD,UAAI,CAAC,MAAM;AAAE,eAAO;MAAM,WACjB,KAAK,WAAW,GAAG,GAAG;AAAE,eAAO,MAAI,OAAK;MAAK;IAC1D;AAEA,WAAO,GAAG,SAAS;EAEvB;ACpBA,MAAM,UAAU,CAAC,KAAK,gBAAc;AAChC,UAAM,IAAIA,OAAM,GAAG;AACnB,UAAM,OAAO,UAAU,EAAE,CAAC,CAAC;AAC3B,UAAM,OAAO,EAAE,CAAC;AAChB,UAAM,SAAS,IAAI,SAAS,MAAM,IAAI;AAEtC,QAAI,CAAC,aAAa;AAAE,aAAO;IAAQ;AAEnC,UAAM,OAAO,OAAO,KAAK,WAAW;AACpC,UAAM,OAAO,OAAO,OAAO,WAAW;AAGtC,UAAM,WAAW,IAAI,SAAS,CAAC,GAAG,MAAM,GAAG,IAAI,GAAG,IAAI;AACtD,UAAM,SAAS,IAAI,MAAI,SAAS,GAAG,MAAM,GAAG,CAAC;AAE7C,WAAO,OAAO,eAAe,QAAQ,YAAY,EAAE,OAAM,CAAA,MAAG,OAAO,SAAS,EAAE,CAAC;EACnF;AAEA,MAAM,UAAU,CAAC,KAAK,OAAK,aAAW;AAClC,QAAI;AACJ,QAAI,QAAQ,QAAW;AAAE,aAAO,IAAI,SAAS;IAAG;AAEhD,QAAI,SAAS,YAAY,SAAS,YAAY,SAAS,aAAa,SAAS,UAAU;AAAE,aAAO,GAAG;IAAO,WACjG,SAAS,UAAU;AAAE,YAAM,MAAM,6CAA6C;IAAG,WACjF,eAAe,MAAM;AAAE,aAAO,aAAa;IAAS,WACpD,SAAS,UAAU;AACxB,UAAI;AAAE,eAAO,IAAI,KAAK,UAAU,GAAG;MAAM,SACnC,GADmC;AAC9B,cAAM,MAAM,+CAA+C;MAAG;IAC7E;AAEA,QAAI,CAAC,MAAM;AAAE,YAAM,MAAM,mCAAmC;IAAG;AAC/D,WAAO,IAAI,SAAS,UAAU,MAAM;EACxC;AAEO,MAAM,UAAU,CAAC,KAAK,gBAAc;AACvC,UAAM,OAAO,OAAO;AACpB,WAAQ,SAAS,YAAY,IAAI,WAAW,GAAG,IAAK,QAAQ,KAAK,IAAI,IAAI,QAAQ,KAAK,WAAW;EACrG;;;AmBvCA,4BAAwB;AlBGjB,MAAM,SAAS,CAAA,MAAI,KAAK,QAAS,OAAO,MAAM,YAAY,MAAM,CAAC;AAEjE,MAAM,QAAQ,CAAA,QAAK,OAAO,QAAQ;AAClC,MAAM,QAAQ,MAAM;AACpB,MAAM,QAAQ,CAAA,QAAK,eAAe;AAClC,MAAM,QAAQ,CAAC,KAAK,cAAY,MAAM,GAAG,IAAI,MAAM,MAAI;AACvD,MAAM,UAAU,CAAC,MAAM,SAAO,IAAI,SAAO,KAAK,KAAK,GAAG,IAAI,CAAC;AAE3D,MAAM,QAAQ,CAAC,KAAK,QAAM,OAAO,GAAG,IAAI,MAAM,OAAO,GAAG;AAExD,MAAM,QAAQ,CAAC,QAAM,MAAM,GAAG,IAAI,MAAM,IAAI,IAAI,GAAG;AAqBnD,MAAM,UAAU,CAAC,KAAK,UAAQ;AAEjC,QAAI,OAAO,GAAG,GAAG;AAAE;IAAQ;AAC3B,QAAI,CAAC,MAAM,QAAQ,GAAG,GAAG;AACrB,YAAM,IAAI,MAAM,GAAG;AACnB,aAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI;IAC9B;AAEA,UAAM,MAAM,CAAC;AACb,eAAW,KAAK,KAAK;AACjB,YAAM,IAAI,MAAM,CAAC;AACjB,UAAI,CAAC,OAAO,CAAC,GAAG;AAAE,YAAI,KAAK,CAAC;MAAG;IACnC;AAEA,QAAI,IAAI,QAAQ;AAAE,aAAO;IAAK;EAClC;AElDA,MAAA,cAAA,CAAA;AAAA,EAAAE,UAAA,aAAA;IAAA,MAAA,MAAAC;IAAA,SAAA,MAAA;IAAA,MAAA,MAAA;IAAA,MAAA,MAAA;IAAA,MAAA,MAAA;EAAA,CAAA;ACCO,MAAM,OAAN,cAAmB,MAAM;IAC5B,YAAY,UAAU,QAAQ,OAAO;AACjC,YAAM,QAAW,EAAE,MAAM,CAAC;AAC1B,WAAK,OAAO,KAAK,YAAY;AAC7B,WAAK,SAAS;AACd,WAAK,WAAW;IACpB;IAEA,QAAQ,KAAKC,QAAO;AAChB,YAAMC,QAAQ,KAAK,SAAS,KAAK,OAAO,CAAC;AACzC,MAAAA,MAAK,QAAQ,CAAC,KAAKD,MAAK,CAAC;AACzB,aAAO;IACX;IAEA,SAAS,gBAAc,CAAC,GAAG;AACvB,eAAS,CAAC,KAAKA,MAAK,KAAK,eAAe;AAAE,aAAK,QAAQ,KAAKA,MAAK;MAAG;AACpE,aAAO;IACX;IAEA,IAAI,UAAU;AACV,UAAIE,OAAM,GAAG,KAAK;AAElB,UAAI,KAAK,MAAM;AACX,cAAM,UAAU,KAAK,KAAK,IAAI,CAAC,CAAC,GAAG,CAAC,MAAM,GAAG,KAAK,KAAK,UAAU,CAAC,GAAG,EAAE,KAAK,IAAI;AAChF,QAAAA,QAAO,IAAI;MACf;AAEA,UAAI,KAAK,OAAO,SAAS;AACrB,QAAAA,QAAO,aAAa,KAAK,MAAM;MACnC;AAEA,aAAOA;IACX;EACJ;AAGO,MAAM,QAAN,cAAoB,KAAK;IAC5B,OAAO,KAAK,QAAQ,OAAO;AAAE,aAAO,IAAI,MAAM,QAAQ,KAAK;IAAG;IAC9D,YAAY,QAAQ,OAAO;AAAE,YAAM,SAAS,QAAQ,KAAK;IAAG;EAChE;AAEO,MAAM,QAAN,cAAoB,KAAK;IAC5B,OAAO,KAAK,QAAQ,OAAO;AAAE,aAAO,IAAI,MAAM,QAAQ,KAAK;IAAG;IAC9D,YAAY,QAAQ,OAAO;AAAE,YAAM,SAAS,QAAQ,KAAK;IAAG;EAChE;AAEO,MAAM,WAAN,cAAuB,KAAK;IAC/B,OAAO,KAAK,QAAQ,OAAO;AAAE,aAAO,IAAI,SAAS,QAAQ,KAAK;IAAG;IACjE,YAAY,QAAQ,OAAO;AAAE,YAAM,YAAY,QAAQ,KAAK;IAAG;EACnE;AAEO,MAAM,SAAS,CAAC,KAAK,QAAM,CAAC,MAAM;AACrC,QAAIH;AACJ,QAAI,eAAe,MAAM;AAAEA,cAAO;IAAK,WAC9B,eAAe,OAAO;AAAEA,cAAO,SAAS,KAAK,IAAI,YAAY,MAAM,GAAG;IAAG,OAC7E;AAAEA,cAAO,SAAS,KAAK,GAAG;IAAG;AAClC,WAAOA,MAAK,SAAS,KAAK;EAC9B;AC1DA,MAAA,kBAAA,CAAA;AAAA,EAAAD,UAAA,iBAAA;IAAA,UAAA,MAAAK;EAAA,CAAA;AAIO,MAAMA,YAAW,CAAC,KAAK,MAAI,CAAC,MAAI;AACnC,UAAM,IAAI,OAAO;AAEjB,QAAI;AACJ,QAAI,OAAO,MAAM;AAAE,YAAM;IAAI,WACpB,MAAM,UAAU;AAAE,YAAM;IAAK,WAC7B,MAAM,YAAY;AAAE,YAAM,QAAQ,GAAG;IAAG,OAC5C;AAAE,YAAM,OAAO,GAAG;IAAG;AAG1B,QAAI,QAAQ,mBAAmB;AAC3B,UAAI;AAAE,cAAM,KAAK,UAAU,GAAG;MAAG,SAC3B,GAD2B;AACtBJ,cAAK,aAAa;MAAG;IACpC;AAEA,UAAM,EAAE,KAAK,IAAI,IAAI;AAErB,QAAI,OAAO,QAAQ,IAAI,SAAS,KAAK;AAAEA,YAAK,aAAa,GAAG;IAAG;AAC/D,QAAI,OAAO,QAAQ,IAAI,SAAS,KAAK;AAAE,YAAM,IAAI,UAAU,GAAG,GAAG;IAAG;AAEpE,WAAO;EACX;AFrBO,MAAM,OAAO,CAAA,QAAM,OAAO,QAAQ,WAAY,KAAK,KAAK;AAExD,MAAM,UAAU,CAAA,QAAK;AACxB,QAAI,OAAO,MAAM;AAAE,aAAO;IAAM;AAEhC,UAAM,IAAI,OAAO;AACjB,QAAI,MAAM,UAAU;AAAE,aAAO,CAAC;IAAK;AACnC,QAAI,MAAM,UAAU;AAAE,aAAO,MAAM,GAAG;IAAG;AACzC,QAAI,MAAM,UAAU;AAChB,UAAI,eAAe,MAAM;AAAE,eAAO,MAAM,IAAI,QAAQ,CAAC;MAAG;AACxD,UAAI,eAAe,OAAO;AAAE,eAAO,CAAC,IAAI;MAAQ;AAChD,UAAI,eAAe,OAAO,eAAe,KAAK;AAAE,eAAO,CAAC,IAAI;MAAM;AAClE,eAAS,KAAK,KAAK;AAAE,eAAO;MAAO;AACnC,aAAO;IACX;AAEA,WAAO;EACX;AAEO,MAAM,OAAO,CAAC,cAAc,SAAO;AACtC,QAAI,IAAI;AACR,aAAS,KAAK,MAAM;AAChB,UAAII,UAAS,CAAC;AACd,UAAI,CAAC,GAAG;AAAE;MAAU;AACpB,YAAM,CAAC,IAAI,KAAK,aAAa;IACjC;AACA,WAAO;EACX;AAEO,MAAMJ,QAAO,CAAC,YAAY,UAAQ;AACrC,UAAM,MAAM,KAAK,OAAO,EAAE,SAAS,KAAK;EAC5C;AAEO,MAAM,OAAO,CAAC,YAAY,UAAQ;AACrC,UAAM,MAAM,KAAK,OAAO,EAAE,SAAS,KAAK;EAC5C;AGjCO,MAAM,kBAAkB,CAAA,SAAM,MAAM,IAAI,IAAI,EAAE;AAC9C,MAAM,eAAe,CAAC,MAAM,YAAU,MAAM,IAAI,IAAI,EAAE,QAAQ,OAAO,OAAO;AAC5E,MAAM,cAAc,CAAC,MAAM,SAAS,UAAQ,MAAM,IAAI,IAAI,EAAE,QAAQ,IAAI,SAAS,KAAK;AAE7F,MAAM,kBAAkB,CAAC,OAAO,KAAK,IAAI,MAAMK,QAAK;AAChD,UAAM,EAAE,OAAO,QAAQ,IAAI;AAE3B,QAAI,SAASA,KAAI;AAAE;IAAQ;AAE3B,QAAIA,OAAM,MAAM;AAAE,YAAM,OAAO,GAAG;IAAG,OAChC;AACD,YAAM,UAAU,QAAQ,IAAIA,KAAI,EAAE;AAClC,UAAI,WAAW,YAAY,KAAK;AAAEL,cAAK,oBAAoB,WAAWK,MAAK;MAAG;AAC9E,cAAQ,IAAIA,KAAI,IAAI,GAAG;AACvB,YAAM,IAAI,KAAKA,GAAE;IACrB;AAGA,YAAQ,OAAO,MAAM,EAAE;EAC3B;AAEA,MAAM,iBAAiB,CAAC,OAAO,KAAK,IAAI,MAAMA,QAAK;AAC/C,UAAM,EAAE,OAAO,QAAQ,IAAI;AAE3B,QAAI,SAASA,KAAI;AAAE;IAAQ;AAE3B,QAAIA,OAAM,MAAM;AAAE,YAAM,OAAO,GAAG;IAAG,OAChC;AACD,UAAI;AACJ,MAAAA,MAAK,MAAMA,GAAE;AAEb,iBAAW,WAAWA,KAAI;AACtB,YAAI,MAAM,IAAI,OAAO,GAAG;AAAE,eAAK,OAAO,OAAO;AAAG;QAAU;AAC1D,mBAAW;AAEX,cAAM,UAAU,QAAQ,IAAI,SAAS,EAAE;AACvC,YAAI,WAAW,YAAY,KAAK;AAAEL,gBAAK,oBAAoB,WAAW,UAAU;QAAG;AAEnF,gBAAQ,IAAI,SAAS,IAAI,GAAG;MAChC;AACA,UAAI,CAAC,UAAU;AAAE;MAAQ;AACzB,YAAM,IAAI,KAAKK,GAAE;IACrB;AAEA,QAAI,QAAQ,MAAM;AACd,iBAAW,WAAW,MAAM;AACxB,gBAAQ,OAAO,SAAS,EAAE;MAC9B;IACJ;EACJ;AAEA,MAAM,gBAAgB,CAAC,KAAK,MAAM,KAAK,SAAO;AAC1C,UAAM,QAAQ,MAAM,IAAI,IAAI;AAC5B,UAAM,EAAE,OAAO,QAAQ,OAAO,UAAU,QAAAC,SAAQ,MAAM,SAAS,aAAa,IAAI;AAEhF,UAAO,OAAOA,QAAO,GAAG;AACxB,UAAM,MAAM,MAAM,IAAI,GAAG;AAEzB,QAAI,CAAC,OAAO,CAAC,KAAK;AAAE;IAAQ;AAE5B,UAAM,KAAK,MAAM,GAAG;AACpB,UAAM,OAAO,MAAM,IAAI,GAAG;AAC1B,UAAMD,MAAK,MAAM,SAAS,GAAG,IAAI;AAEjC,UAAM,QAAQ,CAAC,MAAM,QAAQ,CAAC,MAAM,WAAW;AAC/C,UAAM,OAAO,eAAe,iBAAiB;AAG7C,QAAI,CAAC,MAAM;AAAE,WAAK,OAAO,KAAK,IAAI,MAAMA,GAAE;IAAG,OACxC;AAAE,WAAK,IAAI,CAAA,MAAG,KAAK,OAAO,KAAK,IAAI,MAAMA,GAAE,GAAG,OAAO,KAAK,IAAI;IAAG;AAEtE,eAAW,SAAS,QAAQ;AAAE,oBAAc,KAAK,OAAO,KAAK,IAAI;IAAG;AAEpE,QAAI,MAAM;AAAE,WAAK,OAAO,CAAA,MAAG,QAAQ,IAAI,OAAO,KAAK,IAAI,CAAC;IAAG;EAE/D;AAEA,MAAM,WAAW,CAAC,KAAK,MAAM,QAAQ,SAAO;AACxC,QAAI,MAAM;AAAE,WAAK,OAAO,EAAC,OAAM,CAAC;IAAG;AACnC,kBAAc,KAAK,MAAM,QAAQ,IAAI;EACzC;AAEO,MAAM,cAAc,CAAC,MAAM,QAAQ,SAAO,SAAS,MAAM,MAAM,QAAQ,IAAI;AAC3E,MAAME,gBAAe,CAAC,MAAM,QAAQ,SAAO,SAAS,OAAO,MAAM,QAAQ,IAAI;ACzFpF,MAAA,mBAAA,CAAA;AAAA,EAAAR,UAAA,kBAAA;IAAA,WAAA,MAAA;EAAA,CAAA;AAAA,MAAM,QAAQ;AAEP,MAAM,YAAY,CAAC,QAAM,OAAO,QAAQ,WAAW,CAAC,CAAC,MAAM,CAAC,MAAM,KAAK,GAAG;ACC1E,MAAM,WAAN,cAAuB,IAAI;IAE9B,KAAK,SAAS;AAAE,aAAO,MAAM,IAAI,OAAO,GAAG,KAAK;IAAG;IACnD,OAAO,SAAS;AAAE,aAAO,MAAM,IAAI,OAAO,GAAG,OAAO;IAAG;IAEvD,OAAO,SAAS;AAAE,aAAO,MAAM,IAAI,OAAO;IAAG;IAC7C,IAAI,SAAS,OAAO;AAAE,aAAO,MAAM,IAAI,OAAO,GAAG,IAAI,KAAK;IAAG;IAE7D,IAAI,SAAS,OAAO;AAChB,YAAM,MAAM,MAAM,IAAI,OAAO;AAC7B,aAAQ,OAAO,IAAI,IAAI,KAAK;IAChC;IAEA,IAAI,SAAS,OAAO,KAAK;AACrB,UAAI,MAAM,MAAM,IAAI,OAAO;AAE3B,UAAI,CAAC,KAAK;AAAE,cAAM,IAAI,SAAS,MAAM,oBAAI,IAAI,CAAC;MAAG;AACjD,UAAI,IAAI,OAAO,GAAG;IACtB;IAEA,OAAO,SAAS,OAAO;AACnB,YAAM,MAAM,MAAM,IAAI,OAAO;AAE7B,UAAI,CAAC,KAAK;AAAE;MAAQ,WACX,IAAI,QAAQ,GAAG;AAAE,cAAM,OAAO,OAAO;MAAG,OAC5C;AAAE,YAAI,OAAO,KAAK;MAAG;IAC9B;EAEJ;AC1BO,MAAM,UAAN,cAAsB,MAAM;IAE/B,YAAY,SAAS;AACjB,YAAM;AACNS,MAAAA,OAAM,MAAM,WAAW,MAAM,OAAO,IAAI,UAAU,QAAQ,IAAI;IAClE;IAEA,OAAO,UAAU;AACb,YAAMC,KAAI,KAAK,QAAQ,QAAQ;AAC/B,UAAIA,MAAK,GAAG;AAAE,aAAK,OAAOA,IAAG,CAAC;MAAG;AACjC,aAAO;IACX;IAEA,IAAI,UAAU;AACV,UAAI,CAAC,MAAM,QAAQ,GAAG;AAAET,cAAK,6BAA6B;MAAG;AAE7D,WAAK,QAAQ,QAAQ;AAErB,aAAO,CAAA,MAAI,KAAK,OAAO,QAAQ;IACnC;IAEA,OAAO,MAAM;AACT,eAAS,IAAI,KAAK,SAAS,GAAG,KAAK,GAAG,KAAK;AACvC,YAAI,CAAC,KAAK,CAAC,GAAG;AAAE;QAAQ;AACxB,YAAI;AAAE,eAAK,CAAC,EAAE,GAAG,IAAI;QAAG,SAClB,KADkB;AACX,eAAK,QAAQ,GAAG;QAAG;MACpC;IACJ;IAEA,QAAQ;AACJ,WAAK,SAAS;IAClB;EAEJ;ACnCO,MAAM,OAAN,cAAmB,QAAQ;IAE9B,IAAI,UAAU,MAAM;AAChB,UAAI,IAAI,KAAK,SAAO,GAAG;AACvB,YAAM,OAAO,MAAI;AACb,cAAM,MAAM,KAAK,GAAG;AACpB,YAAI,KAAK;AAAE,cAAI,MAAM,GAAG,IAAI;QAAG,WACtB,OAAO;AAAE,gBAAM,MAAM;QAAG;AACjC,eAAO;MACX;AACA,aAAO,KAAK;IAChB;EACJ;ARFO,MAAM,OAAN,MAAW;IAEd,YAAY,IAAI,MAAI,CAAC,GAAG;AACpB,WAAK,MAAM,EAAE;AACb,UAAI,CAAC,IAAI;AAAEA,cAAK,YAAY;MAAG;AAE/B,YAAM,EAAE,QAAQ,KAAK,IAAI;AAEzB,YAAM,eAAe,UAAU,IAAI,YAAY;AAC/C,YAAMM,UAAS,MAAM,IAAI,QAAQ,IAAI;AACrC,YAAM,QAAQ,MAAM,IAAI,KAAK,IAAI,IAAI,QAAS,CAAA,MAAG,EAAE;AACnD,YAAM,WAAW,CAAC,eAAe,MAAM,IAAI,QAAQ,IAAI,QAAQ,OAAO,MAAM,IAAI,UAAU,CAAC,MAAS,CAAC,CAAC;AAEtG,YAAM,KAAK;QACP;QACA;QACA;QACA,MAAK,IAAI,KAAK;QACd,SAAQ,IAAI,QAAQ;QACpB,QAAO,oBAAI,IAAI;QACf,MAAK,MAAM,IAAI;QACf,OAAM,oBAAI,IAAI;QACd,SAAQ,IAAI,SAAS;QACrB,QAAAA;MACJ;AAEA,aAAO,MAAM;QACT;QACA,IAAG,QAAQ,MAAM;QACjB;MACJ,GAAG,KAAK;AAER,eAAS,MAAM;QACX,MAAK,CAAA,MAAG,GAAG,MAAM;QACjB,QAAO,CAAA,MAAG,CAAC,GAAG,GAAG,MAAM;QACvB,cAAa,CAAA,MAAG,GAAG;MACvB,CAAC;AAED,YAAM,IAAI,MAAM,EAAE;IAEtB;IAEA,IAAI,UAAU;AAAE,aAAO,MAAM,IAAI,IAAI,EAAE,KAAK,IAAI,QAAQ;IAAG;IAC3D,OAAO,UAAU;AAAE,aAAO,MAAM,IAAI,IAAI,EAAE,QAAQ,IAAI,QAAQ;IAAG;IAEjE,KAAK,SAAS,KAAK;AACf,YAAM,EAAE,UAAU,aAAa,IAAI,MAAM,IAAI,IAAI;AACjD,YAAM,QAAQ,SAAS,GAAG;AAC1B,aAAO,eAAe,MAAM,SAAS,OAAO,IAAK,UAAU;IAC/D;IAEA,IAAI,SAAS,OAAOI,cAAa,OAAO;AACpC,aAAO,YAAY,MAAM,SAAS,OAAOA,WAAU;IACvD;IAEA,OAAO,SAASA,cAAa,OAAO;AAChC,YAAM,OAAO,aAAa,MAAM,SAASA,WAAU;AACnD,aAAO,OAAO,IAAI,IAAI,IAAI,IAAI,oBAAI,IAAI;IAC1C;IAEA,QAAQ,SAASA,cAAa,OAAO;AACjC,YAAM,OAAO,aAAa,MAAM,SAASA,WAAU;AACnD,aAAO,OAAO,MAAM,KAAK,KAAK,OAAO,CAAC,IAAI,CAAC;IAC/C;IAEA,QAAQ,SAASA,cAAW,OAAO;AAC/B,aAAO,aAAa,MAAM,SAASA,WAAU,GAAG,QAAQ;IAC5D;IAEA,IAAI,UAAU;AACV,YAAM,SAAS,CAAC;AAChB,YAAM,OAAO,gBAAgB,IAAI;AACjC,iBAAW,CAAC,GAAG,KAAK,MAAM;AACtB,cAAM,IAAI,SAAS,GAAG;AACtB,YAAI,MAAM,QAAW;AAAE,iBAAO,KAAK,CAAC;QAAG;MAC3C;AACA,aAAO;IACX;IAEA,KAAK,IAAI,MAAI,CAAC,GAAG;AACb,YAAM,EAAE,OAAO,OAAO,IAAI,MAAM,IAAI,IAAI;AAExC,YAAMJ,UAAS,MAAM,IAAI,QAAQ,IAAI;AAErC,UAAI,SAAS;AACb,UAAI,SAAS,CAAA,QAAM,KAAK,KAAK,IAAI,GAAG,KAAKA,QAAO,GAAG;AAEnD,YAAM,QAAQ,IAAI,KAAK,IAAI,GAAG;AAE9B,iBAAW,CAAC,GAAG,KAAK,OAAO;AAAE,oBAAY,OAAO,GAAG;MAAG;AAEtD,aAAO,IAAI,KAAK;AAEhB,aAAO;IAEX;EACJ;ASzGA,MAAM,WAAW,oBAAI,QAAQ;AAEtB,MAAM,SAAS,CAAA,SAAM,SAAS,IAAI,KAAK,SAAS,IAAI;AACpD,MAAM,WAAW,CAAA,SAAM,SAAS,OAAO,KAAK,OAAO;AAOnD,MAAM,cAAc,CAACK,KAAI,KAAKD,cAAW,SAAO;AACnD,UAAM,KAAK,SAAS,IAAI,GAAG;AAC3B,QAAI,MAAM,GAAG,OAAOC,KAAI;AAAE,aAAO;IAAI;AACrC,QAAID,aAAY;AAAEV,YAAK,eAAe;IAAG;AAAC;EAC9C;AAEO,WAAS,aAAa,MAAM,WAAW;AAE1C,UAAM,MAAM,CAAA,MAAG,KAAK,OAAO,GAAG,SAAS;AACvC,UAAM,KAAK,CAAA,MAAG,IAAI,IAAI;AACtB,UAAMY,QAAO,CAAA,MAAG,KAAK,OAAO;AAE5B,UAAM,UAAU;MACZ,KAAI,CAAC,GAAG,MAAK,MAAM,aAAc,KAAK,MAAM,WAAWA,QAAO,IAAI,CAAC;MACnE,KAAI,CAAC,GAAG,MAAI,KAAK,OAAO,CAAC;MACzB,KAAI,CAAC,GAAG,GAAGX,WAAQ,KAAK,GAAG,OAAO,OAAO,EAAC,CAAC,CAAC,GAAEA,OAAK,CAAC;MACpD,gBAAe,CAAC,GAAG,MAAI,KAAK,GAAG,OAAO,OAAO,EAAC,CAAC,CAAC,GAAE,KAAI,CAAC;MACvD,SAAQ,CAAA,MAAG,CAAC,GAAG,KAAK,aAAa,CAAC;MAClC,0BAA0B,CAAC,GAAG,OAAO;QACjC,YAAY;QACZ,cAAc;QACd,OAAO,IAAI,CAAC;MAChB;IACJ;AAEA,UAAM,QAAQ,IAAI,MAAM,CAAC,GAAG,OAAO;AACnC,WAAO;EACX;ACnCO,MAAM,OAAN,MAAW;IAEd,OAAO,GAAG,KAAK;AAAE,aAAO,eAAe;IAAM;IAC7C,OAAO,OAAOU,KAAI;AAAE,aAAO,IAAI,KAAKA,GAAE;IAAG;IAEzC,YAAY,QAAQ;AAEhB,UAAI,CAAC,KAAK,GAAG,MAAM,GAAG;AAClB,aAAK,KAAK;AACV,aAAK,OAAO,CAAC;AACb,aAAK,UAAU,IAAI,QAAQ;MAC/B,OAAO;AACH,aAAK,KAAK,OAAO;AACjB,aAAK,SAAS;AACd,eAAO,KAAK,KAAK,IAAI;MACzB;AAEA,WAAK,SAAS;AACd,WAAK,OAAO;AAEZ,WAAK,OAAO,CAAC;AACbE,aAAO,KAAK,MAAM;QACd,IAAG,KAAK;QACR,QAAO,KAAK,QAAQ;MACxB,GAAG,KAAK;AAERC,eAAS,KAAK,MAAM;QAChB,MAAK,CAAA,MAAG,KAAK;QACb,QAAO,CAAA,MAAG,KAAK;QACf,OAAM,CAAA,MAAG,KAAK;QACd,UAAS,CAAA,MAAG,CAAC,KAAK,WAAW,SAAY,CAAC,GAAG,KAAK,QAAQ;QAC1D,MAAK,CAAA,MAAG,CAAC,KAAK,OAAO,SAAY,KAAK,KAAK,IAAI,CAAA,MAAG,EAAE,IAAI;QACxD,SAAQ,CAAA,MAAG,KAAK;QAChB,QAAO,CAAA,MAAG,KAAK;QACf,SAAQ,CAAA,MAAG,CAAC,KAAK,UAAU,SAAY,IAAI,IAAI,KAAK,OAAO;MAC/D,CAAC;IACL;IAEA,MAAM;AAAE,aAAO,IAAI,KAAK,IAAI;IAAG;IAE/B,OAAO,KAAK;AAAE,aAAO,OAAO,MAAM,GAAG;AAAG,aAAO;IAAM;IACrD,UAAU,OAAO;AACb,iBAAW,QAAQ,OAAO;AAAE,eAAO,KAAK,IAAI;MAAG;IACnD;IAEA,OAAO,UAAU;AACb,YAAM,EAAE,QAAQ,QAAQ,IAAI;AAC5B,UAAI,SAAS;AAAE,eAAO,QAAQ,IAAI,QAAQ;MAAG;AAC7C,aAAO,OAAO,OAAO,QAAQ;IACjC;IAEA,MAAM,KAAK,gBAAc,OAAO,QAAM,CAAC,GAAG;AACtC,YAAMd,QAAO,OAAO,KAAK,KAAK;AAE9B,UAAIA,MAAK,aAAa,SAAS;AAC3B,SAAC,KAAK,aAAa,KAAK,WAAW,CAAC,IAAI,KAAKA,KAAI;MACrD,OAAO;AACH,cAAM,EAAE,OAAO,IAAI;AACnB,aAAK,OAAO;AACZ,aAAK,QAAQA;AACb,YAAI,QAAQ;AACR,iBAAO,OAAO;AACd,iBAAO,QAAQA;QACnB;AACA,YAAI,eAAe;AAAE,gBAAMA;QAAM;MACrC;AAEA,aAAOA;IACX;IAEA,SAAS,KAAK,QAAM,CAAC,GAAG;AAAE,aAAO,KAAK,MAAM,KAAK,OAAO,KAAK;IAAG;IAChE,WAAW,KAAK,QAAM,CAAC,GAAG;AAAE,aAAO,KAAK,MAAM,KAAK,MAAM,KAAK;IAAG;IAEjE,SAAS;AACL,YAAM,EAAE,SAAS,MAAAe,OAAM,MAAM,OAAO,IAAI;AACxC,WAAK,OAAO;AAEZ,UAAI,MAAM;AACN,iBAAS,IAAE,KAAK,SAAO,GAAG,KAAG,GAAG,KAAK;AAAE,eAAK,CAAC,EAAE,OAAO;QAAG;MAC7D;AAEA,UAAIA,OAAM;AAAEA,cAAK,MAAM,MAAM;MAAG;AAChC,eAAS,IAAI;IACjB;IAEA,aAAa;AACT,YAAM,EAAE,MAAM,UAAAC,WAAU,OAAO,IAAI;AACnC,WAAK,OAAO;AAEZ,UAAI,MAAM;AACN,iBAAS,IAAE,KAAK,SAAO,GAAG,KAAG,GAAG,KAAK;AAAE,eAAK,CAAC,EAAE,WAAW;QAAG;MACjE;AAEA,UAAIA,WAAU;AAAEA,kBAAS,MAAM,MAAM;MAAG;IAC5C;IAEA,OAAON,cAAW,OAAO;AACrB,YAAM,EAAE,MAAM,OAAO,KAAK,IAAI;AAE9B,UAAI,MAAM;AAAE,aAAK,OAAO;MAAG,OACtB;AAAE,aAAK,WAAW;MAAG;AAE1B,UAAIA,eAAc,CAAC,MAAM;AAAE,cAAM;MAAO;AAExC,aAAO;IACX;EAEJ;AAGO,MAAM,WAAW,CAACO,MAAKF,OAAMC,cAAW;AAC3C,WAAO,CAACL,KAAI,MAAMD,cAAW,OAAO,UAAQ,SAAO;AAE/C,YAAM,MAAM,MAAM,IAAIC,GAAE;AACxB,YAAM,SAAS,IAAI;AAEnB,YAAM,OAAO,SAAS,OAAO,IAAI,IAAI,KAAK,OAAOA,GAAE;AACnD,WAAK,OAAO,EAAC,SAAS,MAAAI,OAAM,UAAAC,UAAQ,CAAC;AAErC,UAAI,CAAC,QAAQ;AAAE,YAAI,OAAO;MAAM;AAEhC,UAAI;AAAE,aAAK,SAASC,KAAI,MAAM,GAAG,IAAI;MAAG,SAClC,KADkC;AAC3B,aAAK,MAAM,GAAG;MAAG;AAE9B,WAAK,SAAS;AACd,UAAI,QAAQ;AAAE,eAAO,KAAK;MAAM;AAEhC,aAAO,IAAI;AACX,aAAO,KAAK,OAAOP,WAAU;IACjC;EACJ;AExIA,MAAA,oBAAA,CAAA;AAAA,EAAAX,UAAA,mBAAA;IAAA,YAAA,MAAA;EAAA,CAAA;AEAA,MAAA,gBAAA,CAAA;AAAA,EAAAA,UAAA,eAAA;IAAA,QAAA,MAAA;EAAA,CAAA;AAEO,MAAM,SAAS,CAAC,KAAK,MAAI,CAAC,MAAI;AACjC,QAAI,OAAQ,eAAe,OAAQ,MAAM,IAAI,KAAK,GAAG;AACrD,QAAI,MAAM,KAAK,QAAQ;AAEvB,QAAI,MAAM,GAAG,GAAG;AAAEC,YAAK,YAAY;IAAG;AAEtC,UAAM,EAAE,KAAK,IAAI,IAAI;AACrB,QAAI,OAAO,QAAQ,OAAO,MAAM;AAAE,aAAO;IAAM;AAC/C,QAAI,OAAO,MAAM;AAAE,YAAM,KAAK,IAAI,KAAK,GAAG;IAAG;AAC7C,QAAI,OAAO,MAAM;AAAE,YAAM,KAAK,IAAI,KAAK,GAAG;IAAG;AAE7C,WAAO,IAAI,KAAK,GAAG;EACvB;ACdA,MAAA,kBAAA,CAAA;AAAA,EAAAD,UAAA,iBAAA;IAAA,UAAA,MAAA;EAAA,CAAA;AAEA,MAAM,QAAQ;AACd,MAAM,WAAW,CAAA,QAAK;AAClB,UAAM,QAAQ,OAAO,GAAG,EAAE,QAAQ,WAAW,GAAG,EAAE,MAAM,KAAK;AAC7D,QAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG;AAAE,aAAO;IAAK;AACvC,UAAM,MAAM,OAAO,MAAM,CAAC,EAAE,WAAW,KAAK,EAAE,EAAE,QAAQ,KAAK,GAAG,CAAC;AACjE,WAAO;EACX;AAGO,MAAM,WAAW,CAAC,KAAK,MAAI,CAAC,MAAI;AACnC,UAAM,IAAI,OAAO;AAEjB,QAAI;AACJ,QAAI,MAAM,UAAU;AAAE,YAAM;IAAK;AACjC,QAAI,MAAM,UAAU;AAAE,YAAM,SAAS,GAAG;IAAG,OACtC;AAAE,YAAM,OAAO,GAAG;IAAG;AAE1B,UAAM,EAAE,KAAK,KAAK,IAAI,IAAI;AAE1B,QAAI,MAAM,GAAG,GAAG;AAAEC,YAAK,cAAc;IAAG;AACxC,QAAI,OAAO,MAAM;AAAE,YAAM,KAAK,IAAI,KAAK,GAAG;IAAG;AAC7C,QAAI,OAAO,MAAM;AAAE,YAAM,KAAK,IAAI,KAAK,GAAG;IAAG;AAE7C,QAAI,OAAO,GAAG;AAAE,YAAM,KAAK,MAAM,GAAG;IAAG,WAC9B,MAAM,GAAG;AACd,YAAM,MAAM,KAAK,IAAI,IAAI,GAAG;AAC5B,YAAM,KAAK,MAAM,MAAI,GAAG,IAAE;IAC9B;AAEA,WAAO;EACX;AChCA,MAAA,kBAAA,CAAA;AAAA,EAAAD,UAAA,iBAAA;IAAA,UAAA,MAAA;EAAA,CAAA;AAIO,MAAM,WAAW,CAAA,QAAK;AACzB,UAAM,IAAI,OAAO;AACjB,QAAI,MAAM,UAAU;AAAE,aAAO;IAAK;AAClC,QAAI,MAAM,UAAU;AAAEC,YAAK,aAAa;IAAG;AAC3C,QAAI;AAAE,aAAO,KAAK,MAAM,GAAG;IAAG,SACxB,GADwB;AACnBA,YAAK,aAAa;IAAG;EAEpC;ACXA,MAAA,iBAAA,CAAA;AAAA,EAAAD,UAAA,gBAAA;IAAA,UAAA,MAAA;EAAA,CAAA;AAIO,MAAM,WAAW,CAAA,QAAK;AACzB,QAAI,eAAe,QAAQ;AAAE,aAAO;IAAK;AAEzC,QAAI,OAAO,OAAO,UAAU;AAAE,WAAK,cAAc;IAAG;AAEpD,QAAI;AAAE,iBAAO,oBAAAmB,SAAY,GAAG;IAAE,SACxB,KADwB;AACjB,WAAK,aAAa;IAAG;EACtC;ACRQ,MAAM,UAAU,CAAC,kBAAQ,eAAQ,mBAAQ,iBAAQ,iBAAQ,gBAAQ,iBAAQ,WAAO;AAEhF,MAAO,YAAQ;ALFhB,MAAM,QAAQ,CAAC;AAEtB,aAAW,QAAc,WAAS;AAAEL,WAAO,OAAO,IAAI;EAAG;ADDlD,MAAM,aAAa,CAAA,QAAK,OAAO,QAAQ,aAAa,MAAM,QAAQ,KAAK,KAAK;AOOnF,MAAM,SAAS;AACf,MAAM,SAAS;AACf,MAAM,aAAa;AACnB,MAAM,aAAa;AAEZ,MAAM,WAAW,CAAE,SAAS,UAAU,OAAQ;AAE9C,MAAM,WAAW;IACpB,SAAQ;MACJ,SAAQ,EAAE,MAAK,EAAE;MACjB,SAAQ,EAAE,MAAK,EAAE;MACjB,UAAS,EAAE,MAAK,EAAE;IACtB;IACA,UAAS;MACL,UAAS,EAAE,MAAK,GAAG,QAAO,CAAC,GAAG,MAAIT,UAAS,GAAG,CAAC,GAAG,OAAO;MACzD,WAAU,EAAE,MAAK,GAAG,QAAO,CAAC,GAAG,MAAI,UAAU,GAAG,CAAC,GAAG,OAAO;MAC3D,UAAS,EAAE,MAAK,GAAG,QAAO,CAAC,GAAG,MAAI,SAAS,GAAG,CAAC,GAAG,OAAO;MACzD,YAAW,EAAE,MAAK,GAAG,QAAO,CAAC,GAAG,MAAI,OAAO,GAAG,CAAC,GAAG,OAAO;MACzD,YAAW,EAAE,MAAK,GAAG,QAAO,CAAC,GAAG,MAAI,SAAS,GAAG,CAAC,GAAG,OAAO;MAC3D,YAAW,EAAE,MAAK,GAAG,QAAO,CAAC,GAAG,MAAI,WAAW,GAAG,CAAC,GAAG,QAAQ,OAAM,CAAA,MAAGA,UAAS,CAAC,EAAE;MACnF,UAAS,EAAE,MAAK,GAAG,QAAO,CAAC,GAAG,MAAI,SAAS,GAAG,CAAC,GAAG,OAAO;MACzD,UAAS,EAAE,MAAK,GAAG,QAAO,CAAC,GAAG,MAAI,SAAS,GAAG,CAAC,GAAG,QAAQ,OAAM,CAAA,MAAGA,UAAS,CAAC,EAAE;MAC/E,OAAM,EAAE,MAAK,GAAG,QAAO,CAAC,GAAG,MAAI,KAAK,GAAG,CAAC,GAAG,QAAQ,OAAM,CAAA,MAAG,KAAK,CAAC,EAAE;MACpE,QAAO,EAAE,MAAK,GAAG,QAAQ,OAAO;IACpC;IACA,SAAQ;MACJ,cAAa,EAAE,MAAK,GAAG,KAAI,SAAS,MAAK,QAAQ,MAAK,OAAO,KAAI,SAAS,YAAY,WAAW;MACjG,YAAW,EAAE,MAAK,GAAG,KAAI,SAAS,MAAK,MAAM,MAAK,UAAU,YAAY,WAAW;MACnF,cAAa,EAAE,MAAK,GAAG,KAAI,SAAS,MAAK,QAAQ,MAAK,UAAU,WAAW;;;;;;;;;;;;;;;;;;MAmB3E,eAAc,EAAE,MAAK,GAAG,KAAI,UAAU,MAAK,QAAQ,MAAK,OAAO,KAAI,SAAS,YAAY,WAAW;MACnG,aAAY,EAAE,MAAK,GAAG,KAAI,UAAU,MAAK,MAAM,MAAK,UAAU,YAAY,WAAW;MACrF,eAAc,EAAE,MAAK,GAAG,KAAI,UAAU,MAAK,QAAQ,MAAK,UAAU,WAAW;MAC7E,iBAAgB,EAAE,MAAK,GAAG,KAAI,UAAU,MAAK,UAAU,MAAK,YAAY,YAAY,UAAS,CAAA,MAAG,CAAA,MAAG,EAAE;MACrG,iBAAgB,EAAE,MAAK,GAAG,KAAI,UAAU,MAAK,UAAU,MAAK,YAAY,YAAY,UAAS,CAAA,MAAG,CAAA,MAAG,EAAE;MACrG,gBAAe,EAAE,MAAK,GAAG,KAAI,UAAU,MAAK,SAAS,MAAK,YAAY,WAAW;MACjF,iBAAgB,EAAE,MAAK,GAAG,KAAI,UAAU,MAAK,UAAU,MAAK,YAAY,WAAU;;MAGlF,cAAa,EAAE,MAAK,GAAG,KAAI,SAAS,MAAK,QAAQ,MAAK,OAAO,KAAI,SAAS,YAAY,WAAW;MACjG,YAAW,EAAE,MAAK,GAAG,KAAI,SAAS,MAAK,MAAM,MAAK,UAAU,YAAY,YAAY,SAAQ,CAAA,MAAG,KAAK,KAAK,EAAE,KAAK,IAAI,EAAE,IAAI,EAAE;MAC5H,cAAa,EAAE,MAAK,GAAG,KAAI,SAAS,MAAK,QAAQ,MAAK,UAAU,WAAW;MAC3E,aAAY,EAAE,MAAK,GAAG,KAAI,SAAS,MAAK,OAAO,MAAK,OAAO,KAAI,SAAS,YAAY,WAAW;MAC/F,cAAa,EAAE,MAAK,GAAG,KAAI,SAAS,MAAK,QAAQ,MAAK,UAAU,YAAY,WAAW;MACvF,cAAa,EAAE,MAAK,GAAG,KAAI,SAAS,MAAK,QAAQ,MAAK,OAAO,KAAI,UAAU,UAAS,CAAA,MAAG,SAAS;MAChG,aAAY,EAAE,MAAK,GAAG,KAAI,SAAS,MAAK,OAAO,MAAK,OAAO,KAAI,QAAQ;MACvE,gBAAe,EAAE,MAAK,GAAG,KAAI,SAAS,MAAK,UAAU,MAAK,OAAO,KAAI,QAAQ;MAC7E,eAAc,EAAE,MAAK,GAAG,KAAI,SAAS,MAAK,SAAS,MAAK,WAAW;MACnE,gBAAe,EAAE,MAAK,GAAG,KAAI,SAAS,MAAK,UAAU,MAAK,UAAU;MACpE,oBAAmB,EAAE,MAAK,GAAG,KAAI,SAAS,MAAK,cAAc,MAAK,WAAW;MAC7E,oBAAmB,EAAE,MAAK,GAAG,KAAI,SAAS,MAAK,cAAc,MAAK,WAAW;MAC7E,iBAAgB,EAAE,MAAK,GAAG,KAAI,SAAS,MAAK,WAAW,MAAK,WAAW;MACvE,cAAa,EAAE,MAAK,GAAG,KAAI,SAAS,MAAK,QAAQ,MAAK,WAAW;;MACjE,kBAAiB,EAAE,MAAK,GAAG,KAAI,SAAS,MAAK,YAAY,MAAK,WAAW;;MACzE,mBAAkB,EAAE,MAAK,GAAG,KAAI,SAAS,MAAK,aAAa,MAAK,WAAW;MAC3E,iBAAgB,EAAE,MAAK,GAAG,KAAI,SAAS,MAAK,WAAW,MAAK,UAAU,SAAQ,GAAG,KAAI,EAAE;MACvF,aAAY,EAAE,MAAK,GAAG,KAAI,SAAS,MAAK,OAAO,MAAK,SAAS;;MAC7D,aAAY,EAAE,MAAK,GAAG,KAAI,SAAS,MAAK,OAAO,MAAK,SAAS;;MAC7D,iBAAgB,EAAE,MAAK,GAAG,KAAI,SAAS,MAAK,WAAW,MAAK,WAAW;MACvE,mBAAkB,EAAE,MAAK,GAAG,KAAI,SAAS,MAAK,aAAa,MAAK,UAAU;MAC1E,oBAAmB,EAAE,MAAK,GAAG,KAAI,SAAS,MAAK,cAAc,MAAK,UAAU;IAChF;EACJ;ACrFO,MAAM,YAAY,CAAA,SAAM,SAAS,SAAS,IAAI;AAE9C,MAAM,aAAa,CAAC,MAAM,OAAK;AAClC,QAAI,UAAU,IAAI,GAAG;AAAE,aAAO,SAAS,IAAI,EAAE,EAAE;IAAG;EACtD;AAEO,MAAM,eAAe,CAAC,MAAM,IAAI,WAAS;AAC5C,UAAM,OAAO,WAAW,MAAM,EAAE;AAChC,UAAM,MAAM,EAAE,GAAG,QAAQ,MAAM,GAAG;AAClC,QAAI,CAAC,MAAM;AAAE,aAAO;IAAK;AAEzB,eAAW,WAAW,SAAS,OAAO;AAClC,YAAM,MAAM,SAAS,MAAM,OAAO;AAClC,UAAI,IAAI,SAAS,MAAM;AAAE;MAAU;AACnC,UAAI,IAAI,OAAO,KAAK,IAAI,eAAe,OAAO,GAAG;AAAE;MAAU;AAC7D,UAAI,OAAO,IAAI,KAAK,OAAO;IAC/B;AAEA,WAAO;EACX;ACpBO,MAAM,OAAN,MAAW;IAEd,OAAO,OAAO,MAAM,MAAM,OAAO,QAAM,OAAO;AAC1C,aAAO,KAAK,OAAO,IAAI,KAAK,MAAM,MAAM,OAAO,KAAK;IACxD;IAEA,YAAY,MAAM,MAAM,OAAO,QAAM,OAAO;AAExC,WAAK,OAAO;AACZ,WAAK,OAAO;AAEZ,WAAK,WAAW,KAAK,UAAU;AAE/BS,aAAO,MAAM;QACT;QACA;QACA,QAAO,CAAC;QACR,SAAQ,oBAAI,IAAI;QAChB,UAAS,oBAAI,IAAI;MACrB,CAAC;AAED,WAAK,SAAS;IAClB;IAEA,WAAW;AACP,YAAM,EAAE,MAAM,MAAM,SAAS,IAAI;AACjC,YAAM,EAAE,QAAQ,MAAM,IAAI;AAE1B,UAAI,CAAC,OAAO,MAAM;AAAE,cAAM,KAAK,KAAK,YAAY,CAAC,UAAU,MAAM,CAAC;MAAG;AAErE,YAAM,QAAQ,KAAK,QAAQ;AAC3B,UAAI,CAAC,OAAO;AAAE,cAAM,KAAK,KAAK,WAAW,CAAC,UAAU,MAAM,CAAC;MAAG;AAE9D,iBAAW,QAAQ,OAAO;AACtB,YAAI;AAAE,eAAK,YAAY,IAAI;QAAG,SAAQ,KAAR;AAC1B,eAAK,WAAW,KAAK,CAAC,CAAC,UAAU,KAAK,OAAO,IAAI,CAAC,CAAC;QACvD;MACJ;AAEA,UAAI,UAAU,WAAW,SAAS,OAAO,GAAG;AAAE;MAAQ;AAEtD,WAAK,KAAK,SAAS,CAAC,UAAU,MAAM,CAAC;IACzC;IAEA,YAAY,MAAM;AACd,YAAM,EAAE,MAAM,OAAO,OAAO,QAAQ,SAAS,IAAI;AACjD,YAAM,EAAE,MAAK,SAAS,QAAQ,MAAM,IAAI;AACxC,YAAM,EAAE,MAAK,SAAS,QAAO,EAAE,MAAM,SAAS,SAAS,UAAU,EAAE,IAAI;AAEvE,YAAM,SAAS,MAAM,eAAe,IAAI;AACxC,YAAM,SAAU,UAAU,UAAW;AAErC,aAAO,IAAI,IAAI,OAAO,IAAI;AAG1B,UAAI,UAAU,UAAU,SAAS;AAC7B,YAAI,QAAQ;AAAE,eAAK,MAAM;QAAG;AAC5B,YAAI,SAAS;AAAE,eAAK,SAAS;QAAG;MACpC;AAEA,UAAI,WAAW;AAAE;MAAQ;AACzB,UAAI,SAAS;AAAE,iBAAS,IAAI,IAAI;AAAG;MAAQ;AAC3C,UAAI,UAAU,UAAU,WAAW;AAAE;MAAQ;AAE7C,UAAI,SAAS,QAAQ;AAAE,iBAAS,IAAI,IAAI;AAAG;MAAQ;AACnD,UAAI,SAAS;AAAE,cAAM,IAAI,IAAI,OAAO,IAAI;AAAG,iBAAS,IAAI,IAAI;AAAG;MAAQ;IAC3E;IAEA,UAAU;AACN,YAAM,EAAE,SAAS,IAAI;AACrB,iBAAW,QAAQ,UAAU;AAAE,aAAK,KAAK,IAAI;MAAG;AAChD,aAAO;IACX;IAEA,KAAK,MAAM;AACP,YAAM,EAAE,MAAM,MAAM,UAAU,QAAQ,OAAO,QAAQ,IAAI;AACzD,YAAM,EAAE,OAAO,SAAS,OAAO,IAAI;AACnC,YAAM,EAAE,MAAM,WAAW,IAAI,KAAK;AAElC,UAAI,SAAS,IAAI,IAAI,GAAG;AACpB,cAAM,EAAE,QAAAM,QAAO,IAAI,KAAK;AAGxB,iBAAS,OAAO,IAAI;AAEpB,YAAI;AACAA,kBAAO,MAAM,IAAI,GAAG,SAAS,UAAU,UAAU,SAAS,QAAW,MAAM;QAC/E,SAAQ,KAAR;AACI,eAAK,WAAW,KAAK,CAAC,CAAC,UAAU,IAAI,CAAC,CAAC;QAC3C;AAGA,YAAI,OAAO,IAAI,MAAM,KAAK,OAAO,IAAI,GAAG;AACpC,kBAAQ,IAAI,IAAI;AAChB,cAAI,CAAC,YAAY;AAAE,iBAAK,WAAW;UAAM;QAC7C;MAEJ;AAEA,aAAO,OAAO,IAAI;IACtB;IAEA,OAAO,MAAM;AACT,YAAM,EAAE,MAAM,OAAO,IAAI;AACzB,UAAI,MAAM;AAAE,aAAK,SAAS;MAAQ;AAClC,aAAO,KAAK;AACZ,aAAO,KAAK;IAChB;EAEJ;AC1GA,MAAM,YAAY;IACd;;IACA;;IACA;;IACA;;IACA;;IACA;;IACA;;IACA;;IACA;;EACJ;AAEA,MAAM,eAAe,CAAC,QAAQ,SAAO;AACjC,UAAM,EAAE,IAAAR,KAAI,SAAS,IAAI,IAAI;AAE7B,UAAM,EAAE,MAAM,IAAI;AAClB,WAAO,QAAQ,MAAM,KAAKA,GAAE,IAAI;EACpC;AAEA,MAAM,eAAe,CAAC,QAAQ,SAAS;AACnC,UAAM,EAAE,IAAAA,KAAI,SAAS,KAAK,QAAQ,EAAE,IAAI;AAGxC,UAAM,EAAE,QAAAS,QAAO,IAAK,SAAS,OAAO,EAAE,IAAI,KAAK,IAAI;AAEnD,UAAM,SAAS,EAAE,QAAQ,QAAQ,CAAA,SAAQT,IAAG,IAAI,EAAE,KAAK,MAAM,KAAK,IAAI,CAAAU,OAAKD,QAAOC,IAAG,GAAG;AACxF,UAAM,IAAI,CAAC,EAAE,SAAS,SAAS,CAAA,MAAK,QAAQ,GAAG,MAAM;AAErD,WAAO,CAAC,MAAM,SAAS,WAAS;AAC5B,aAAO,EAAE,IAAI;AAEb,aAAO;IACX;EACJ;AAEA,MAAM,eAAe,CAAC,QAAQ,SAAS;AACnC,UAAM,EAAE,SAAS,KAAK,QAAQ,EAAE,IAAI;AAEpC,UAAM,EAAE,MAAM,SAAS,WAAW,YAAAC,aAAY,SAAS,MAAM,YAAAC,aAAY,OAAO,IAAI;AACpF,UAAM,EAAE,QAAAJ,QAAO,IAAK,SAAS,OAAO,EAAE,IAAI,KAAK,IAAI;AAEnD,UAAM,SAAS,CAAA,MAAK,OAAO,CAAC,IAAI,SAAYA,QAAO,GAAG,GAAG;AACzD,UAAM,IAAI,CAAC,SAAS,SAAS,CAAA,MAAK,OAAO,CAAC,IAAI,SAAY,QAAQ,GAAG,MAAM;AAE3E,WAAO,CAACd,KAAI,SAAS,QAAQ,WAAW;AACpC,YAAM,SAAS,OAAO;AACtB,UAAI,SAAS;AAAE,QAAAA,MAAK,OAAO,IAAI,IAAI,EAAE,QAAQ,SAAS,QAAQ,MAAM,CAAC;MAAG,OACnE;AACD,YAAIiB,eAAcA,YAAW,SAAS,QAAQ,MAAM,GAAG;AACnD,cAAI,QAAQ;AAAE,iBAAK,YAAY,CAAC,aAAa,MAAM,GAAG,CAAC,WAAWjB,GAAE,CAAC;UAAG;QAC5E,OAAO;AACH,UAAAA,MAAK,OAAO,IAAI,IAAI,EAAEA,GAAE;AACxB,cAAI,aAAa,CAAC,UAAU,SAAS,QAAQ,MAAM,GAAG;AAClDL,kBAAK,WAAW,CAAC,WAAWK,GAAE,CAAC;UACnC;QACJ;AAEA,YAAK,CAAC,UAAU,OAAOA,GAAE,KAAO,WAAW,QAAQ,SAAS,QAAQ,MAAM,GAAI;AAC1E,UAAAA,MAAK,OAAO,IAAI,IAAI,CAAC,OAAO,SAAY,EAAE,KAAK,SAAS,QAAQ,MAAM,CAAC;QAC3E;MACJ;AAEA,UAAIkB,eAAc,OAAOlB,GAAE,KAAKkB,YAAW,SAAS,QAAQ,MAAM,GAAG;AAAEvB,cAAK,UAAU;MAAG;AAEzF,aAAO,OAAO,IAAI;IACtB;EACJ;AAEA,MAAM,eAAe,CAAA,SAAQ;AACzB,UAAM,SAAS,CAAC;AAChB,WAAO,QAAQ,QAAQ,CAAC,GAAG;MACvB,QAAO,CAAA,MAAG,aAAa,QAAQ,IAAI;MACnC,QAAO,CAAA,MAAG,aAAa,QAAQ,IAAI;MACnC,QAAO,CAAA,MAAG,aAAa,QAAQ,IAAI;IACvC,CAAC;EACL;AAEO,MAAM,UAAU,CAAC,SAAS;AAC7B,UAAM,EAAE,KAAK,QAAQ,EAAE,MAAM,KAAK,KAAK,EAAE,IAAI;AAC7C,QAAI,SAAS,SAAS;AAAE;IAAQ;AAEhC,QAAI,UAAU,SAAS,IAAI,GAAG;AAC1B,YAAMA,MAAK,aAAa,CAAC,UAAU,MAAM,GAAG,CAAC,WAAW,IAAI,CAAC;IACjE;AAEA,QAAI,UAAU,IAAI,KAAK,GAAG,GAAG,MAAM,IAAI;AAEvCQ,IAAAA,OAAM,MAAM,UAAU,aAAa,IAAI,GAAG,MAAM,IAAI;EACxD;AAEO,MAAM,UAAU,CAAC,SAAS;AAC7B,UAAM,EAAE,KAAK,QAAQ,EAAE,MAAM,KAAK,KAAK,EAAE,IAAI;AAC7C,QAAI,SAAS,SAAS;AAAE;IAAQ;AAEhC,QAAI,UAAU,OAAO,KAAK,GAAG,GAAG,IAAI;EACxC;AX3FO,MAAM,gBAAN,MAAoB;IAEvB,YAAYG,KAAI,QAAQ;AAEpB,WAAK,QAAQ;AACb,YAAM,IAAI,KAAK,SAAS,OAAO,OAAO,CAAC,GAAG,MAAM;AAEhD,QAAE,OAAO,KAAK,EAAE,IAAI;AACpB,UAAI,EAAE,SAAS,SAAS;AAAE,UAAE,MAAM,KAAK,EAAE,GAAG;MAAG;AAE/C,WAAK,OAAO,UAAU,EAAE,IAAI,IAAI,EAAE,OAAO;AAEzCE,aAAO,MAAM;QACT,KAAI,MAAM,IAAIF,GAAE;QAChB,IAAAA;QACA,SAAS,aAAa,MAAM,IAAI;QAChC,QAAQ,aAAa,MAAM,KAAK;MACpC,CAAC;AAED,aAAO,IAAI;IACf;IAEA,KAAK,WAAW,OAAO;AACnB,YAAM,EAAE,IAAI,KAAK,IAAI,KAAK;AAC1B,aAAOX,MAAK,QAAQ,CAAC,UAAU,IAAI,GAAG,CAAC,UAAU,EAAE,GAAG,GAAG,KAAK;IAClE;IAEA,KAAK,MAAM;AACP,YAAM,EAAE,OAAO,OAAO,IAAI;AAC1B,UAAI,UAAU,WAAW;AAAE,aAAK,KAAK,aAAa;MAAG;AACrD,WAAK,OAAO,MAAM,MAAM,QAAQ,IAAI;AACpC,WAAK,QAAQ;AACb,aAAO;IACX;IAEA,QAAQ;AACJ,YAAM,EAAE,IAAAW,KAAI,OAAO,SAAS,MAAM,KAAK,IAAI;AAC3C,UAAI,UAAU,QAAQ;AAAE,aAAK,KAAK,UAAU;MAAG;AAE/C,WAAK,QAAQ;AACb,WAAK,QAAQ;AACb,kBAAYA,KAAI,SAAS,IAAI;AAE7B,aAAO;IACX;IAEA,OAAO,MAAM,QAAQa,SAAM,OAAO;AAC9B,YAAM,EAAE,OAAO,IAAAb,KAAI,QAAQ,IAAI;AAC/B,UAAI,UAAU,SAAS;AAAE,aAAK,KAAK,WAAW;MAAG;AAEjD,WAAK,OAAO,MAAM,MAAM,QAAQa,MAAK,EAAE,QAAQ;AAC/C,kBAAYb,KAAI,SAAS,IAAI;AAE7B,aAAO;IACX;IAEA,SAAS;AACL,YAAM,IAAI,CAAC;AACX,iBAAW,QAAQ,KAAK,QAAQ,GAAG;AAC/B,cAAM,EAAE,MAAM,MAAK,EAAE,MAAM,EAAE,IAAI,KAAK;AACtC,YAAIV,SAAQ,KAAK,OAAO,MAAM,IAAI;AAClC,YAAIA,UAAS,MAAM;AAAE;QAAU;AAC/B,UAAE,IAAI,IAAI,QAAQ,MAAMA,MAAK,IAAIA;MACrC;AACA,aAAO;IACX;IAEA,eAAe;AAAE,aAAO,KAAK,IAAI,UAAU,KAAK,KAAK,OAAO,IAAI;IAAG;IACnE,UAAU;AAAE,aAAO,KAAK,IAAI,UAAU,OAAO,KAAK,OAAO,IAAI;IAAG;IAEhE,OAAO,SAAS,YAAU,MAAM;AAC5B,YAAM,EAAE,KAAK,MAAM,SAAS,QAAQ,QAAQ,MAAM,IAAI;AACtD,YAAMA,SAAQ,OAAO,OAAO;AAE5B,YAAM,OAAO,IAAI,UAAU,IAAI,OAAO,MAAM,OAAO;AACnD,UAAI,CAAC,MAAM;AAAE,eAAO,UAAU,UAAU,SAAYA;MAAO;AAE3D,YAAM,IAAI,KAAK;AAEf,UAAI,CAAC,WAAW;AAAE,eAAO,EAAE,OAAOA,QAAO,SAAS,MAAM;MAAG;AAE3D,YAAM,EAAE,UAAU,IAAK,SAAS,OAAQ,SAAS,KAAK;AAEtD,UAAI,CAAC,WAAW;AAAE,eAAO,EAAE,OAAO,OAAO,KAAK,KAAK,IAAI,IAAIA,QAAO,SAAS,MAAM;MAAG;AAEpF,aAAO,EAAE,OAAO,EAAE,OAAOA,QAAO,SAAS,UAAU,UAAU,SAAS,QAAW,MAAM,GAAG,SAAS,MAAM;IAE7G;IAEA,OAAO,SAAS;AACZ,YAAM,EAAE,KAAK,OAAO,IAAI;AACxB,aAAO,IAAI,UAAU,IAAI,OAAO,MAAM,OAAO;IACjD;EAEJ;AYpGA,MAAM,MAAM,CAAC,MAAM,WAAS;AACxB,UAAM,EAAE,IAAAU,IAAG,IAAI;AAEf,UAAM,OAAO,IAAI,cAAcA,KAAI,MAAM;AACzC,SAAK,KAAK,IAAI,EAAE,MAAM;AAEtB,WAAO;EACX;AAEA,MAAM,OAAO,CAAC,MAAM,SAAO;AACvB,UAAM,EAAE,QAAQ,IAAI,KAAK;AACzB,SAAK,OAAO,EAAE,QAAQ,CAAC;AACvB,SAAK,KAAK,OAAO,IAAI;EACzB;AAEA,MAAM,WAAW,CAAC,MAAM,SAAO;AAC3B,UAAM,EAAE,IAAAA,IAAG,IAAI;AACf,QAAI,CAAC,MAAM;AAAE;IAAQ;AAErB,iBAAaA,KAAI,KAAK,OAAO;AAC7B,SAAK,KAAK,OAAO,KAAK;AACtB,SAAK,OAAO,QAAQ;AACpB,aAAS,IAAI;EACjB;AAGO,MAAM,UAAU,SAAS,KAAK,MAAM,QAAQ;ACxBnD,MAAMM,OAAM,CAACO,QAAO,MAAM,WAAS;AAC/B,UAAM,EAAE,IAAAb,IAAG,IAAI;AAEf,QAAI,OAAO,IAAI,cAAcA,KAAI,MAAM,EAAE,KAAK,IAAI;AAClD,UAAM,EAAE,MAAM,GAAG,IAAI,KAAK;AAE1B,UAAM,UAAU,YAAYA,KAAI,KAAK,IAAI,GAAG,EAAE;AAE9C,QAAI,CAAC,SAAS;AACV,WAAK,MAAM;AACX,aAAO,CAAC,MAAM,IAAI;IACtB,OAAO;AACH,eAAS,IAAI;AACb,aAAO,YAAYA,KAAI,OAAO;AAC9B,WAAK,OAAO,MAAM,QAAQa,MAAK;AAC/B,aAAO,CAAC,MAAM,KAAK;IACvB;EACJ;AAEA,MAAMT,QAAO,CAAC,MAAM,CAAC,MAAM,KAAK,MAAI;AAChC,UAAM,EAAE,QAAQ,IAAI,KAAK;AACzB,SAAK,OAAO,EAAE,QAAQ,CAAC;AACvB,SAAK,KAAK,OAAO,IAAI;EACzB;AAEA,MAAMC,YAAW,CAAC,MAAM,QAAM;AAC1B,QAAI,CAAC,KAAK;AAAE;IAAQ;AACpB,UAAM,CAAC,MAAM,KAAK,IAAI;AAEtB,QAAI,OAAO;AAAE,mBAAa,IAAI,KAAK,OAAO;IAAG;AAE7C,SAAK,KAAK,OAAO,KAAK;AACtB,SAAK,OAAO,QAAQ;AAEpB,QAAI,OAAO;AAAE,eAAS,IAAI;IAAG,OACxB;AAAE,kBAAY,IAAI,KAAK,OAAO;IAAG;EAC1C;AAGA,MAAM,SAAS,IAAI,MAAIC,KAAI,MAAM,GAAG,CAAC;AACrC,MAAM,YAAY,IAAI,MAAIA,KAAI,OAAO,GAAG,CAAC;AAElC,MAAM,eAAe,SAAS,QAAQF,OAAMC,SAAQ;AACpD,MAAM,kBAAkB,SAAS,WAAWD,OAAMC,SAAQ;AC9CjE,MAAMC,OAAM,CAACO,QAAO,MAAM,QAAQ,WAAS;AACvC,UAAM,EAAE,IAAAb,IAAG,IAAI;AACf,UAAM,OAAO,YAAYA,KAAI,MAAM;AAEnC,SAAK,OAAO,MAAM,QAAQa,MAAK;AAE/B,WAAO;EACX;AAEA,MAAMT,QAAO,CAAC,MAAM,SAAO;AACvB,UAAM,EAAE,QAAQ,IAAI,KAAK;AACzB,SAAK,OAAO,EAAE,QAAQ,CAAC;AACvB,SAAK,KAAK,OAAO,IAAI;EACzB;AAEA,MAAMC,YAAW,CAAC,MAAM,SAAO;AAC3B,UAAM,EAAE,IAAAL,IAAG,IAAI;AACf,QAAI,CAAC,MAAM;AAAE;IAAQ;AAErB,SAAK,KAAK,OAAO,KAAK;AACtB,SAAK,OAAO,QAAQ;AACpB,gBAAYA,KAAI,KAAK,OAAO;EAChC;AAGA,MAAMc,aAAY,IAAI,MAAIR,KAAI,OAAO,GAAG,CAAC;AACzC,MAAMS,UAAS,IAAI,MAAIT,KAAI,MAAM,GAAG,CAAC;AAE9B,MAAM,UAAU,SAASS,SAAQX,OAAMC,SAAQ;AAC/C,MAAM,aAAa,SAASS,YAAWV,OAAMC,SAAQ;AC3B5D,MAAMC,OAAM,CAAC,MAAM,QAAQ,QAAM,UAAQ;AACrC,UAAM,EAAE,IAAAN,IAAG,IAAI;AACf,UAAM,OAAO,YAAYA,KAAI,MAAM;AAEnC,QAAI,CAAC,SAAS,KAAK,MAAM;AAAE,WAAK,KAAK,SAAS;IAAG;AAEjDJ,kBAAaI,KAAI,QAAQ,IAAI;AAE7B,WAAO;EACX;AAEA,MAAMI,QAAO,CAAC,MAAM,SAAO;AACvB,aAAS,IAAI;EACjB;AAEA,MAAMC,YAAW,CAAC,MAAM,SAAO;AAC3B,UAAM,EAAE,IAAAL,IAAG,IAAI;AACf,QAAI,CAAC,MAAM;AAAE;IAAQ;AACrB,gBAAYA,KAAI,KAAK,OAAO;EAChC;AAEA,MAAM,iBAAiB,CAAC,MAAM,WAASM,KAAI,MAAM,QAAQ,IAAI;AAC7D,MAAM,YAAY,CAAC,MAAM,WAASA,KAAI,MAAM,QAAQ,KAAK;AAGlD,MAAM,aAAa,SAAS,WAAWF,OAAMC,SAAQ;AACrD,MAAM,kBAAkB,SAAS,gBAAgBD,OAAMC,SAAQ;AC7B/D,MAAM,UAAU,CAAC,MAAM,SAAO;AACjC,UAAM,EAAE,IAAAL,KAAI,QAAO,EAAE,MAAM,GAAG,EAAE,IAAI;AACpC,QAAI,SAAS,SAAS;AAAE;IAAQ;AAEhCA,QAAG,IAAI,EAAC,MAAK,SAAS,KAAI,IAAI,MAAK,QAAQ,MAAK,OAAO,KAAI,SAAS,MAAK,GAAG,YAAW,SAAS,YAAW,QAAO,GAAG,KAAK,OAAO;AACjIA,QAAG,IAAI,EAAC,MAAK,SAAS,KAAI,IAAI,MAAK,MAAM,MAAK,UAAU,MAAK,GAAG,YAAW,SAAS,YAAW,QAAO,GAAG,KAAK,OAAO;EACzH;AAEO,MAAM,UAAU,CAAC,MAAM,SAAO;AACjC,UAAM,EAAE,KAAK,IAAAA,KAAI,QAAO,EAAE,MAAM,GAAG,EAAE,IAAI;AACzC,QAAI,SAAS,SAAS;AAAE;IAAQ;AAEhC,eAAW,QAAQ,IAAI,UAAU,OAAO,EAAE,GAAG;AAAE,sBAAgBA,KAAI,CAAC,KAAK,OAAO,GAAG,KAAK,OAAO;IAAG;AAAC;EACvG;ACJO,MAAM,UAAU,CAACA,KAAI,MAAM,MAAM,SAAO;AAC3C,UAAM,SAAS,oBAAI,IAAI;AAEvB,UAAM,WAAW,CAAC,MAAM,YAAU;AAC9B,aAAO,IAAI,IAAI;AACf,iBAAW,MAAM,SAAS;AACtB,cAAM,OAAO,IAAI,cAAcA,KAAI,aAAa,MAAM,IAAI,QAAQ,EAAE,CAAC,CAAC;AACtE,oBAAYA,KAAI,KAAK,OAAO;MAChC;AAAC;IACL;AAEA,aAAS,SAAU,EAAC,GAAG,SAAS,OAAO,GAAI,KAAK,SAAS,CAAC,EAAE,CAAE;AAC9D,aAAS,UAAW,EAAC,GAAG,SAAS,QAAQ,GAAI,KAAK,UAAU,CAAC,EAAE,CAAE;AACjE,aAAS,SAAU,EAAC,GAAG,SAAS,OAAO,GAAI,KAAK,SAAS,CAAC,EAAE,CAAE;AAG9D,eAAW,CAAC,IAAI,KAAK,aAAaA,KAAI,OAAO,GAAG;AAC5C,UAAI,CAAC,OAAO,IAAI,IAAI,GAAG;AAAE,iBAAS,MAAM,KAAK,IAAI,CAAC;MAAG;IACzD;AAGA,eAAW,CAAC,GAAG,GAAG,KAAK,aAAaA,KAAI,OAAO,GAAG;AAC9C,YAAM,OAAO,YAAYA,KAAI,GAAG;AAChC,cAAQ,IAAI;IAChB;AAGA,UAAM,QAAQ,CAAC;AACf,eAAW,CAAC,GAAG,KAAK,gBAAgBA,GAAE,GAAG;AACrC,YAAM,OAAO,YAAYA,KAAI,GAAG;AAChC,UAAI,KAAK,UAAU,WAAW;AAAE,cAAM,KAAK,KAAK,KAAK,IAAI,CAAC;MAAG;IACjE;AAGA,eAAW,QAAQ,OAAO;AAAE,WAAK,MAAM;IAAG;AAE1CA,QAAG,IAAI,CAAC,MAAM,OAAOgB,UAAO;AACxB,YAAM,EAAE,OAAO,IAAIA;AACnB,WAAK;AAEL,YAAM,OAAO,YAAYhB,KAAI,MAAM;AAEnC,UAAI,UAAU,OAAO;AACjB,gBAAQgB,OAAM,IAAI;AAClB,gBAAQ,IAAI;MAChB,WACS,UAAU,UAAU;AACzB,gBAAQ,IAAI;MAChB,WACS,UAAU,UAAU;AACzB,gBAAQA,OAAM,IAAI;AAClB,gBAAQ,IAAI;MAChB;IAEJ,CAAC;AAEDhB,QAAG,OAAO,CAAC,OAAOgB,UAAO;AACrB,YAAM,EAAE,OAAO,IAAIA;AAEnB,YAAM,KAAK,OAAO,OAAO;AACzB,YAAM,EAAE,MAAM,GAAG,IAAI;AACrB,aAAO,GAAG;AACV,aAAO,GAAG;AAEV,WAAK,MAAM,IAAI,UAAU,WAAW,SAAa,EAAE;IAEvD,CAAC;EAEL;AChEO,MAAM,KAAN,cAAiB,KAAK;IAEzB,YAAY,IAAI,MAAI,CAAC,GAAG;AAEpB,YAAM,EAAE,MAAM,KAAK,IAAI;AAEvB,YAAM,IAAI;QACN,OAAM,CAAA,QAAK,KAAK,IAAI,EAAE;QACtB,UAAS,CAAA,QAAK,KAAK,IAAI,IAAI;MAC/B,CAAC;AAED,YAAM,KAAK,MAAM,IAAI,IAAI;AACzB,SAAG,YAAY,IAAI,SAAS;AAE5B,cAAQ,MAAM,KAAK,OAAO,IAAI,GAAG,MAAM,IAAI;IAE/C;IAEA,SAAS,KAAKjB,cAAW,OAAO;AAAE,aAAO,CAAC,CAAC,YAAY,KAAKA,WAAU;IAAG;IAEzE,IAAI,QAAQA,cAAW,OAAO,UAAQ,MAAM;AAAE,aAAO,QAAQ,MAAM,WAAWA,aAAY,OAAO;IAAG;IAEpG,SAAS,QAAQA,cAAW,OAAO,UAAQ,MAAM;AAAE,aAAO,aAAa,MAAM,WAAWA,aAAY,OAAO;IAAG;IAC9G,YAAY,QAAQA,cAAW,OAAO,UAAQ,MAAM;AAAE,aAAO,gBAAgB,MAAM,WAAWA,aAAY,OAAO;IAAG;IAEpH,IAAI,QAAQ,QAAQA,cAAW,OAAO,UAAQ,MAAM;AAAE,aAAO,QAAQ,MAAM,WAAWA,aAAY,OAAO;IAAG;IAC5G,OAAO,QAAQ,QAAQA,cAAW,OAAO,UAAQ,MAAM;AAAE,aAAO,WAAW,MAAM,WAAWA,aAAY,OAAO;IAAG;IAElH,OAAO,QAAQA,cAAW,OAAO,UAAQ,MAAM;AAAE,aAAO,WAAW,MAAM,WAAWA,aAAY,OAAO;IAAG;IAE1G,MAAM,SAAS,OAAO,QAAQA,cAAa,OAAO,UAAQ,MAAM;AAC5D,aAAO,KAAK,IAAI,KAAK,IAAI,SAAS,OAAOA,WAAU,GAAG,QAAQA,aAAY,OAAO;IACrF;IAEA,SAAS,SAAS,OAAO,QAAQA,cAAa,OAAO,UAAQ,MAAM;AAC/D,aAAO,KAAK,OAAO,KAAK,IAAI,SAAS,OAAOA,WAAU,GAAG,QAAQA,aAAY,OAAO;IACxF;IAEA,SAAS,SAAS,OAAOA,cAAa,OAAO,UAAQ,MAAM;AACvD,aAAO,KAAK,OAAO,KAAK,IAAI,SAAS,OAAOA,WAAU,GAAGA,aAAY,OAAO;IAChF;EAEJ;;;A1GnDA,MAAM,SAASkB,QAAe,aAAa,KAAK,OAAK,GAAG;AACjD,MAAM,UAAU,IAAI,aAAc,MAAM;AAE/C,MAAM,OAAO,OAAO,OAAO,QAAQ,WAAW,MAAM;AAEpD,OAAK,IAAI,EAAE,KAAK,UAAM;AAClB,UAAMC,MAAK,OAAO,KAAK,IAAI,GAAG,MAAM;AAAA,MAChC;AAAA,MACA,MAAK,CAAC,SAAS,OAAO,QAAM;AACxB,YAAI,KAAK;AACL,gBAAM,MAAM,KAAK,OAAO,MAAM,KAAK,OAAO,IAAI,CAAC;AAC/C,cAAI,KAAK,IAAI;AAAA,QACjB,WAAW,KAAK,OAAO,GAAG;AACtB,gBAAM,MAAM,KAAK,OAAO;AACxB,iBAAO,IAAI,KAAK;AAAA,QACpB;AACA,gBAAQ,IAAI,IAAI;AAChB,aAAK,IAAI,IAAI;AAAA,MACjB;AAAA,IACJ,CAAC;AAED,IAAAA,IAAG,IAAI,CAAC,MAAM,OAAO,YAAU;AAC3B,cAAQ,IAAI,OAAO,OAAO,OAAO;AACjC,aAAO,KAAK;AAAA,IAChB,CAAC;AAAA,EAEL,CAAC;",
  "names": ["value", "brand", "styles", "chalk", "styles", "level", "self", "chalk", "log", "self", "withNativeArrayBuffer", "isBinary", "on", "decode", "_a", "value", "decode", "msg", "to", "protocol", "protocol", "withNativeArrayBuffer", "isView", "withNativeBlob", "protocol", "PacketType", "value", "RESERVED_EVENTS", "Socket", "self", "socket", "self", "Socket", "lookup", "Socket", "toArray", "args", "self", "extend", "socket", "exe", "exe", "enumerable", "register", "_privates", "socket", "beam", "self", "msg", "proto", "enumerable", "exe", "to", "value", "is", "isFull", "copy", "extend", "__export", "toArray", "toString", "ctx", "json", "throwError", "to", "log", "solid", "cached", "__defProp", "__export", "solid", "value", "enumerable", "virtual", "safe", "cached", "enumerable", "safe", "split", "to", "__export", "fail", "value", "info", "msg", "toString", "to", "filter", "_chopSyncOut", "solid", "x", "throwError", "db", "json", "solids", "virtuals", "roll", "rollback", "exe", "parseRegExp", "setter", "getter", "v", "isReadonly", "isRequired", "isSet", "exeUpdate", "exeSet", "task", "lookup", "db"]
}
